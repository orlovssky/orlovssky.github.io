(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0f0e84e6"],{"033b":function(t,e,a){},"04ca":function(t,e,a){"use strict";var s=a("457de"),n=a("eb94"),o=a("8362");t.exports=function(t){if(!t)return!1;if(s(t))return!0;if(o(t)||n(t))return!1;t=Object(t);var e="length"in t&&t.length;return!(1!==t.nodeType||!e)||(0===e||"number"===typeof e&&e>0&&e-1 in t)}},"11bf":function(t,e,a){"use strict";var s=a("14bd"),n=a("fec5"),o=a("c857"),i=a("8362"),c=NaN;t.exports=function(t){if(s(t))return 0;var e=typeof t;if("number"===e)return t;if("boolean"===e)return t?1:0;if(n(t))return c;if(o(t)){var a=i(t.valueOf)?t.valueOf():t;t=o(a)?a+"":a}return e=typeof t,"string"!==e?"number"===e?t:parseInt(t,10):(t=t.replace(/^\s+|\s+$/g,""),/^0b[01]+$/i.test(t)?parseInt(t.slice(2),2):/^0o[0-7]+$/i.test(t)?parseInt(t.slice(2),8):/^0x[0-9a-f]+$/i.test(t)?parseInt(t.slice(2),16):/^0b/i.test(t)||/^0o/i.test(t)||/^[\+\-]?0x/i.test(t)?c:parseInt(t,10))}},"14bd":function(t,e,a){"use strict";t.exports=function(t){return null==t}},1696:function(t,e,a){"use strict";t.exports=function(){if("function"!==typeof Symbol||"function"!==typeof Object.getOwnPropertySymbols)return!1;if("symbol"===typeof Symbol.iterator)return!0;var t={},e=Symbol("test"),a=Object(e);if("string"===typeof e)return!1;if("[object Symbol]"!==Object.prototype.toString.call(e))return!1;if("[object Symbol]"!==Object.prototype.toString.call(a))return!1;var s=42;for(e in t[e]=s,t)return!1;if("function"===typeof Object.keys&&0!==Object.keys(t).length)return!1;if("function"===typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(t).length)return!1;var n=Object.getOwnPropertySymbols(t);if(1!==n.length||n[0]!==e)return!1;if(!Object.prototype.propertyIsEnumerable.call(t,e))return!1;if("function"===typeof Object.getOwnPropertyDescriptor){var o=Object.getOwnPropertyDescriptor(t,e);if(o.value!==s||!0!==o.enumerable)return!1}return!0}},1945:function(t,e){t.exports=["aaa","aarp","abarth","abb","abbott","abbvie","abc","able","abogado","abudhabi","ac","academy","accenture","accountant","accountants","aco","actor","ad","adac","ads","adult","ae","aeg","aero","aetna","af","afl","africa","ag","agakhan","agency","ai","aig","airbus","airforce","airtel","akdn","al","alfaromeo","alibaba","alipay","allfinanz","allstate","ally","alsace","alstom","am","amazon","americanexpress","americanfamily","amex","amfam","amica","amsterdam","analytics","android","anquan","anz","ao","aol","apartments","app","apple","aq","aquarelle","ar","arab","aramco","archi","army","arpa","art","arte","as","asda","asia","associates","at","athleta","attorney","au","auction","audi","audible","audio","auspost","author","auto","autos","avianca","aw","aws","ax","axa","az","azure","ba","baby","baidu","banamex","bananarepublic","band","bank","bar","barcelona","barclaycard","barclays","barefoot","bargains","baseball","basketball","bauhaus","bayern","bb","bbc","bbt","bbva","bcg","bcn","bd","be","beats","beauty","beer","bentley","berlin","best","bestbuy","bet","bf","bg","bh","bharti","bi","bible","bid","bike","bing","bingo","bio","biz","bj","black","blackfriday","blockbuster","blog","bloomberg","blue","bm","bms","bmw","bn","bnpparibas","bo","boats","boehringer","bofa","bom","bond","boo","book","booking","bosch","bostik","boston","bot","boutique","box","br","bradesco","bridgestone","broadway","broker","brother","brussels","bs","bt","bugatti","build","builders","business","buy","buzz","bv","bw","by","bz","bzh","ca","cab","cafe","cal","call","calvinklein","cam","camera","camp","cancerresearch","canon","capetown","capital","capitalone","car","caravan","cards","care","career","careers","cars","casa","case","cash","casino","cat","catering","catholic","cba","cbn","cbre","cbs","cc","cd","center","ceo","cern","cf","cfa","cfd","cg","ch","chanel","channel","charity","chase","chat","cheap","chintai","christmas","chrome","church","ci","cipriani","circle","cisco","citadel","citi","citic","city","cityeats","ck","cl","claims","cleaning","click","clinic","clinique","clothing","cloud","club","clubmed","cm","cn","co","coach","codes","coffee","college","cologne","com","comcast","commbank","community","company","compare","computer","comsec","condos","construction","consulting","contact","contractors","cooking","cookingchannel","cool","coop","corsica","country","coupon","coupons","courses","cpa","cr","credit","creditcard","creditunion","cricket","crown","crs","cruise","cruises","cu","cuisinella","cv","cw","cx","cy","cymru","cyou","cz","dabur","dad","dance","data","date","dating","datsun","day","dclk","dds","de","deal","dealer","deals","degree","delivery","dell","deloitte","delta","democrat","dental","dentist","desi","design","dev","dhl","diamonds","diet","digital","direct","directory","discount","discover","dish","diy","dj","dk","dm","dnp","do","docs","doctor","dog","domains","dot","download","drive","dtv","dubai","dunlop","dupont","durban","dvag","dvr","dz","earth","eat","ec","eco","edeka","edu","education","ee","eg","email","emerck","energy","engineer","engineering","enterprises","epson","equipment","er","ericsson","erni","es","esq","estate","et","etisalat","eu","eurovision","eus","events","exchange","expert","exposed","express","extraspace","fage","fail","fairwinds","faith","family","fan","fans","farm","farmers","fashion","fast","fedex","feedback","ferrari","ferrero","fi","fiat","fidelity","fido","film","final","finance","financial","fire","firestone","firmdale","fish","fishing","fit","fitness","fj","fk","flickr","flights","flir","florist","flowers","fly","fm","fo","foo","food","foodnetwork","football","ford","forex","forsale","forum","foundation","fox","fr","free","fresenius","frl","frogans","frontdoor","frontier","ftr","fujitsu","fun","fund","furniture","futbol","fyi","ga","gal","gallery","gallo","gallup","game","games","gap","garden","gay","gb","gbiz","gd","gdn","ge","gea","gent","genting","george","gf","gg","ggee","gh","gi","gift","gifts","gives","giving","gl","glass","gle","global","globo","gm","gmail","gmbh","gmo","gmx","gn","godaddy","gold","goldpoint","golf","goo","goodyear","goog","google","gop","got","gov","gp","gq","gr","grainger","graphics","gratis","green","gripe","grocery","group","gs","gt","gu","guardian","gucci","guge","guide","guitars","guru","gw","gy","hair","hamburg","hangout","haus","hbo","hdfc","hdfcbank","health","healthcare","help","helsinki","here","hermes","hgtv","hiphop","hisamitsu","hitachi","hiv","hk","hkt","hm","hn","hockey","holdings","holiday","homedepot","homegoods","homes","homesense","honda","horse","hospital","host","hosting","hot","hoteles","hotels","hotmail","house","how","hr","hsbc","ht","hu","hughes","hyatt","hyundai","ibm","icbc","ice","icu","id","ie","ieee","ifm","ikano","il","im","imamat","imdb","immo","immobilien","in","inc","industries","infiniti","info","ing","ink","institute","insurance","insure","int","international","intuit","investments","io","ipiranga","iq","ir","irish","is","ismaili","ist","istanbul","it","itau","itv","jaguar","java","jcb","je","jeep","jetzt","jewelry","jio","jll","jm","jmp","jnj","jo","jobs","joburg","jot","joy","jp","jpmorgan","jprs","juegos","juniper","kaufen","kddi","ke","kerryhotels","kerrylogistics","kerryproperties","kfh","kg","kh","ki","kia","kids","kim","kinder","kindle","kitchen","kiwi","km","kn","koeln","komatsu","kosher","kp","kpmg","kpn","kr","krd","kred","kuokgroup","kw","ky","kyoto","kz","la","lacaixa","lamborghini","lamer","lancaster","lancia","land","landrover","lanxess","lasalle","lat","latino","latrobe","law","lawyer","lb","lc","lds","lease","leclerc","lefrak","legal","lego","lexus","lgbt","li","lidl","life","lifeinsurance","lifestyle","lighting","like","lilly","limited","limo","lincoln","linde","link","lipsy","live","living","lk","llc","llp","loan","loans","locker","locus","loft","lol","london","lotte","lotto","love","lpl","lplfinancial","lr","ls","lt","ltd","ltda","lu","lundbeck","luxe","luxury","lv","ly","ma","macys","madrid","maif","maison","makeup","man","management","mango","map","market","marketing","markets","marriott","marshalls","maserati","mattel","mba","mc","mckinsey","md","me","med","media","meet","melbourne","meme","memorial","men","menu","merckmsd","mg","mh","miami","microsoft","mil","mini","mint","mit","mitsubishi","mk","ml","mlb","mls","mm","mma","mn","mo","mobi","mobile","moda","moe","moi","mom","monash","money","monster","mormon","mortgage","moscow","moto","motorcycles","mov","movie","mp","mq","mr","ms","msd","mt","mtn","mtr","mu","museum","music","mutual","mv","mw","mx","my","mz","na","nab","nagoya","name","natura","navy","nba","nc","ne","nec","net","netbank","netflix","network","neustar","new","news","next","nextdirect","nexus","nf","nfl","ng","ngo","nhk","ni","nico","nike","nikon","ninja","nissan","nissay","nl","no","nokia","northwesternmutual","norton","now","nowruz","nowtv","np","nr","nra","nrw","ntt","nu","nyc","nz","obi","observer","office","okinawa","olayan","olayangroup","oldnavy","ollo","om","omega","one","ong","onl","online","ooo","open","oracle","orange","org","organic","origins","osaka","otsuka","ott","ovh","pa","page","panasonic","paris","pars","partners","parts","party","passagens","pay","pccw","pe","pet","pf","pfizer","pg","ph","pharmacy","phd","philips","phone","photo","photography","photos","physio","pics","pictet","pictures","pid","pin","ping","pink","pioneer","pizza","pk","pl","place","play","playstation","plumbing","plus","pm","pn","pnc","pohl","poker","politie","porn","post","pr","pramerica","praxi","press","prime","pro","prod","productions","prof","progressive","promo","properties","property","protection","pru","prudential","ps","pt","pub","pw","pwc","py","qa","qpon","quebec","quest","racing","radio","re","read","realestate","realtor","realty","recipes","red","redstone","redumbrella","rehab","reise","reisen","reit","reliance","ren","rent","rentals","repair","report","republican","rest","restaurant","review","reviews","rexroth","rich","richardli","ricoh","ril","rio","rip","ro","rocher","rocks","rodeo","rogers","room","rs","rsvp","ru","rugby","ruhr","run","rw","rwe","ryukyu","sa","saarland","safe","safety","sakura","sale","salon","samsclub","samsung","sandvik","sandvikcoromant","sanofi","sap","sarl","sas","save","saxo","sb","sbi","sbs","sc","sca","scb","schaeffler","schmidt","scholarships","school","schule","schwarz","science","scot","sd","se","search","seat","secure","security","seek","select","sener","services","ses","seven","sew","sex","sexy","sfr","sg","sh","shangrila","sharp","shaw","shell","shia","shiksha","shoes","shop","shopping","shouji","show","showtime","si","silk","sina","singles","site","sj","sk","ski","skin","sky","skype","sl","sling","sm","smart","smile","sn","sncf","so","soccer","social","softbank","software","sohu","solar","solutions","song","sony","soy","spa","space","sport","spot","sr","srl","ss","st","stada","staples","star","statebank","statefarm","stc","stcgroup","stockholm","storage","store","stream","studio","study","style","su","sucks","supplies","supply","support","surf","surgery","suzuki","sv","swatch","swiss","sx","sy","sydney","systems","sz","tab","taipei","talk","taobao","target","tatamotors","tatar","tattoo","tax","taxi","tc","tci","td","tdk","team","tech","technology","tel","temasek","tennis","teva","tf","tg","th","thd","theater","theatre","tiaa","tickets","tienda","tiffany","tips","tires","tirol","tj","tjmaxx","tjx","tk","tkmaxx","tl","tm","tmall","tn","to","today","tokyo","tools","top","toray","toshiba","total","tours","town","toyota","toys","tr","trade","trading","training","travel","travelchannel","travelers","travelersinsurance","trust","trv","tt","tube","tui","tunes","tushu","tv","tvs","tw","tz","ua","ubank","ubs","ug","uk","unicom","university","uno","uol","ups","us","uy","uz","va","vacations","vana","vanguard","vc","ve","vegas","ventures","verisign","versicherung","vet","vg","vi","viajes","video","vig","viking","villas","vin","vip","virgin","visa","vision","viva","vivo","vlaanderen","vn","vodka","volkswagen","volvo","vote","voting","voto","voyage","vu","vuelos","wales","walmart","walter","wang","wanggou","watch","watches","weather","weatherchannel","webcam","weber","website","wed","wedding","weibo","weir","wf","whoswho","wien","wiki","williamhill","win","windows","wine","winners","wme","wolterskluwer","woodside","work","works","world","wow","ws","wtc","wtf","xbox","xerox","xfinity","xihuan","xin","कॉम","セール","佛山","ಭಾರತ","慈善","集团","在线","한국","ଭାରତ","点看","คอม","ভাৰত","ভারত","八卦","ישראל","موقع","বাংলা","公益","公司","香格里拉","网站","移动","我爱你","москва","қаз","католик","онлайн","сайт","联通","срб","бг","бел","קום","时尚","微博","淡马锡","ファッション","орг","नेट","ストア","アマゾン","삼성","சிங்கப்பூர்","商标","商店","商城","дети","мкд","ею","ポイント","新闻","家電","كوم","中文网","中信","中国","中國","娱乐","谷歌","భారత్","ලංකා","電訊盈科","购物","クラウド","ભારત","通販","भारतम्","भारत","भारोत","网店","संगठन","餐厅","网络","ком","укр","香港","亚马逊","诺基亚","食品","飞利浦","台湾","台灣","手机","мон","الجزائر","عمان","ارامكو","ایران","العليان","اتصالات","امارات","بازار","موريتانيا","پاکستان","الاردن","بارت","بھارت","المغرب","ابوظبي","البحرين","السعودية","ڀارت","كاثوليك","سودان","همراه","عراق","مليسيا","澳門","닷컴","政府","شبكة","بيتك","عرب","გე","机构","组织机构","健康","ไทย","سورية","招聘","рус","рф","تونس","大拿","ລາວ","みんな","グーグル","ευ","ελ","世界","書籍","ഭാരതം","ਭਾਰਤ","网址","닷넷","コム","天主教","游戏","vermögensberater","vermögensberatung","企业","信息","嘉里大酒店","嘉里","مصر","قطر","广东","இலங்கை","இந்தியா","հայ","新加坡","فلسطين","政务","xxx","xyz","yachts","yahoo","yamaxun","yandex","ye","yodobashi","yoga","yokohama","you","youtube","yt","yun","za","zappos","zara","zero","zip","zm","zone","zuerich","zw"]},"20b3":function(t,e,a){"use strict";var s=a("53a5"),n=a("5bc1"),o=a("a212"),i=2,c=18;t.exports=function(t){t=t||{syllables:n({min:1,max:3,inspected:!0})};var e=t.length,a=t.syllables,r="";if(a){for(var l=0;l<a;l++)r+=o();return r.substring(0,c)}e||!t.min&&!t.max||(e=n({min:t.min||i,max:t.max||c})),e=e||n({min:i,max:c,inspected:!0}),e=s(e,i,c);while(r.length<e)r+=o();return r.substring(0,e)}},2379:function(t,e,a){},"2de2":function(t,e,a){"use strict";var s=a("14bd"),n=a("c857"),o=a("de4d"),i=a("5bc1"),c={lower:"abcdefghijklmnopqrstuvwxyz",upper:"ABCDEFGHIJKLMNOPQRSTUVWXYZ",number:"0123456789",symbol:"~!@#$%^&()*_+-={}[]"};c.alpha=c.lower+c.upper,c["all"]=c.lower+c.upper+c.number+c.symbol,t.exports=function(t){var e;return n(t)||(s(t)?t={pool:c.all}:(t=o(t),t={pool:c[t]||t})),e=t.pool?t.pool:t.lower?c.lower:t.upper?c.upper:t.alpha?c.alpha:t.number?c.number:t.symbol?c.symbol:c.all,e=o(e),e.charAt(i({min:0,max:e.length-1,inspected:!0}))}},"334a":function(t,e,a){"use strict";a("7dbb")},"3ba1":function(t,e,a){"use strict";a("6ada")},"3cfc":function(t,e,a){"use strict";var s=a("de4d"),n=a("20b3"),o=a("9321");t.exports=function(t){var e=t&&t.domain?s(t.domain):o();return n()+"@"+e}},4373:function(t,e,a){},"457d":function(t,e,a){},"457de":function(t,e){var a=Array.isArray,s=Object.prototype.toString;t.exports=a||function(t){return!!t&&"[object Array]"==s.call(t)}},"4cbb":function(t,e,a){"use strict";a("dc95")},5156:function(t,e,a){"use strict";var s="undefined"!==typeof Symbol&&Symbol,n=a("1696");t.exports=function(){return"function"===typeof s&&("function"===typeof Symbol&&("symbol"===typeof s("foo")&&("symbol"===typeof Symbol("bar")&&n())))}},"53a5":function(t,e){function a(t,e,a){return e<a?t<e?e:t>a?a:t:t<a?a:t>e?e:t}t.exports=a},"59ef":function(t,e,a){"use strict";a("4373")},"5bc1":function(t,e,a){"use strict";var s=a("842f"),n=a("ce35");t.exports=function(t){return t?t.inspected||(t.min=s.fixme(t.min,0,n,!0),t.max=s.fixme(t.max,0,n,!1)):t={min:0,max:n},t.inspected=!0,s(t)},t.exports.fixme=s.fixme},6056:function(t,e,a){"use strict";a("033b")},6274:function(t,e,a){"use strict";t.exports=4294967295},"67cb":function(t,e,a){},"6ada":function(t,e,a){},"6d47":function(t,e,a){"use strict";var s=a("04ca"),n=a("d25b");t.exports=function(t){if(!t||!s(t))return t;var e=t.length;return e?t[n({max:e-1})]:void 0}},"74f6":function(t,e,a){},"7dbb":function(t,e,a){},8362:function(t,e){t.exports=s;var a=Object.prototype.toString;function s(t){if(!t)return!1;var e=a.call(t);return"[object Function]"===e||"function"===typeof t&&"[object RegExp]"!==e||"undefined"!==typeof window&&(t===window.setTimeout||t===window.alert||t===window.confirm||t===window.prompt)}},"842f":function(t,e,a){"use strict";var s=a("53a5"),n=a("11bf"),o=a("ce35"),i=-o;function c(t,e,a,o){return"number"!==typeof t&&(t=n(t)),isNaN(t)||!isFinite(t)?o?e:a:s(t,e,a)}t.exports=function(t){t?t.inspected||(t.min=c(t.min,i,o,!0),t.max=c(t.max,i,o,!1)):t={min:i,max:o};var e=t.min,a=t.max;return e>a&&(e^=a,a^=e,e^=a),Math.round(Math.random()*(a-e))+e},t.exports.fixme=c},9321:function(t,e,a){"use strict";var s=a("53a5"),n=a("fd15"),o=a("20b3");t.exports=function(t){t=t||{level:1},t.tld||(t.tld=n());var e=s(t.level||1,1,10),a=[];while(e--)a.push(o());return a.push(t.tld),a.join(".")}},9608:function(t,e,a){"use strict";a("d1a8")},a212:function(t,e,a){"use strict";var s=a("53a5"),n=a("c857"),o=a("11bf"),i=a("2de2"),c=a("5bc1");t.exports=function(t){var e=n(t)?t.length:t;e?(e=o(e),e=s(e,2,3)):e=c({min:2,max:3});for(var a,r="bcdfghjklmnprstvwz",l="aeiou",u=r+l,d="",p=0;p<e;p++)a=0===p?i({pool:u}):-1===r.indexOf(a)?i({pool:r}):i({pool:l}),d+=a;return d}},b299:function(t,e,a){"use strict";a("e8ee")},b741:function(t,e,a){"use strict";a("74f6")},bac8:function(t,e,a){"use strict";a("67cb")},bad2:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"viewAdsmanagerAccounts"}},[t.dialogs.add?a("single-add-dialog"):t._e(),t.dialogs.edit?a("edit-dialog"):t._e(),t.dialogs.multipleShare?a("multiple-share-dialog"):t._e(),t.dialogs.multipleAssignTags?a("multiple-assign-tags-dialog"):t._e(),t.dialogs.assignTags?a("assign-tags-dialog"):t._e(),t.dialogs.share?a("share-dialog"):t._e(),t.dialogs.permissions?a("permissions-sidebar"):t._e(),t.dialogs.acceptRules?a("dialog-accept-rules"):t._e(),t.dialogs.createBm?a("dialog-create-bm"):t._e(),t.dialogs.createFanPage?a("dialog-create-fan-page"):t._e(),t.dialogs.initPersonalCab?a("dialog-init-personal-cab"):t._e(),t.dialogs.moveAccountsToAnotherUser?a("dialog-move-accounts-to-another-user"):t._e(),t.dialogs.noFacebookIdInfo?a("dialog-no-facebook-id-info"):t._e(),t.dialogs.unarchive?a("dialog-unarchive"):t._e(),t.dialogs.mainInfo?a("dialog-main-info"):t._e(),t.dialogs.changeProxy?a("dialog-change-proxy"):t._e(),t.dialogs.approveDeletion?a("dialog-approve-deletion"):t._e(),t.dialogs.shareFanPage?a("dialog-share-fan-page"):t._e(),t.dialogs.additionalTokensInfo?a("dialog-additional-tokens-info"):t._e(),t.dialogs.adAccountsManagement?a("dialog-ad-accounts-management"):t._e(),t.dialogs.pageAppeal?a("dialog-page-appeal"):t._e(),t.dialogs.turnOffPageNotifications?a("dialog-turn-off-page-notifications"):t._e(),a("topbar"),a("main-table")],1)},n=[],o=a("1da1"),i=a("5530"),c=(a("96cf"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-dialog",{attrs:{value:t.dialogs.acceptRules,"hide-overlay":"",persistent:"",width:"300"}},[a("v-card",{staticClass:"pr-4",attrs:{color:"primary"}},[a("v-card-text",[a("div",{staticStyle:{display:"flex","justify-content":"space-between","align-items":"center","min-height":"40px",color:"white"}},[a("div",[t._v(" "+t._s(t.$t("dialogs.accounts.acceptRules.loadingText"))+" ")]),a("div",[t._v(" "+t._s(t.acceptRulesLoading.done)+" / "+t._s(t.acceptRulesLoading.accounts.length)+" ")])]),a("v-progress-linear",{staticClass:"mb-0",attrs:{indeterminate:"",color:"white"}}),a("v-btn",{staticStyle:{position:"absolute",right:"2px",top:"2px"},attrs:{icon:"",small:""},on:{click:function(e){return t.$store.dispatch("accounts_v2/setLoadingOptions",{dialog:"acceptRulesLoading",option:"stopRequest",value:!0})}}},[a("v-icon",{attrs:{size:14,color:"white"}},[t._v(" fas fa-times-circle ")])],1)],1)],1)],1)],1)}),r=[],l=a("b85c"),u=(a("159b"),a("d3b7"),a("bc3a")),d=a.n(u),p=a("2f62"),m={name:"AccountsDialogAcceptRules",data:function(){return{done:0}},computed:Object(i["a"])({},Object(p["c"])({accounts:"accounts_v2/ACCOUNTS",dialogs:"accounts_v2/dialogs",acceptRulesLoading:"accounts_v2/acceptRulesLoading"})),watch:{"acceptRulesLoading.stopRequest":{handler:function(){if(this.acceptRulesLoading.stopRequest){var t,e=Object(l["a"])(this.acceptRulesLoading.source);try{for(e.s();!(t=e.n()).done;){var a=t.value;a.cancel()}}catch(s){e.e(s)}finally{e.f()}this.$store.dispatch("accounts_v2/setLoadingOptions",{dialog:"acceptRulesLoading",option:"showLoading",value:!1})}}}},created:function(){var t=this;if(!this.acceptRulesLoading.requestStatus){if(!confirm(this.$t("common.confirmPlease")))return this.$store.dispatch("accounts_v2/closeDialog","acceptRules");this.$store.dispatch("accounts_v2/setLoadingOptions",{dialog:"acceptRulesLoading",option:"requestStatus",value:!0}),this.$store.dispatch("accounts_v2/setLoadingOptions",{dialog:"acceptRulesLoading",option:"stopRequest",value:!1}),this.accounts.selected&&this.accounts.selected.length>0&&(this.$store.dispatch("accounts_v2/setLoadingOptions",{dialog:"acceptRulesLoading",option:"accounts",value:this.accounts.selected}),this.acceptRulesLoading.accounts.forEach((function(e,a){var s=d.a.CancelToken,n={dialog:"acceptRulesLoading",index:a,source:s.source()};t.$store.dispatch("accounts_v2/setLoadingSource",n),t.api("/accounts/accept_rules/".concat(e.id),{cancelToken:t.acceptRulesLoading.source[a].token}).catch((function(){return!0})).then((function(t){console.log(JSON.stringify(t.data))})).finally((function(){t.$store.dispatch("accounts_v2/setLoadingOptions",{dialog:"acceptRulesLoading",option:"done",value:t.acceptRulesLoading.done+1}),t.acceptRulesLoading.done===t.acceptRulesLoading.accounts.length&&(t.$store.dispatch("accounts_v2/setLoadingOptions",{dialog:"acceptRulesLoading",option:"done",value:0}),t.$store.dispatch("accounts_v2/setLoadingOptions",{dialog:"acceptRulesLoading",option:"requestStatus",value:!1}),t.$store.dispatch("accounts_v2/closeDialog","acceptRules"),t.$store.dispatch("accounts_v2/LOAD_ACCOUNTS"))}))})))}}},g=m,f=(a("e58a"),a("2877")),v=a("6544"),h=a.n(v),b=a("8336"),_=a("b0af"),y=a("99d9"),x=a("169a"),k=a("132d"),w=a("8e36"),$=Object(f["a"])(g,c,r,!1,null,"2d917b54",null),C=$.exports;h()($,{VBtn:b["a"],VCard:_["a"],VCardText:y["b"],VDialog:x["a"],VIcon:k["a"],VProgressLinear:w["a"]});var A=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-dialog",{attrs:{value:t.dialogs.adAccountsManagement,width:800,transition:"dialog-bottom-transition",scrollable:""},on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"esc",27,e.key,["Esc","Escape"])?null:t.closeDialog(e)},"click:outside":t.closeDialog}},[a("v-dialog",{attrs:{width:"700",scrollable:""},model:{value:t.detailsDialog,callback:function(e){t.detailsDialog=e},expression:"detailsDialog"}},[a("v-card",[a("v-card-title",{staticClass:"headline"},[t._v(" "+t._s(t.$t("common.learnMore"))+" ")]),a("v-card-text",{staticStyle:{"margin-top":"40px"}},[a("div",{staticClass:"d-flex justify-end"},[a("div",{staticStyle:{position:"fixed","margin-top":"-40px"}},[a("v-btn",{attrs:{color:"primary",text:""},on:{click:function(e){t.copyToClipboard(JSON.stringify(t.forDetails))}}},[a("v-icon",{staticClass:"mr-2",attrs:{size:14}},[t._v(" fas fa-copy ")]),t._v(" "+t._s(t.$t("common.copy"))+" ")],1)],1)]),a("code",{staticClass:"mt-0"},[t._v(t._s(JSON.stringify(t.forDetails,null,2)))])]),a("v-divider"),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",text:""},on:{click:function(e){t.detailsDialog=!1}}},[t._v(" "+t._s(t.$t("common.close"))+" ")])],1)],1)],1),a("v-card",[a("v-toolbar",{attrs:{color:"primary",dark:"",flat:"",dense:""}},[a("v-btn",{attrs:{icon:""},on:{click:t.closeDialog}},[a("v-icon",[t._v("fas fa-times")])],1),a("v-toolbar-title",[t._v(" "+t._s(t.$t("adsmanager.accounts.adAccountsManagement"))+" ")]),a("v-spacer"),a("v-toolbar-items",[t.$vuetify.breakpoint.sm||t.$vuetify.breakpoint.xs?t._e():a("v-btn",{attrs:{text:""},on:{click:t.closeDialog}},[t._v(" "+t._s(t.$t("common.cancel"))+" ")]),a("v-btn",{attrs:{text:"",disabled:0===t.selectedCabs.length,loading:t.loading},on:{click:t.removeCabs}},[t._v(" "+t._s(t.$t("common.leaveAdAccounts"))+" ")])],1)],1),a("v-card-text",[a("v-data-table",{staticClass:"accounts-dialog-ad-accounts-management-accounts-table",attrs:{headers:t.colsAccounts,"fixed-header":"",items:t.accounts.selected},scopedSlots:t._u([{key:"item.account",fn:function(e){var a=e.item;return[t._v(" "+t._s(a.name)+" ")]}},{key:"item.adAccount",fn:function(e){var s=e.item;return[a("v-data-table",{staticClass:"accounts-dialog-ad-accounts-management-cabs-table",attrs:{headers:t.colsCabs,"hide-default-header":"","hide-default-footer":"",items:t.cabsFromAccount(s),"items-per-page":-1,"show-select":""},scopedSlots:t._u([{key:"item.data-table-select",fn:function(e){var n=e.item;return[a("v-checkbox",{attrs:{"input-value":t.selectedCabs.includes(n),disabled:!t.cabIsReady(s,n).value,ripple:!1},on:{change:function(e){return t.selectCab(n)}}})]}},{key:"item.adAccountName",fn:function(e){var a=e.item;return[t._v(" "+t._s(a.name)+" ")]}},{key:"item.adAccountStatus",fn:function(t){var e=t.item;return[a("cabs-status",{attrs:{cab:e,"show-notes":!1}})]}},{key:"item.jobStatus",fn:function(e){var n=e.item;return[t.cabIsReady(s,n).value?a("div",[t.responses[n.id]?t.responses&&t.responses[n.id]&&t.responses[n.id]["success"]?a("span",[a("v-icon",{attrs:{color:"green"}},[t._v(" check_box ")])],1):t.responses&&t.responses[n.id]&&!t.responses[n.id]["success"]?a("span",[a("v-icon",{attrs:{color:"red"}},[t._v(" cancel ")]),a("span",{staticStyle:{"font-size":"12px",cursor:"pointer",color:"#2196F3","text-decoration":"underline"},on:{click:function(e){return t.openDetails(t.responses[n.id]["response"])}}},[t._v(t._s(t.$t("common.learnMore")))])],1):t._e():a("v-progress-linear",{staticStyle:{"min-width":"50px"},attrs:{indeterminate:t.loadingCabs.includes(n.id),value:0}})],1):a("span",{staticStyle:{color:"#9E9E9E"}},[t._v(" "+t._s(t.cabIsReady(s,n).text)+" ")])]}}],null,!0),model:{value:t.selectedCabs,callback:function(e){t.selectedCabs=e},expression:"selectedCabs"}})]}}],null,!0)})],1)],1)],1)},T=[],D=(a("d81d"),a("3ca3"),a("ddb0"),a("99af"),a("4de4"),a("caad"),a("2532"),a("f168")),S=a("1d0f"),O={name:"AccountsDialogAdAccountsManagement",components:{CabsStatus:S["a"]},mixins:[D["a"]],data:function(){return{detailsDialog:!1,forDetails:[],loading:!1,cabs:[],selectedCabs:[],responses:{},loadingCabs:[]}},computed:Object(i["a"])(Object(i["a"])({},Object(p["c"])({accounts:"accounts_v2/accounts",dialogs:"accounts_v2/dialogs"})),{},{colsAccounts:function(){var t=[];return t.push({text:this.$t("common.account"),value:"account",width:150}),t.push({text:this.$t("common.adAccount"),value:"adAccount"}),t},colsCabs:function(){var t=[];return t.push({text:this.$t("common.adAccount"),value:"adAccountName",width:150}),t.push({text:this.$t("common.adAccountStatus"),value:"adAccountStatus",width:150,sortable:!1}),t.push({text:this.$t("common.jobStatus"),value:"jobStatus",sortable:!1}),t}}),created:function(){this.loadCabs()},methods:{closeDialog:function(){this.$store.dispatch("accounts_v2/closeDialog","adAccountsManagement")},cabsFromAccount:function(t){var e=[];return this.cabs.forEach((function(a){parseInt(a.account.id,10)===parseInt(t.id,10)&&e.push(a)})),e},loadCabs:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){var a,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a={users_ids:-1,accounts_ids:t.accounts.selected&&t.accounts.selected.map((function(t){return t.id}))},e.next=3,t.api.post("/cabs",a);case 3:s=e.sent,200===s.status&&s.data&&(t.cabs=s.data.data);case 5:case"end":return e.stop()}}),e)})))()},removeCabs:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){var a,s,n,o,i,c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:e.prev=0,t.loading=!0,t.responses={},t.loadingCabs=[],a=Object(l["a"])(t.selectedCabs);try{for(a.s();!(s=a.n()).done;)n=s.value,t.loadingCabs.push(n.id)}catch(r){a.e(r)}finally{a.f()}o=Object(l["a"])(t.selectedCabs),e.prev=6,c=regeneratorRuntime.mark((function e(){var a,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=i.value,e.next=3,t.api.post("/accounts/quit_from_personal_cab/?account_id=".concat(a.account.id,"&cab_id=").concat(a.cab_id));case 3:s=e.sent,t.loadingCabs=t.loadingCabs.filter((function(t){return t!==a.id})),200===s.status&&s.data.result?(t.$set(t.responses,a.id,{success:!0}),t.selectedCabs=t.selectedCabs.filter((function(t){return parseInt(t.id,10)!==parseInt(a.id,10)})),t.cabs=t.cabs.filter((function(t){return parseInt(t.id,10)!==parseInt(a.id,10)}))):t.$set(t.responses,a.id,{success:!1,response:s});case 6:case"end":return e.stop()}}),e)})),o.s();case 9:if((i=o.n()).done){e.next=13;break}return e.delegateYield(c(),"t0",11);case 11:e.next=9;break;case 13:e.next=18;break;case 15:e.prev=15,e.t1=e["catch"](6),o.e(e.t1);case 18:return e.prev=18,o.f(),e.finish(18);case 21:e.next=25;break;case 23:e.prev=23,e.t2=e["catch"](0);case 25:return e.prev=25,t.loading=!1,t.loadingCabs=[],e.finish(25);case 29:case"end":return e.stop()}}),e,null,[[0,23,25,29],[6,15,18,21]])})))()},cabIsReady:function(t,e){return t&&"ACTIVE"!==t.status&&"ACTIVITY_BLOCK"!==t.status?{text:this.$t("common.errorMessages.accountIsNotActive"),value:!1}:t&&this.$_.isEmpty(t.cookies)?{text:this.$t("common.errorMessages.accountHasNoCookies"),value:!1}:t&&!t.lsd?{text:this.$t("common.errorMessages.accountHasNoLsdToken"),value:!1}:t&&!t.fbdtsg?{text:this.$t("common.errorMessages.accountHasNoFbdtsgToken"),value:!1}:null!==e.business_id?{text:this.$t("common.errorMessages.notPersonalAdAccount"),value:!1}:{value:!0}},openDetails:function(t){this.forDetails=t,this.detailsDialog=!0},selectCab:function(t){this.selectedCabs.includes(t)?this.selectedCabs=this.selectedCabs.filter((function(e){return parseInt(e.id,10)!==parseInt(t.id,10)})):this.selectedCabs.push(t)}}},P=O,V=(a("bac8"),a("ac7c")),j=a("8fea"),I=a("ce7e"),L=a("2fa4"),R=a("71d9"),F=a("2a7f"),N=Object(f["a"])(P,A,T,!1,null,null,null),E=N.exports;h()(N,{VBtn:b["a"],VCard:_["a"],VCardActions:y["a"],VCardText:y["b"],VCardTitle:y["c"],VCheckbox:V["a"],VDataTable:j["a"],VDialog:x["a"],VDivider:I["a"],VIcon:k["a"],VProgressLinear:w["a"],VSpacer:L["a"],VToolbar:R["a"],VToolbarItems:F["a"],VToolbarTitle:F["b"]});var z=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-dialog",{attrs:{value:t.dialogs.additionalTokensInfo,width:"500",scrollable:""},on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"esc",27,e.key,["Esc","Escape"])?null:t.$store.dispatch("accounts_v2/closeDialog","additionalTokensInfo")},"click:outside":function(e){return t.$store.dispatch("accounts_v2/closeDialog","additionalTokensInfo")}}},[a("v-card",[a("v-card-title",[t._v(" "+t._s(t.$t("adsmanager.accounts.aboutTokens"))+" ")]),a("v-card-text",[a("div",[t._v(" "+t._s(t.$t("adsmanager.accounts.toGetLsdAndFbdtsgTokens"))+" ")]),a("code",{staticClass:"px-2"},[t._v(" "+t._s(t.codeText)+" ")])]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(e){return t.copyToClipboard(t.codeText)}}},[a("v-icon",{staticClass:"mr-2",attrs:{size:14}},[t._v(" fas fa-copy ")]),t._v(" "+t._s(t.$t("common.copy")+" "+t.$t("common.code"))+" ")],1),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(e){return t.$store.dispatch("accounts_v2/closeDialog","additionalTokensInfo")}}},[t._v(" "+t._s(t.$t("common.close"))+" ")])],1)],1)],1)},M=[],B={name:"AccountsDialogAdditionalTokensInfo",mixins:[D["a"]],data:function(){return{codeText:'const regexLsd=new RegExp(\'LSD.{7}token":"([^"]+)"}\');matchLsd=document.body.innerHTML.toString().match(regexLsd);const regexFbstsg=new RegExp(\'DTSGInitialData.{7}token":"([^"]+)"}\');matchFbstsg=document.body.innerHTML.toString().match(regexFbstsg),console.log("LSD",matchLsd[1]),console.log("FbDtsg",matchFbstsg[1]);'}},computed:Object(i["a"])({},Object(p["c"])({dialogs:"accounts_v2/dialogs"}))},U=B,q=Object(f["a"])(U,z,M,!1,null,null,null),Y=q.exports;h()(q,{VBtn:b["a"],VCard:_["a"],VCardActions:y["a"],VCardText:y["b"],VCardTitle:y["c"],VDialog:x["a"],VIcon:k["a"],VSpacer:L["a"]});var H=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-dialog",{attrs:{value:t.dialogs.approveDeletion,scrollable:"",width:"600"},on:{"click:outside":t.close,keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"esc",27,e.key,["Esc","Escape"])?null:t.close(e)}}},[a("v-card",[a("v-card-title",[t._v(" "+t._s(t.$t("adsmanager.accounts.deletingAccounts"))+" ")]),a("v-card-text",[a("v-data-table",{staticStyle:{"max-height":"500px"},attrs:{items:t.accounts.selected,"hide-default-header":"","hide-default-footer":"",headers:t.cols,"items-per-page":-1},scopedSlots:t._u([{key:"item.info",fn:function(e){var s=e.item;return[a("span",{staticStyle:{color:"grey"}},[t._v(" ["+t._s(s.id)+"] ")]),a("v-icon",{staticStyle:{cursor:"pointer","margin-right":"4px"},attrs:{size:12,title:t.$t("common.fbApiLog")},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.loadLog(s)}}},[t._v(" fas fa-book ")]),a("span",{staticStyle:{cursor:"pointer",color:"#2196F3","text-decoration":"underline",display:"inline-block","max-width":"150px"},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.editAccount(s)}}},[t._v(" "+t._s(s.name)+" ")]),s.fb_id?t._e():a("div",{staticStyle:{width:"90%","margin-top":"4px"}},[a("v-alert",{staticStyle:{padding:"0 5px","font-size":"10px","line-height":"17px"},attrs:{text:"",color:"error"}},[t._v(" "+t._s(t.$t("adsmanager.accounts.noFacebookId"))+" "),a("a",{staticStyle:{"font-size":"10px"},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.$store.dispatch("accounts_v2/openDialog","noFacebookIdInfo")}}},[t._v(" "+t._s(t.$t("common.whatsThat"))+" ")])])],1)]}},{key:"item.status",fn:function(e){var s=e.item;return[void 0!==t.colors[s.status]?a("v-chip",{staticStyle:{"font-weight":"bold"},attrs:{label:"",color:t.colors[s.status],"x-small":"",outlined:""}},["TOKEN_ERROR"===s.status?a("span",[t._v(" ERROR ")]):a("span",[t._v(" "+t._s(s.status)+" ")])]):t._e(),void 0===t.colors[s.status]?a("span",[t._v(" "+t._s(s.status)+" ")]):t._e()]}}],null,!0)})],1),a("v-card-actions",[a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:t.deleteAccounts}},[t._v(" "+t._s(t.$t("common.delete"))+" ")]),a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:t.close}},[t._v(" "+t._s(t.$t("common.cancel"))+" ")])],1)],1)],1)],1)},W=[],J=a("1afd"),G={name:"AccountsDialogApproveDeletion",data:function(){return{colors:J["a"]}},computed:Object(i["a"])(Object(i["a"])({},Object(p["c"])({accounts:"accounts_v2/ACCOUNTS",dialogs:"accounts_v2/dialogs"})),{},{cols:function(){var t=[];return t.push({value:"info"}),t.push({value:"status"}),t}}),methods:{close:function(){this.$store.dispatch("accounts_v2/closeDialog","approveDeletion")},editAccount:function(t){this.$store.dispatch("accounts_v2/initAccountForEdit",t)},loadLog:function(t){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:e.$store.dispatch("fbApiLog/clearLog"),e.$store.dispatch("fbApiLog/openDialog","logSidebar"),e.$store.dispatch("fbApiLog/loadLog",[{object:"account_id",id:t.id}]);case 3:case"end":return a.stop()}}),a)})))()},deleteAccounts:function(){this.$store.dispatch("accounts_v2/multipleDeleteAccounts",this.accounts.selected.map((function(t){return t.id}))),this.close()}}},K=G,Q=a("0798"),X=a("cc20"),Z=Object(f["a"])(K,H,W,!1,null,null,null),tt=Z.exports;h()(Z,{VAlert:Q["a"],VBtn:b["a"],VCard:_["a"],VCardActions:y["a"],VCardText:y["b"],VCardTitle:y["c"],VChip:X["a"],VDataTable:j["a"],VDialog:x["a"],VIcon:k["a"],VSpacer:L["a"]});var et=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-dialog",{attrs:{value:t.dialogs.changeProxy,width:"500","overlay-opacity":.9,scrollable:""},on:{"click:outside":t.close,keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"esc",27,e.key,["Esc","Escape"])?null:t.close(e)}}},[a("v-card",[a("v-card-title",[a("div",{staticStyle:{display:"flex","justify-content":"space-between",width:"100%"}},[a("div",[a("span",{staticClass:"headline"},[t._v(" "+t._s(t.$t("proxy.changeProxy"))+" ")])])])]),a("v-card-text",[a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("v-autocomplete",{attrs:{items:t.proxy.all.concat(t.newProxies),label:t.$t("common.existingProxy"),"item-value":function(t){return t.id},filter:t.searchExistingProxy,clearable:"",outlined:"",dense:"","hide-details":""},scopedSlots:t._u([{key:"item",fn:function(e){var a=e.item;return[t._v(" ["+t._s(a.accounts_count)+"] "+t._s("undefined"!==typeof a.name&&null!==a.name?a.name:null===a.login?a.ip+":"+a.port:a.ip+":"+a.port+":"+a.login+":"+a.password)+" ")]}},{key:"selection",fn:function(e){var a=e.item;return[t._v(" ["+t._s(a.accounts_count)+"] "+t._s("undefined"!==typeof a.name&&null!==a.name?a.name:null===a.login?a.ip+":"+a.port:a.ip+":"+a.port+":"+a.login+":"+a.password)+" ")]}}]),model:{value:t.existingProxy,callback:function(e){t.existingProxy=e},expression:"existingProxy"}})],1),a("v-col",{attrs:{cols:"12"}},[a("v-text-field",{attrs:{label:t.$t("adsmanager.accounts.add.quickInput"),outlined:"",dense:"","hide-details":""},model:{value:t.quickInput,callback:function(e){t.quickInput=e},expression:"quickInput"}})],1),a("v-col",{attrs:{cols:"12",sm:"6"}},[a("v-text-field",{attrs:{label:t.$t("common.name"),outlined:"",dense:"","hide-details":""},model:{value:t.parsedProxy.name,callback:function(e){t.$set(t.parsedProxy,"name",e)},expression:"parsedProxy.name"}})],1),a("v-col",{attrs:{cols:"12",sm:"6"}},[a("v-select",{attrs:{label:t.$t("common.type"),items:t.proxy_types,outlined:"",dense:"","hide-details":""},model:{value:t.parsedProxy.type,callback:function(e){t.$set(t.parsedProxy,"type",e)},expression:"parsedProxy.type"}})],1),a("v-col",{attrs:{cols:"12",sm:"6"}},[a("v-text-field",{attrs:{label:t.$t("common.host"),outlined:"",dense:"","hide-details":""},model:{value:t.parsedProxy.ip,callback:function(e){t.$set(t.parsedProxy,"ip",e)},expression:"parsedProxy.ip"}})],1),a("v-col",{attrs:{cols:"12",sm:"6"}},[a("v-text-field",{attrs:{label:t.$t("common.port"),outlined:"",dense:"","hide-details":""},model:{value:t.parsedProxy.port,callback:function(e){t.$set(t.parsedProxy,"port",e)},expression:"parsedProxy.port"}})],1),a("v-col",{attrs:{cols:"12",sm:"6"}},[a("v-text-field",{attrs:{label:t.$t("common.login"),outlined:"",dense:"","hide-details":""},model:{value:t.parsedProxy.login,callback:function(e){t.$set(t.parsedProxy,"login",e)},expression:"parsedProxy.login"}})],1),a("v-col",{attrs:{cols:"12",sm:"6"}},[a("v-text-field",{attrs:{label:t.$t("common.password"),outlined:"",dense:"","hide-details":""},model:{value:t.parsedProxy.password,callback:function(e){t.$set(t.parsedProxy,"password",e)},expression:"parsedProxy.password"}})],1)],1)],1),a("v-divider"),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:t.close}},[t._v(" "+t._s(t.$t("common.close"))+" ")]),a("v-btn",{attrs:{color:"blue darken-1",text:"",loading:t.loading,disabled:t.disable},on:{click:t.changeProxy}},[t._v(" "+t._s(t.$t("common.save"))+" ")])],1)],1)],1)},at=[],st=a("53ca"),nt=(a("b0c0"),a("ac1f"),a("841c"),a("25f0"),a("7db0"),a("498a"),a("1276"),a("b7b8")),ot={name:"AccountsDialogChangeProxy",data:function(){return{proxy_types:nt["a"],parsedProxy:{},existingProxy:{},loading:!1,newProxies:[],quickInput:""}},computed:Object(i["a"])(Object(i["a"])({},Object(p["c"])({dialogs:"accounts_v2/dialogs",accounts:"accounts_v2/accounts",proxy:"proxy/proxy"})),{},{disable:function(){var t=!0;return"undefined"!==typeof this.parsedProxy.type&&""!==this.parsedProxy.type&&"undefined"!==typeof this.parsedProxy.ip&&""!==this.parsedProxy.ip&&"undefined"!==typeof this.parsedProxy.port&&""!==this.parsedProxy.port&&(t=!1),"undefined"!==typeof this.parsedProxy.type&&""!==this.parsedProxy.type&&"undefined"!==typeof this.parsedProxy.ip&&""!==this.parsedProxy.ip&&"undefined"!==typeof this.parsedProxy.port&&""!==this.parsedProxy.port&&"undefined"!==typeof this.parsedProxy.login&&""!==this.parsedProxy.login&&"undefined"!==typeof this.parsedProxy.password&&""===this.parsedProxy.password&&(t=!0),t}}),watch:{quickInput:function(){this.parse()},existingProxy:function(){this.loadDataFromExistingProxy()}},created:function(){this.$store.dispatch("proxy/loadProxy")},methods:{close:function(){this.$store.dispatch("accounts_v2/closeDialog","changeProxy")},changeProxy:function(){var t,e=Object(l["a"])(this.accounts.selected);try{for(e.s();!(t=e.n()).done;){var a=t.value,s=Object(i["a"])({},a);s.proxy={id:this.parsedProxy.id,ip:this.parsedProxy.ip,login:this.parsedProxy.login,name:this.parsedProxy.name,password:this.parsedProxy.password,port:this.parsedProxy.port,type:this.parsedProxy.type},s.proxy_id=this.parsedProxy.id,this.$store.dispatch("accounts_v2/saveAccount",s)}}catch(n){e.e(n)}finally{e.f()}this.close()},searchExistingProxy:function(t,e){var a=e.toLowerCase();return!(void 0===Object(st["a"])(t.name)||!t.name||-1===t.name.toString().toLowerCase().search(a))||(!(!t.ip||-1===t.ip.toString().toLowerCase().search(a))||(!(!t.port||-1===t.port.toString().toLowerCase().search(a))||(!(!t.login||-1===t.login.toString().toLowerCase().search(a))||!(!t.password||-1===t.password.toString().toLowerCase().search(a)))))},loadDataFromExistingProxy:function(){var t=this;"undefined"===typeof this.existingProxy&&(this.parsedProxy={name:"",type:"",ip:"",port:"",login:"",password:""},this.quickInput=null);var e=this.proxy.all.find((function(e){return e.id===t.existingProxy}));e&&(this.parsedProxy=Object(i["a"])({},e))},parse:function(){if(null!==this.quickInput&&""!==this.quickInput){this.newProxies=[];var t={proxy:{id:null,ip:null,port:null,login:null,password:null,name:null,accounts_count:0,type:null},newProxy:null},e=this.quickInput.trim();if(-1===e.indexOf(":")){var a=this.proxy.all.find((function(t){return t.id===parseInt(e)}));t.proxy=Object(i["a"])({},a),t.newProxy=null}else{t.newProxy=this.quickInput.trim();var s=null;-1===e.indexOf("/")?s="http":e.split("://").length>1&&(s=e.split("://")[0].toLowerCase(),"https"===s&&(s="http"),"socks"===s&&(s="socks5"),e=e.split("://")[1]),e.split(":").length>1&&(2===e.split(":").length&&(t.proxy={id:null,ip:e.split(":")[0].trim(),port:e.split(":")[1].trim(),login:null,password:null,name:null,accounts_count:0,type:s}),3===e.split(":").length&&(t.proxy={id:null,ip:e.split(":")[0].trim(),port:e.split(":")[1].trim(),login:null,password:null,name:e.split(":")[2].trim(),accounts_count:0,type:s}),4===e.split(":").length&&(t.proxy={id:null,ip:e.split(":")[0].trim(),port:e.split(":")[1].trim(),login:e.split(":")[2].trim(),password:e.split(":")[3].trim(),name:null,accounts_count:0,type:s}),5===e.split(":").length&&(t.proxy={id:null,ip:e.split(":")[0].trim(),port:e.split(":")[1].trim(),login:e.split(":")[2].trim(),password:e.split(":")[3].trim(),name:e.split(":")[4].trim(),accounts_count:0,type:s}))}null===t.proxy.id&&null!==t.proxy.ip&&null!==t.proxy.port&&(this.newProxies.push(Object(i["a"])({},t.proxy)),this.existingProxy=Object(i["a"])({},t.proxy),this.parsedProxy=Object(i["a"])({},t.proxy))}}}},it=ot,ct=a("c6a6"),rt=a("62ad"),lt=a("0fd9"),ut=a("b974"),dt=a("8654"),pt=Object(f["a"])(it,et,at,!1,null,null,null),mt=pt.exports;h()(pt,{VAutocomplete:ct["a"],VBtn:b["a"],VCard:_["a"],VCardActions:y["a"],VCardText:y["b"],VCardTitle:y["c"],VCol:rt["a"],VDialog:x["a"],VDivider:I["a"],VRow:lt["a"],VSelect:ut["a"],VSpacer:L["a"],VTextField:dt["a"]});var gt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t.showModal?a("v-dialog",{attrs:{value:t.dialogs.createBm,persistent:"",fullscreen:""},on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"esc",27,e.key,["Esc","Escape"])?null:t.close(e)}}},[a("v-card",{attrs:{loading:t.loading.createBm}},[a("v-toolbar",{attrs:{color:"primary"}},[a("v-btn",{attrs:{icon:""},on:{click:t.close}},[a("v-icon",[t._v("fas fa-times")])],1),a("v-toolbar-title",[t._v(t._s(t.$t("dialogs.accounts.createBm.title")))]),a("v-spacer"),a("v-toolbar-items",[a("v-btn",{attrs:{text:""},on:{click:t.createBms}},[t._v(" "+t._s(t.$t("common.create"))+" ")])],1)],1),a("v-card-text",[a("v-container",[a("v-row",{attrs:{align:"center"}},[a("v-col",{attrs:{cols:"8"}},[a("div",{staticStyle:{float:"left"}},[a("v-select",{staticStyle:{width:"300px"},attrs:{dense:"",items:["Business names"],value:"Business names","persistent-hint":"",hint:t.$t("dialogs.accounts.createBm.takeFromDictionary")}})],1),a("div",{staticStyle:{float:"left"}},[a("v-btn",{attrs:{text:"",color:"primary"},on:{click:t.takeNamesFromDictionary}},[t._v(" "+t._s(t.$t("common.take"))+" ")])],1),a("div",{staticStyle:{float:"left"}},[a("v-btn",{attrs:{text:"",color:"primary"},on:{click:t.randomEmails}},[t._v(" "+t._s(t.$t("dialogs.accounts.createBm.randomEmails"))+" ")])],1)])],1),a("v-row",{attrs:{align:"center"}},[a("v-col",{attrs:{cols:"12"}},[a("v-data-table",{attrs:{headers:t.cols,"fixed-header":"",items:t.accountsToProcess},scopedSlots:t._u([{key:"item.account",fn:function(e){var a=e.item;return[t._v(" "+t._s(a.name)+" ")]}},{key:"item.bmName",fn:function(e){var s=e.item;return[a("v-text-field",{staticClass:"my-1 mr-4",style:t.$vuetify.breakpoint.sm||t.$vuetify.breakpoint.xs?"margin-right: 2px !important;":"",attrs:{label:t.$t("dialogs.accounts.createBm.bmName"),"single-line":"",dense:"","hide-details":"",solo:"",clearable:""},on:{input:function(e){t.clearInput(e,t.accountsToProcess.indexOf(s),"newBmName")}},model:{value:t.accountsToProcess[t.accountsToProcess.indexOf(s)].newBmName,callback:function(e){t.$set(t.accountsToProcess[t.accountsToProcess.indexOf(s)],"newBmName",e)},expression:"accountsToProcess[accountsToProcess.indexOf(account)].newBmName"}})]}},{key:"item.email",fn:function(e){var s=e.item;return[a("v-text-field",{staticClass:"my-1 mr-4",style:t.$vuetify.breakpoint.sm||t.$vuetify.breakpoint.xs?"margin-right: 2px !important;":"",attrs:{label:t.$t("common.email"),"single-line":"",dense:"","hide-details":"",solo:"",clearable:""},on:{input:function(e){t.clearInput(e,t.accountsToProcess.indexOf(s),"newBmEmail")}},model:{value:t.accountsToProcess[t.accountsToProcess.indexOf(s)].newBmEmail,callback:function(e){t.$set(t.accountsToProcess[t.accountsToProcess.indexOf(s)],"newBmEmail",e)},expression:"accountsToProcess[accountsToProcess.indexOf(account)].newBmEmail"}})]}},{key:"item.status",fn:function(e){var s=e.item;return["waiting"===s.bmCreationStatus?a("v-chip",{staticStyle:{"font-weight":"bold"},attrs:{color:"orange",outlined:"","x-small":"",label:""}},[t._v(" "+t._s(t.$t("common.waiting"))+" ")]):t._e(),"requesting"===s.bmCreationStatus?a("v-chip",{staticStyle:{"font-weight":"bold"},attrs:{color:"orange",outlined:"","x-small":"",label:""}},[t._v(" "+t._s(t.$t("common.requesting"))+" ")]):t._e(),"success"===s.bmCreationStatus?a("v-chip",{staticStyle:{"font-weight":"bold"},attrs:{color:"success",outlined:"","x-small":"",label:""}},[t._v(" "+t._s(t.$t("common.success"))+" ")]):t._e(),"error"===s.bmCreationStatus?a("v-chip",{staticStyle:{"font-weight":"bold"},attrs:{color:"error",outlined:"","x-small":"",label:""}},[t._v(" "+t._s(t.$t("common.error"))+" ")]):t._e()]}},{key:"item.result",fn:function(e){var s=e.item;return[a("div",{staticClass:"my-3",staticStyle:{"font-family":"monospace","font-size":"11px",color:"#FF5252","font-weight":"bold"}},[void 0!==s.bmCreationResponse.response&&void 0!==s.bmCreationResponse.response.error&&void 0!==s.bmCreationResponse.response.error.message?a("div",[t._v(" "+t._s(s.bmCreationResponse.response.error.message)+" ")]):t._e(),void 0!==s.bmCreationResponse.response&&void 0!==s.bmCreationResponse.response.error&&void 0!==s.bmCreationResponse.response.error.error_user_title?a("div",[t._v(" "+t._s(s.bmCreationResponse.response.error.error_user_title)+" ")]):t._e(),void 0!==s.bmCreationResponse.response&&void 0!==s.bmCreationResponse.response.error&&void 0!==s.bmCreationResponse.response.error.error_user_msg?a("div",[t._v(" "+t._s(s.bmCreationResponse.response.error.error_user_msg)+" ")]):t._e(),void 0!==s.bmCreationResponse.message?a("div",[t._v(" "+t._s(s.bmCreationResponse.message)+" ")]):t._e()])]}}],null,!1,2953128371)})],1)],1)],1)],1)],1)],1):t._e()],1)},ft=[],vt=a("3cfc"),ht=a.n(vt),bt={name:"AccountsDialogCreateBm",data:function(){return{cols:[],validation:{state:!1},newAccount:{},accountsToProcess:[],multiple:{name:null,categoryId:null},showLoading:!1,showModal:!0,done:0,initialAccountsToProcess:[]}},computed:Object(i["a"])({},Object(p["c"])({accounts:"accounts_v2/ACCOUNTS",dialogs:"accounts_v2/dialogs",loading:"accounts_v2/loading"})),created:function(){this.cols.push({text:this.$t("common.account"),value:"account",width:200}),this.cols.push({text:this.$t("dialogs.accounts.createBm.bmName"),value:"bmName",width:200}),this.cols.push({text:this.$t("common.email")+" ("+this.$t("common.optional").toLowerCase()+")",value:"email",width:200}),this.cols.push({text:this.$t("common.status"),value:"status",width:150}),this.cols.push({text:this.$t("common.result"),value:"result",width:150}),this.accountsToProcess=this.$_.cloneDeep(this.accounts.selected),this.accountsToProcess=this.accountsToProcess.map((function(t){return t.bmCreationStatus="waiting",t.bmCreationResponse={},t.newBmName=null,t.newBmEmail=null,t})),this.initialAccountsToProcess=this.$_.cloneDeep(this.accountsToProcess)},methods:{clearInput:function(t,e,a){""===t&&(this.accountsToProcess[e][a]=null)},close:function(){(this.$_.isEqual(this.accountsToProcess,this.initialAccountsToProcess)||(this.confirmation=confirm(this.$t("common.closeDialogConfirmation")),this.confirmation))&&this.$store.dispatch("accounts_v2/closeDialog","createBm")},createBms:function(){var t=this;this.accountsToProcess?this.accountsToProcess.forEach((function(e,a){e.bmCreationStatus="requesting",t.$set(t.accountsToProcess,a,e);var s={id:e.id,name:e.newBmName,email:e.newBmEmail};t.api.post("/accounts/create_bm",s).then((function(s){e.bmCreationStatus="undefined"===typeof s.data.response||"undefined"!==typeof s.data.response.error||!1===s.data.success?"error":"success",e.bmCreationResponse=s.data,t.$set(t.accountsToProcess,a,e)}))})):this.$store.dispatch("accounts_v2/closeDialog","createBm")},takeNamesFromDictionary:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.api.post("/generate_names",{count:t.accountsToProcess.length});case 2:a=e.sent,t.accountsToProcess=t.accountsToProcess.map((function(t,e){return t.newBmName=a.data.data[e],t}));case 4:case"end":return e.stop()}}),e)})))()},randomEmails:function(){this.accountsToProcess=this.accountsToProcess.map((function(t){return t.newBmEmail=ht()({domain:"gmail.com"}),t}))}}},_t=bt,yt=a("a523"),xt=Object(f["a"])(_t,gt,ft,!1,null,null,null),kt=xt.exports;h()(xt,{VBtn:b["a"],VCard:_["a"],VCardText:y["b"],VChip:X["a"],VCol:rt["a"],VContainer:yt["a"],VDataTable:j["a"],VDialog:x["a"],VIcon:k["a"],VRow:lt["a"],VSelect:ut["a"],VSpacer:L["a"],VTextField:dt["a"],VToolbar:R["a"],VToolbarItems:F["a"],VToolbarTitle:F["b"]});var wt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",[a("v-dialog",{attrs:{width:"700",scrollable:""},model:{value:t.detailsDialog,callback:function(e){t.detailsDialog=e},expression:"detailsDialog"}},[a("v-card",[a("v-card-title",{staticClass:"headline"},[t._v(" "+t._s(t.$t("common.learnMore"))+" ")]),a("v-card-text",[a("code",[t._v(t._s(JSON.stringify(t.forDetails)))])]),a("v-divider"),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",text:""},on:{click:function(e){t.detailsDialog=!1}}},[t._v(" "+t._s(t.$t("common.close"))+" ")])],1)],1)],1)],1),a("v-dialog",{attrs:{value:t.showLoading,"hide-overlay":"",persistent:"",width:"300","content-class":"loading-modal"}},[a("v-card",{staticClass:"pr-4",attrs:{color:"primary"}},[a("v-card-text",[a("div",{staticStyle:{display:"flex","justify-content":"space-between","align-items":"center","min-height":"40px",color:"white"}},[a("div",[t._v(" "+t._s(t.$t("dialogs.accounts.createFanPage.loadingText"))+" ")]),a("div",[t._v(" "+t._s(t.createFanPageLoading.done)+" / "+t._s(t.createFanPageLoading.accounts.length)+" ")])]),a("v-progress-linear",{staticClass:"mb-0",attrs:{indeterminate:"",color:"white"}}),a("v-btn",{staticStyle:{position:"absolute",right:"2px",top:"2px"},attrs:{icon:"",small:""},on:{click:function(e){return t.$store.dispatch("accounts_v2/setLoadingOptions",{dialog:"createFanPageLoading",option:"stopRequest",value:!0})}}},[a("v-icon",{attrs:{size:14,color:"white"}},[t._v(" fas fa-times-circle ")])],1)],1)],1)],1),t.showModal?a("v-dialog",{attrs:{value:t.dialogs.createFanPage,persistent:"",fullscreen:""},on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"esc",27,e.key,["Esc","Escape"])?null:t.close(e)}}},[a("v-card",[a("v-toolbar",{attrs:{color:"primary"}},[a("v-btn",{attrs:{icon:""},on:{click:t.close}},[a("v-icon",{staticClass:"white--text"},[t._v(" fas fa-times ")])],1),a("v-toolbar-title",{staticClass:"white--text"},[t._v(" "+t._s(t.$t("dialogs.accounts.createFanPage.title"))+" ")]),a("v-spacer"),a("v-toolbar-items",[a("v-btn",{attrs:{text:"",color:"white"},on:{click:t.createFanPages}},[t._v(" "+t._s(t.$t("common.create"))+" ")])],1)],1),a("v-card-text",[a("v-container",{attrs:{fluid:""}},[a("v-row",{attrs:{align:"center"}},[a("v-col",{attrs:{cols:"12",md:"4"}}),a("v-col",{attrs:{cols:"12",md:"4"}})],1),a("v-row",[a("v-col",{attrs:{cols:"12",md:"3"}},[a("v-alert",{attrs:{dense:"",text:"",color:"info"}},[a("span",{staticClass:"caption",domProps:{innerHTML:t._s(t.$t("dialogs.accounts.createFanPage.textHint"))}})]),a("v-textarea",{staticClass:"adsmanager-accounts-create-fp-name-textarea",attrs:{label:t.$t("common.names"),dense:"",outlined:"","single-line":"","hide-details":""},scopedSlots:t._u([{key:"prepend-inner",fn:function(){return[a("v-btn",{attrs:{"x-small":"",icon:""},on:{click:t.generateFpNames}},[a("v-icon",{staticStyle:{"margin-top":"3px"}},[t._v(" autorenew ")])],1)]},proxy:!0}],null,!1,3869864235),model:{value:t.multiple.name,callback:function(e){t.$set(t.multiple,"name",e)},expression:"multiple.name"}}),a("v-autocomplete",{staticClass:"mt-5",attrs:{dense:"","single-line":"",outlined:"",label:t.$t("dialogs.accounts.createFanPage.sharedCategoryId"),items:t.pageCategories,"item-value":"id","item-text":"name","hide-details":""},model:{value:t.multiple.categoryId,callback:function(e){t.$set(t.multiple,"categoryId",e)},expression:"multiple.categoryId"}}),a("v-switch",{attrs:{label:t.$t("common.turnOffNotifications"),"hide-details":""},model:{value:t.multiple.turnOffNotifications,callback:function(e){t.$set(t.multiple,"turnOffNotifications",e)},expression:"multiple.turnOffNotifications"}}),a("v-btn",{staticClass:"mt-5",attrs:{block:"",color:"primary",loading:t.loadAvatars},on:{click:t.openAvatarFileSelect}},[t._v(" "+t._s(t.$t("dialogs.accounts.createFanPage.uploadAvatars"))+" ")]),a("input",{ref:"upload-avatars",staticStyle:{display:"none"},attrs:{id:"upload-avatars",type:"file",multiple:""},on:{change:t.handleMultipleAvatarUpload}})],1),a("v-col",{attrs:{cols:"12",md:"9"}},t._l(t.accountsToProcess,(function(e,s){return a("v-row",{key:"account-for-fp-creation-"+e.id,attrs:{align:"center"}},[a("v-col",{attrs:{cols:"12",md:"3"}},[a("div",{staticStyle:{float:"left"}},[a("v-avatar",{staticClass:"elevation-3"},[a("img",{attrs:{src:e.uploaded_icon?""+t.baseUrl+e.uploaded_icon:e.icon?""+t.baseUrl+e.icon:""}})])],1),a("div",{staticStyle:{float:"left"}},[a("div",[a("v-btn",{staticClass:"ml-3",attrs:{text:"",color:"primary","x-small":""},on:{click:function(e){return t.changeIcon(s)}}},[t._v(" "+t._s(t.$t("common.change"))+" ")])],1),a("div",[a("input",{ref:"file"+s,refInFor:!0,staticStyle:{display:"none"},attrs:{id:"file"+s,type:"file"},on:{change:function(e){return t.handleSingleAvatarUpload(s)}}}),a("v-btn",{staticClass:"ml-3",attrs:{text:"",color:"primary","x-small":""},on:{click:function(e){return t.openFileSelect(s)}}},[t._v(" "+t._s(t.$t("dialogs.accounts.createFanPage.uploadCustom.uploadCustom"))+" ")])],1)])]),a("v-col",{attrs:{cols:"12",md:"3"}},[a("v-text-field",{attrs:{label:t.$t("dialogs.accounts.createFanPage.fanPageName"),"hide-details":"",dense:"","single-line":"",outlined:""},scopedSlots:t._u([{key:"prepend-inner",fn:function(){return[a("v-btn",{attrs:{"x-small":"",icon:""},on:{click:function(e){return t.spinOrGenerate(s)}}},[a("v-icon",{staticStyle:{"margin-top":"3px"}},[t._v(" autorenew ")])],1)]},proxy:!0}],null,!0),model:{value:t.accountsToProcess[s].pageName,callback:function(e){t.$set(t.accountsToProcess[s],"pageName",e)},expression:"accountsToProcess[index].pageName"}})],1),a("v-col",{attrs:{cols:"12",md:"2"}},[a("v-autocomplete",{attrs:{"hide-details":"",dense:"","single-line":"",outlined:"",label:t.$t("dialogs.accounts.createFanPage.fanPageCategory"),items:t.pageCategories,"item-value":"id","item-text":"name"},model:{value:t.accountsToProcess[s].pageCategoryId,callback:function(e){t.$set(t.accountsToProcess[s],"pageCategoryId",e)},expression:"accountsToProcess[index].pageCategoryId"}})],1),a("v-col",{attrs:{cols:"12",md:"2"}},[a("div",{staticClass:"d-flex align-center"},[a("span",{staticClass:"mr-2",staticStyle:{"font-size":"18px"}},[t._v(" → ")]),a("div",[a("span",{staticClass:"title"},[t._v(t._s(e.name))]),e.cookies&&Array.isArray(e.cookies)&&0!==e.cookies.length?t._e():a("v-alert",{staticStyle:{"font-size":"12px","font-weight":"400"},attrs:{dense:"",text:"",color:"warning"}},[t._v(" "+t._s(t.$t("adsmanager.accounts.dialogs.createFp.noCookies"))+" ")])],1)])]),a("v-col",{attrs:{cols:"12",md:"2"}},[void 0!==t.loadingAccount(e.id)&&t.loadingAccount(e.id).status?t._e():a("v-progress-linear",{attrs:{indeterminate:t.loadingAccount(e.id)&&!t.loadingAccount(e.id).status,value:"0"}}),t.loadingAccount(e.id)&&t.loadingAccount(e.id).response&&t.loadingAccount(e.id).response.data&&t.loadingAccount(e.id).response.data.page_create&&t.loadingAccount(e.id).response.data.page_create.page&&t.loadingAccount(e.id).response.data.page_create.page.id?a("span",[a("v-icon",{attrs:{color:"green"}},[t._v("check_box")])],1):t._e(),t.loadingAccount(e.id)&&t.loadingAccount(e.id).response&&t.loadingAccount(e.id).response.data&&t.loadingAccount(e.id).response.data.page_create&&0===t.loadingAccount(e.id).response.data.page_create.length?a("span",[a("v-icon",{attrs:{color:"red"}},[t._v("cancel")]),a("span",{staticStyle:{"font-size":"12px",cursor:"pointer",color:"#2196F3","text-decoration":"underline"},on:{click:function(a){t.openDetails(t.loadingAccount(e.id).response)}}},[t._v(" "+t._s(t.$t("common.learnMore"))+" ")])],1):t._e()],1)],1)})),1)],1)],1)],1)],1)],1):t._e()],1)},$t=[],Ct=(a("07ac"),a("b64b"),a("c740"),a("7ea4")),At=a("3773"),Tt=a.n(At),Dt=a("d78b"),St=a.n(Dt),Ot={name:"AccountsDialogCreateFanPage",data:function(){return{validation:{state:!1},newAccount:{},pageCategories:Ct["a"],accountsToProcess:[],multiple:{name:"",categoryId:null,turnOffNotifications:!0},showLoading:!1,showModal:!0,done:0,icons:[],F:[],localAvatars:[],loadAvatars:!1,accountWithSpintax:[],detailsDialog:!1,forDetails:{},initialAccountsToProcess:[]}},computed:Object(i["a"])({},Object(p["c"])({accounts:"accounts_v2/ACCOUNTS",dialogs:"accounts_v2/dialogs",loading:"accounts_v2/loading",createFanPageLoading:"accounts_v2/createFanPageLoading",activeTab:"adsmanager/activeTab"})),watch:{"multiple.categoryId":{handler:function(t){this.accountsToProcess=this.accountsToProcess.map((function(e){return e.pageCategoryId=t,e}))}},"multiple.name":{handler:function(){this.parseName()}},"createFanPageLoading.stopRequest":{handler:function(){if(this.createFanPageLoading.stopRequest){var t,e=Object(l["a"])(this.createFanPageLoading.source);try{for(e.s();!(t=e.n()).done;){var a=t.value;a.cancel()}}catch(s){e.e(s)}finally{e.f()}this.$store.dispatch("accounts_v2/setLoadingOptions",{dialog:"createFanPageLoading",option:"showLoading",value:!1})}}}},created:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.loadIcons();case 2:t.accountsToProcess=t.$_.cloneDeep(t.accounts.selected),t.accountsToProcess=t.accountsToProcess.map((function(e,a){return e.icon="undefined"!==typeof t.icons[a]&&t.icons[a],e.uploaded_icon=!1,e.pageCategoryId="2700",e})),t.initialAccountsToProcess=t.$_.cloneDeep(t.accountsToProcess);case 5:case"end":return e.stop()}}),e)})))()},methods:{loadingAccount:function(t){return this.createFanPageLoading.accounts.find((function(e){return parseInt(e.accountId,10)===parseInt(t,10)}))},parseName:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){var a,s,n,o,i,c,r,l,u,d;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(a=t.multiple.name.split("\n"),!(a.length>1)){e.next=12;break}s=0,n=regeneratorRuntime.mark((function e(n){var o,i,c,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(o=t.accountsToProcess[n],!(""!==a[s]&&a[s].search(/\{[^\\{\\}]*\}/)>-1)){e.next=14;break}return-1===t.accountWithSpintax.indexOf(parseInt(n))&&t.accountWithSpintax.push(parseInt(n)),i=[],c={text:window.btoa(unescape(encodeURIComponent(a[s])))},e.next=7,t.api.post("/spintax",c);case 7:return r=e.sent,e.next=10,i.push(r.data.data);case 10:o.pageName=i[0],t.$set(t.accountsToProcess,n,o),e.next=17;break;case 14:t.accountWithSpintax.length>=1&&t.accountWithSpintax.indexOf(parseInt(n))>-1&&(t.accountWithSpintax=t.accountWithSpintax.filter((function(t){return t!==parseInt(n)}))),o.pageName=a[s],t.$set(t.accountsToProcess,n,o);case 17:s<a.length-1?s++:s=0;case 18:case"end":return e.stop()}}),e)})),e.t0=regeneratorRuntime.keys(t.accountsToProcess);case 5:if((e.t1=e.t0()).done){e.next=10;break}return o=e.t1.value,e.delegateYield(n(o),"t2",8);case 8:e.next=5;break;case 10:e.next=31;break;case 12:if(t.accountWithSpintax=[],!(""!==a[0]&&a[0].search(/\{[^\\{\\}]*\}/)>-1)){e.next=29;break}i=[],c={text:window.btoa(unescape(encodeURIComponent(a[0])))},r=0;case 17:if(!(r<t.accountsToProcess.length)){e.next=26;break}return e.next=20,t.api.post("/spintax",c);case 20:return l=e.sent,e.next=23,i.push(l.data.data);case 23:r++,e.next=17;break;case 26:for(u in t.accountsToProcess)t.accountWithSpintax.push(parseInt(u)),t.$set(t.accountsToProcess[u],"pageName",i[u]);e.next=31;break;case 29:for(d in t.accountWithSpintax=[],t.accountsToProcess)t.$set(t.accountsToProcess[d],"pageName",a[0]);case 31:case"end":return e.stop()}}),e)})))()},spinOrGenerate:function(t){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){var s,n,o,i,c;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(!(e.accountWithSpintax.indexOf(t)>-1)){a.next=14;break}return s=e.multiple.name.split("\n"),n=t%s.length,o="",i={text:window.btoa(unescape(encodeURIComponent(s[n])))},a.next=7,e.api.post("/spintax",i);case 7:return c=a.sent,a.next=10,c.data.data;case 10:o=a.sent,e.$set(e.accountsToProcess[t],"pageName",o),a.next=15;break;case 14:e.$set(e.accountsToProcess[t],"pageName",St()(Tt()().spaced));case 15:e.$forceUpdate();case 16:case"end":return a.stop()}}),a)})))()},handleSingleAvatarUpload:function(t){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){var s,n,o;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return s=new FormData,s.append("file",e.$refs["file".concat(t)][0].files[0]),a.next=4,e.api.post("".concat(e.baseUrl,"/new/upload_media/fp_icons"),s,{headers:{"Content-Type":"multipart/form-data"}});case 4:n=a.sent,o=e.accountsToProcess[t],"undefined"!==typeof n.data.path?o.uploaded_icon=n.data.path:o.uploaded_icon=!1,e.$set(e.accountsToProcess,t,o);case 8:case"end":return a.stop()}}),a)})))()},openFileSelect:function(t){document.getElementById("file".concat(t)).click()},loadIcons:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.api("/accounts/get_icons/?limit=".concat(t.accounts.selected.length)).catch((function(){return!0}));case 2:a=e.sent,"undefined"!==typeof a.data&&"undefined"!==typeof a.data.success&&a.data.success&&(t.icons=a.data.data);case 4:case"end":return e.stop()}}),e)})))()},changeIcon:function(t){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){var s,n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,e.api.post("/accounts/get_icons/?limit=1",{exclude:e.icons});case 2:s=a.sent,"undefined"!==typeof s.data.success&&s.data.success&&(n=e.accountsToProcess[t],n.icon=s.data.data[0],n.uploaded_icon=!1,e.$set(e.accountsToProcess,t,n));case 4:case"end":return a.stop()}}),a)})))()},createFanPages:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){var a,s,n,i,c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.accountsToProcess&&0!==t.accountsToProcess.length){e.next=3;break}return t.$store.dispatch("accounts_v2/closeDialog","createFanPage"),e.abrupt("return");case 3:if(t.$store.dispatch("accounts_v2/setLoadingOptions",{dialog:"createFanPageLoading",option:"accounts",value:[]}),!(t.accountsToProcess&&t.accountsToProcess.length>0)){e.next=14;break}return a=t.accountsToProcess.map((function(e){return{account_id:e.id,page_name:e.pageName,page_category_id:e.pageCategoryId,icon:e.uploaded_icon?e.uploaded_icon:e.icon,turnOffNotifications:t.multiple.turnOffNotifications}})),e.next=8,t.api.post("/q/create_fp",{data:a});case 8:return s=e.sent,n=s.data.jobs||[],i=t.accountsToProcess.map((function(t,e){return{accountId:t.id,jobId:n[e],response:null,status:!1}})),e.next=13,t.$store.dispatch("accounts_v2/setLoadingOptions",{dialog:"createFanPageLoading",option:"accounts",value:i});case 13:n&&n.length>0&&(c=setInterval(Object(o["a"])(regeneratorRuntime.mark((function e(){var a,s,o,i,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.dialogs.createFanPage||clearInterval(c),e.next=3,t.api.post("/q/check_status",{ids:n});case 3:for(i in a=e.sent,s=a.data.data||{},o=function(e){if(s[e]){var n=t.createFanPageLoading.accounts.findIndex((function(t){return parseInt(t.jobId)===parseInt(e)}));n>-1&&(t.$set(t.createFanPageLoading.accounts[n],"status",s[e]),t.$set(t.createFanPageLoading.accounts[n],"response",a.data.responses[e]))}},s)o(i);return r=Object.values(s).filter((function(t){return!0===t})).length,e.next=10,t.$store.dispatch("accounts_v2/setLoadingOptions",{dialog:"createFanPageLoading",option:"done",value:r});case 10:r>=Object.keys(s).length&&(clearInterval(c),t.$store.dispatch("accounts_v2/setLoadingOptions",{dialog:"createFanPageLoading",option:"done",value:0}),t.$store.dispatch("accounts_v2/LOAD_ACCOUNTS"));case 11:case"end":return e.stop()}}),e)}))),3e3));case 14:case"end":return e.stop()}}),e)})))()},openAvatarFileSelect:function(){document.getElementById("upload-avatars").click()},handleMultipleAvatarUpload:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){var a,s,n,o,i,c,r,u,d;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:a=Object(l["a"])(t.$refs["upload-avatars"].files),e.prev=1,a.s();case 3:if((s=a.n()).done){e.next=18;break}return n=s.value,t.loadAvatars=!0,o=new FormData,o.append("file",n),i={headers:{"Content-Type":"multipart/form-data"}},e.next=11,t.api.post("".concat(t.baseUrl,"/new/upload_media/fp_icons"),o,i);case 11:if(c=e.sent,"undefined"===typeof c.data.path){e.next=15;break}return e.next=15,t.localAvatars.push(c.data.path);case 15:t.$forceUpdate();case 16:e.next=3;break;case 18:e.next=23;break;case 20:e.prev=20,e.t0=e["catch"](1),a.e(e.t0);case 23:return e.prev=23,a.f(),e.finish(23);case 26:for(t.loadAvatars=!1,r=0,u=0;u<t.accountsToProcess.length;u++)r<t.localAvatars.length-1?r++:r=0,d=t.accountsToProcess[u],d.uploaded_icon=t.localAvatars[r],t.$set(t.accountsToProcess,u,d);t.localAvatars=[];case 30:case"end":return e.stop()}}),e,null,[[1,20,23,26]])})))()},openDetails:function(t){this.forDetails=t,this.detailsDialog=!0},close:function(){var t=this;this.accountsToProcess.forEach((function(e){""===e.pageName&&t.initialAccountsToProcess.forEach((function(t){e.id===t.id&&(t.pageName="")}))})),(this.$_.isEqual(this.accountsToProcess,this.initialAccountsToProcess)&&""===this.multiple.name&&null===this.multiple.categoryId||(this.confirmation=confirm(this.$t("common.closeDialogConfirmation")),this.confirmation))&&(this.$store.dispatch("accounts_v2/closeDialog","createFanPage"),this.$store.dispatch("accounts_v2/setLoadingOptions",{dialog:"createFanPageLoading",option:"accounts",value:[]}))},generateFpNames:function(){this.$set(this.multiple,"name","");for(var t=0;t<this.accountsToProcess.length;t++)this.$set(this.multiple,"name","".concat(this.multiple.name).concat(St()(Tt()().spaced),"\n"))}}},Pt=Ot,Vt=a("8212"),jt=a("b73d"),It=a("a844"),Lt=Object(f["a"])(Pt,wt,$t,!1,null,null,null),Rt=Lt.exports;h()(Lt,{VAlert:Q["a"],VAutocomplete:ct["a"],VAvatar:Vt["a"],VBtn:b["a"],VCard:_["a"],VCardActions:y["a"],VCardText:y["b"],VCardTitle:y["c"],VCol:rt["a"],VContainer:yt["a"],VDialog:x["a"],VDivider:I["a"],VIcon:k["a"],VProgressLinear:w["a"],VRow:lt["a"],VSpacer:L["a"],VSwitch:jt["a"],VTextField:dt["a"],VTextarea:It["a"],VToolbar:R["a"],VToolbarItems:F["a"],VToolbarTitle:F["b"]});var Ft=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t.showModal?a("v-dialog",{attrs:{value:t.dialogs.initPersonalCab,persistent:"",fullscreen:""}},[a("v-card",[a("v-toolbar",{attrs:{color:"primary"}},[a("v-btn",{attrs:{icon:""},on:{click:function(e){return t.$store.dispatch("accounts_v2/closeDialog","initPersonalCab")}}},[a("v-icon",[t._v("fas fa-times")])],1),a("v-toolbar-title",[t._v(" "+t._s(t.$t("adsmanager.accounts.initPersonalCab.actionText"))+" ")]),a("v-spacer")],1),a("v-card-text",t._l(t.accounts.selected,(function(e){return a("v-list-item",{key:"persona-cab-for-"+e.id,attrs:{"two-line":""}},[a("v-list-item-content",[a("v-list-item-title",[void 0===t.responses[e.id]?a("v-progress-circular",{attrs:{size:16,indeterminate:"",color:"primary"}}):t._e(),void 0!==t.responses[e.id]&&void 0!==t.responses[e.id].result&&t.responses[e.id].result?a("span",[t._v("✅")]):t._e(),void 0===t.responses[e.id]||void 0===t.responses[e.id].result||t.responses[e.id].result?t._e():a("span",[t._v("❌")]),t._v(" "+t._s(e.name)+" ")],1),a("v-list-item-subtitle",[void 0!==t.responses[e.id]&&void 0!==t.responses[e.id].result&&!t.responses[e.id].result&&t.responses[e.id].response&&t.responses[e.id].response.error?a("span",{staticStyle:{color:"#FF5252"}},[t._v(" "+t._s(t.responses[e.id].response.error.message)+" ")]):t._e()])],1)],1)})),1)],1)],1):t._e()],1)},Nt=[],Et={name:"AccountsDialogInitPersonalAccount",data:function(){return{showModal:!0,responses:{}}},computed:Object(i["a"])({},Object(p["c"])({accounts:"accounts_v2/ACCOUNTS",dialogs:"accounts_v2/dialogs"})),created:function(){confirm(this.$t("common.confirmPlease"))?(this.showModal=!0,this.loading=!0,this.initPersonalCabs()):this.$store.dispatch("accounts_v2/closeDialog","initPersonalCab")},methods:{initPersonalCabs:function(){var t=this;this.accounts.selected.forEach((function(e){t.api("/accounts/init_personal_cab/".concat(e.id)).then((function(a){"undefined"!==typeof a.data.data&&"undefined"!==typeof a.data.data.response?t.$set(t.responses,e.id,a.data.data):t.$set(t.responses,e.id,-1)})).catch((function(){t.$set(t.responses,e.id,-1)}))}))}}},zt=Et,Mt=a("da13"),Bt=a("5d23"),Ut=a("490a"),qt=Object(f["a"])(zt,Ft,Nt,!1,null,null,null),Yt=qt.exports;h()(qt,{VBtn:b["a"],VCard:_["a"],VCardText:y["b"],VDialog:x["a"],VIcon:k["a"],VListItem:Mt["a"],VListItemContent:Bt["a"],VListItemSubtitle:Bt["b"],VListItemTitle:Bt["c"],VProgressCircular:Ut["a"],VSpacer:L["a"],VToolbar:R["a"],VToolbarTitle:F["b"]});var Ht=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-dialog",{attrs:{"max-width":"600px"},model:{value:t.dialogs.mainInfo,callback:function(e){t.$set(t.dialogs,"mainInfo",e)},expression:"dialogs.mainInfo"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[a("span",{staticStyle:{color:"gray"}},[t._v(" ["+t._s(t.accounts.forDialogMainInfo.id)+"] ")]),a("v-icon",{staticStyle:{cursor:"pointer","margin-right":"4px",color:"gray"},attrs:{size:16,title:t.$t("common.fbApiLog")},on:{click:function(e){return t.loadLog(t.accounts.forDialogMainInfo)}}},[t._v(" fas fa-book ")]),a("span",{staticStyle:{color:"gray"}},[t._v(t._s(t.accounts.forDialogMainInfo.name))])],1)]),a("v-card-text",[a("div",[t.accounts.forDialogMainInfo.fb_id?t._e():a("div",{staticStyle:{width:"90%","margin-top":"4px"}},[a("v-alert",{staticStyle:{padding:"0 5px","font-size":"14px","line-height":"17px"},attrs:{text:"",color:"error"}},[t._v(" "+t._s(t.$t("adsmanager.accounts.noFacebookId"))+" "),a("a",{staticStyle:{"font-size":"14px"},on:{click:function(e){return t.$store.dispatch("accounts_v2/openDialog","noFacebookIdInfo")}}},[t._v(" "+t._s(t.$t("common.whatsThat"))+" ")])])],1),a("div",{staticClass:"mb-2",staticStyle:{"font-size":"14px",color:"gray"}},[a("span",{staticClass:"d-block",staticStyle:{"line-height":"20px"}},[t._v(" "+t._s(t.$t("common.owner"))+": "+t._s(t.accounts.forDialogMainInfo.user?t.accounts.forDialogMainInfo.user.display_name?t.accounts.forDialogMainInfo.user.display_name:t.accounts.forDialogMainInfo.user.login:"-")+" ")]),a("span",{staticClass:"d-block",staticStyle:{"line-height":"14px"}},[t._v(" "+t._s(t.$t("adsmanager.accounts.rulesAccepted"))+": "),t.accounts.forDialogMainInfo.rules_accepted?a("v-icon",{attrs:{size:12,color:"success"}},[t._v(" fas fa-check ")]):a("v-icon",{attrs:{size:12,color:"error"}},[t._v(" fas fa-times ")])],1)]),t.accounts.forDialogMainInfo.permissions?a("div",{staticClass:"caption"},[a("a",{on:{click:t.showPermissions}},[t._v(" "+t._s(t.$t("adsmanager.accounts.shared").toLowerCase())+" ("+t._s(t.accounts.forDialogMainInfo.permissions.length)+") ")])]):t._e()])]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(e){return t.$store.dispatch("accounts_v2/closeDialog","mainInfo")}}},[t._v(" "+t._s(t.$t("common.close"))+" ")])],1)],1)],1)},Wt=[],Jt={name:"AccountsDialogMainInfo",computed:Object(i["a"])({},Object(p["c"])({dialogs:"accounts_v2/dialogs",accounts:"accounts_v2/accounts"})),methods:{loadLog:function(t){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:e.$store.dispatch("fbApiLog/clearLog"),e.$store.dispatch("fbApiLog/openDialog","logSidebar"),e.$store.dispatch("fbApiLog/loadLog",[{object:"account_id",id:t.id}]);case 3:case"end":return a.stop()}}),a)})))()},showPermissions:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$store.dispatch("accounts_v2/setForPermissions",t.accounts.forDialogMainInfo);case 2:return e.next=4,t.$store.dispatch("accounts_v2/openDialog","permissions");case 4:case"end":return e.stop()}}),e)})))()}}},Gt=Jt,Kt=Object(f["a"])(Gt,Ht,Wt,!1,null,null,null),Qt=Kt.exports;h()(Kt,{VAlert:Q["a"],VBtn:b["a"],VCard:_["a"],VCardActions:y["a"],VCardText:y["b"],VCardTitle:y["c"],VDialog:x["a"],VIcon:k["a"],VSpacer:L["a"]});var Xt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-dialog",{attrs:{value:t.dialogs.moveAccountsToAnotherUser,"max-width":"600px",persistent:!t.$vuetify.breakpoint.sm&&!t.$vuetify.breakpoint.xs,scrollable:!(!t.$vuetify.breakpoint.sm&&!t.$vuetify.breakpoint.xs)},on:{"click:outside":t.close,keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"esc",27,e.key,["Esc","Escape"])?null:t.close(e)}}},[a("v-card",{attrs:{loading:t.loading.moveAccounts}},[a("v-card-title",[a("div",{staticStyle:{display:"flex","justify-content":"space-between",width:"100%"}},[a("div",[a("span",{staticClass:"headline"},[t._v(" "+t._s(t.$t("adsmanager.accounts.moveAccountsToAnotherUser"))+" ")])])])]),a("v-card-text",{staticStyle:{"max-height":"700px"}},[a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("v-combobox",{attrs:{"item-text":function(t){return t.display_name||t.login},"item-value":function(t){return t.display_name||t.login},"item-disabled":function(e){return[2,4].indexOf(t.profile.role_id)>-1&&e.id==t.profile.id},items:t.allUsers,label:t.$t("common.user"),clearable:""},on:{change:function(e){t.selectedUser=e}}})],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:t.close}},[t._v(" "+t._s(t.$t("common.close"))+" ")]),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(e){return t.moveAccounts()}}},[t._v(" "+t._s(t.$t("common.move"))+" ")])],1)],1)],1)],1)},Zt=[],te={name:"AccountsDialogMoveAccountsToAnotherUser",data:function(){return{selectedUser:null,allUsers:[]}},computed:Object(i["a"])({},Object(p["c"])({profile:"main/profile",accounts:"accounts_v2/ACCOUNTS",loading:"accounts_v2/loading",dialogs:"accounts_v2/dialogs"})),created:function(){this.loadUsers()},methods:{close:function(){this.selectedUser&&(this.confirmation=confirm(this.$t("common.closeDialogConfirmation")),!this.confirmation)||this.$store.dispatch("accounts_v2/closeDialog","moveAccountsToAnotherUser")},moveAccounts:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.selectedUser||t.selectedUser.id){e.next=2;break}return e.abrupt("return");case 2:if(confirm(t.$t("adsmanager.accounts.confirmMoving")+" "+(t.selectedUser.display_name||t.selectedUser.login))){e.next=4;break}return e.abrupt("return");case 4:return a={ids:t.accounts.selected.map((function(t){return t.id})),new_user_id:t.selectedUser.id},e.next=7,t.$store.dispatch("accounts_v2/moveAccountsToAnotherUser",a);case 7:t.$store.dispatch("accounts_v2/LOAD_ACCOUNTS"),t.$store.dispatch("accounts_v2/closeDialog","moveAccountsToAnotherUser");case 9:case"end":return e.stop()}}),e)})))()},loadUsers:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.api("/users/all");case 2:a=e.sent,"undefined"!==typeof a.data.data&&(t.allUsers=a.data.data);case 4:case"end":return e.stop()}}),e)})))()}}},ee=te,ae=a("2b5d"),se=Object(f["a"])(ee,Xt,Zt,!1,null,"a9855bee",null),ne=se.exports;h()(se,{VBtn:b["a"],VCard:_["a"],VCardActions:y["a"],VCardText:y["b"],VCardTitle:y["c"],VCol:rt["a"],VCombobox:ae["a"],VContainer:yt["a"],VDialog:x["a"],VRow:lt["a"],VSpacer:L["a"]});var oe=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-dialog",{attrs:{value:t.dialogs.noFacebookIdInfo,width:"500"}},[a("v-card",[a("v-card-title",{staticClass:"headline",attrs:{"primary-title":""}},[t._v(" "+t._s(t.$t("adsmanager.accounts.noFacebookIdInfo.title"))+" ")]),a("v-card-text",[a("p",[t._v(" "+t._s(t.$t("adsmanager.accounts.noFacebookIdInfo.1"))+" ")]),a("p",[t._v(" "+t._s(t.$t("adsmanager.accounts.noFacebookIdInfo.2"))+" ")]),a("p",[t._v(" "+t._s(t.$t("adsmanager.accounts.noFacebookIdInfo.3"))+" ")]),a("p",[t._v(" "+t._s(t.$t("adsmanager.accounts.noFacebookIdInfo.4"))+" ")]),a("p",[t._v(" "+t._s(t.$t("adsmanager.accounts.noFacebookIdInfo.5"))+" ")]),a("p",[t._v(" "+t._s(t.$t("adsmanager.accounts.noFacebookIdInfo.6"))+" ")])]),a("v-divider"),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",text:""},on:{click:function(e){return t.$store.dispatch("accounts_v2/closeDialog","noFacebookIdInfo")}}},[t._v(" "+t._s(t.$t("adsmanager.accounts.noFacebookIdInfo.button"))+" ")])],1)],1)],1)},ie=[],ce={name:"AccountsDialogNoFacebookIdInfo",computed:Object(i["a"])({},Object(p["c"])({dialogs:"accounts_v2/dialogs"}))},re=ce,le=Object(f["a"])(re,oe,ie,!1,null,null,null),ue=le.exports;h()(le,{VBtn:b["a"],VCard:_["a"],VCardActions:y["a"],VCardText:y["b"],VCardTitle:y["c"],VDialog:x["a"],VDivider:I["a"],VSpacer:L["a"]});var de=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-dialog",{attrs:{value:t.dialogs.pageAppeal,width:800,transition:"dialog-bottom-transition",scrollable:""},on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"esc",27,e.key,["Esc","Escape"])?null:t.closeDialog(e)},"click:outside":t.closeDialog}},[a("v-dialog",{attrs:{width:"700",scrollable:""},model:{value:t.detailsDialog,callback:function(e){t.detailsDialog=e},expression:"detailsDialog"}},[a("v-card",[a("v-card-title",{staticClass:"headline"},[t._v(" "+t._s(t.$t("common.learnMore"))+" ")]),a("v-card-text",{staticStyle:{"margin-top":"40px"}},[a("div",{staticClass:"d-flex justify-end"},[a("div",{staticStyle:{position:"fixed","margin-top":"-40px"}},[a("v-btn",{attrs:{color:"primary",text:""},on:{click:function(e){t.copyToClipboard(JSON.stringify(t.forDetails))}}},[a("v-icon",{staticClass:"mr-2",attrs:{size:14}},[t._v(" fas fa-copy ")]),t._v(" "+t._s(t.$t("common.copy"))+" ")],1)],1)]),a("code",{staticClass:"mt-0"},[t._v(t._s(JSON.stringify(t.forDetails,null,2)))])]),a("v-divider"),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",text:""},on:{click:function(e){t.detailsDialog=!1}}},[t._v(" "+t._s(t.$t("common.close"))+" ")])],1)],1)],1),a("v-card",[a("v-toolbar",{attrs:{color:"primary",dark:"",flat:"",dense:""}},[a("v-btn",{attrs:{icon:""},on:{click:t.closeDialog}},[a("v-icon",[t._v("fas fa-times")])],1),a("v-toolbar-title",[t._v(" "+t._s(t.$t("adsmanager.accounts.pageAppeal"))+" ")]),a("v-spacer"),a("v-toolbar-items",[t.$vuetify.breakpoint.sm||t.$vuetify.breakpoint.xs?t._e():a("v-btn",{attrs:{text:""},on:{click:t.closeDialog}},[t._v(" "+t._s(t.$t("common.cancel"))+" ")]),a("v-btn",{attrs:{text:"",disabled:t.$_.isEmpty(t.selectedPages),loading:t.loading},on:{click:t.appealPage}},[t._v(" "+t._s(t.$t("common.appeal"))+" ")])],1)],1),a("v-card-text",[a("v-data-table",{attrs:{headers:t.colsAccounts,"fixed-header":"",items:t.accounts.selected},scopedSlots:t._u([{key:"item.account",fn:function(e){var a=e.item;return[t._v(" "+t._s(a.name)+" ")]}},{key:"item.page",fn:function(e){var s=e.item;return[a("v-data-table",{staticClass:"accounts-dialog-page-appeal-pages-table",attrs:{headers:t.colsPages,"hide-default-header":"","hide-default-footer":"",items:s.pages,"items-per-page":-1,"show-select":""},scopedSlots:t._u([{key:"item.data-table-select",fn:function(e){var n=e.item;return[a("v-checkbox",{attrs:{"input-value":t.selectedPages.includes(n),ripple:!1,disabled:!t.pageIsReady(s,n).value},on:{change:function(e){return t.selectPage(n)}}})]}},{key:"item.pageName",fn:function(e){var s=e.item;return[a("v-avatar",{attrs:{size:18}},[a("img",{attrs:{src:s.ava}})]),t._v(" "+t._s(s.name)+" ")]}},{key:"item.pageStatus",fn:function(e){var s=e.item;return[a("v-chip",{attrs:{color:t.pageStatus(s).color,"x-small":"",label:"",outlined:""}},[t._v(" "+t._s(t.pageStatus(s).status)+" ")])]}},{key:"item.jobStatus",fn:function(e){var n=e.item;return[t.pageIsReady(s,n).value?a("div",[t.responses[n.page_id]?t.responses&&t.responses[n.page_id]&&t.responses[n.page_id]["success"]?a("span",[a("v-icon",{attrs:{color:"green"}},[t._v(" check_box ")])],1):t.responses&&t.responses[n.page_id]&&!t.responses[n.page_id]["success"]?a("span",[a("v-icon",{attrs:{color:"red"}},[t._v(" cancel ")]),a("span",{staticStyle:{"font-size":"12px",cursor:"pointer",color:"#2196F3","text-decoration":"underline"},on:{click:function(e){return t.openDetails(t.responses[n.page_id]["response"])}}},[t._v(t._s(t.$t("common.learnMore")))])],1):t._e():a("v-progress-linear",{staticStyle:{"min-width":"50px"},attrs:{indeterminate:t.loadingPages.includes(n.page_id),value:0}})],1):a("span",{staticStyle:{color:"#9E9E9E"}},[t._v(" "+t._s(t.pageIsReady(s,n).text)+" ")])]}}],null,!0)})]}}],null,!0)})],1)],1)],1)},pe=[],me={name:"AccountsDialogPageAppeal",mixins:[D["a"]],data:function(){return{detailsDialog:!1,forDetails:[],loading:!1,selectedPages:[],responses:{},loadingPages:[]}},computed:Object(i["a"])(Object(i["a"])({},Object(p["c"])({accounts:"accounts_v2/accounts",dialogs:"accounts_v2/dialogs"})),{},{colsAccounts:function(){var t=[];return t.push({text:this.$t("common.account"),value:"account",width:150}),t.push({text:this.$t("common.fanPage"),value:"page"}),t},colsPages:function(){var t=[];return t.push({text:this.$t("settings.adsCreation.settingsPage.pageName"),value:"pageName",width:150}),t.push({text:this.$t("common.status"),value:"pageStatus",width:150,sortable:!1}),t.push({text:this.$t("common.jobStatus"),value:"jobStatus",sortable:!1}),t}}),methods:{closeDialog:function(){this.$store.dispatch("accounts_v2/closeDialog","pageAppeal")},pageIsReady:function(t,e){return t&&"ACTIVE"!==t.status?{text:this.$t("common.errorMessages.accountIsNotActive"),value:!1}:t&&this.$_.isEmpty(t.cookies)?{text:this.$t("common.errorMessages.accountHasNoCookies"),value:!1}:void 0!==e.advertising_restriction&&0===parseInt(e.advertising_restriction,10)?{text:this.$t("common.errorMessages.pageIsNotBanned"),value:!1}:{value:!0}},appealPage:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){var a,s,n,o,i,c,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:e.prev=0,a=!1,t.loading=!0,t.responses={},t.loadingPages=[],s=Object(l["a"])(t.selectedPages);try{for(s.s();!(n=s.n()).done;)o=n.value,t.loadingPages.push(o.page_id)}catch(u){s.e(u)}finally{s.f()}i=Object(l["a"])(t.selectedPages),e.prev=7,r=regeneratorRuntime.mark((function e(){var s,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return s=c.value,e.next=3,t.api.post("/pages/appeal_ban/?account_id=".concat(s.account_id,"&page_id=").concat(s.page_id));case 3:n=e.sent,200===n.status&&n.data.result?(a||(a=!0),t.$set(t.responses,s.page_id,{success:!0}),t.selectedPages=t.selectedPages.filter((function(t){return parseInt(t.page_id,10)!==parseInt(s.page_id,10)})),t.loadingPages=t.loadingPages.filter((function(t){return parseInt(t.page_id,10)!==parseInt(s.page_id,10)}))):t.$set(t.responses,s.page_id,{success:!1,response:n});case 5:case"end":return e.stop()}}),e)})),i.s();case 10:if((c=i.n()).done){e.next=14;break}return e.delegateYield(r(),"t0",12);case 12:e.next=10;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e["catch"](7),i.e(e.t1);case 19:return e.prev=19,i.f(),e.finish(19);case 22:a&&t.$store.dispatch("accounts_v2/LOAD_ACCOUNTS"),e.next=27;break;case 25:e.prev=25,e.t2=e["catch"](0);case 27:return e.prev=27,t.loading=!1,t.loadingPages=[],e.finish(27);case 31:case"end":return e.stop()}}),e,null,[[0,25,27,31],[7,16,19,22]])})))()},openDetails:function(t){this.forDetails=t,this.detailsDialog=!0},selectPage:function(t){this.selectedPages.includes(t)?this.selectedPages=this.selectedPages.filter((function(e){return parseInt(e.page_id,10)!==parseInt(t.page_id,10)})):this.selectedPages.push(t)},pageStatus:function(t){return void 0!==t.advertising_restriction&&1===parseInt(t.advertising_restriction,10)?{status:"banned",color:"error"}:void 0!==t.is_published&&0===parseInt(t.is_published,10)?{status:"unpublished",color:"error"}:{status:"active",color:"success"}}}},ge=me,fe=(a("beb9"),Object(f["a"])(ge,de,pe,!1,null,null,null)),ve=fe.exports;h()(fe,{VAvatar:Vt["a"],VBtn:b["a"],VCard:_["a"],VCardActions:y["a"],VCardText:y["b"],VCardTitle:y["c"],VCheckbox:V["a"],VChip:X["a"],VDataTable:j["a"],VDialog:x["a"],VDivider:I["a"],VIcon:k["a"],VProgressLinear:w["a"],VSpacer:L["a"],VToolbar:R["a"],VToolbarItems:F["a"],VToolbarTitle:F["b"]});var he=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-dialog",{attrs:{value:t.dialogs.shareFanPage,fullscreen:"",transition:"dialog-bottom-transition",scrollable:""},on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"esc",27,e.key,["Esc","Escape"])?null:t.close(e)}}},[a("v-dialog",{attrs:{width:"700",scrollable:""},model:{value:t.detailsDialog,callback:function(e){t.detailsDialog=e},expression:"detailsDialog"}},[a("v-card",[a("v-card-title",{staticClass:"headline"},[t._v(" "+t._s(t.$t("common.learnMore"))+" ")]),a("v-card-text",{staticStyle:{"margin-top":"40px"}},[a("div",{staticClass:"d-flex justify-end"},[a("div",{staticStyle:{position:"fixed","margin-top":"-40px"}},[a("v-btn",{attrs:{color:"primary",text:""},on:{click:function(e){t.copyToClipboard(JSON.stringify(t.forDetails))}}},[a("v-icon",{staticClass:"mr-2",attrs:{size:14}},[t._v(" fas fa-copy ")]),t._v(" "+t._s(t.$t("common.copy"))+" ")],1)],1)]),a("code",{staticClass:"mt-0"},[t._v(t._s(JSON.stringify(t.forDetails,null,2)))])]),a("v-divider"),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",text:""},on:{click:function(e){t.detailsDialog=!1}}},[t._v(" "+t._s(t.$t("common.close"))+" ")])],1)],1)],1),a("v-card",[a("v-toolbar",{attrs:{color:"primary",flat:"","max-height":"64"}},[a("v-btn",{attrs:{icon:""},on:{click:t.close}},[a("v-icon",[t._v("fas fa-times")])],1),a("v-toolbar-title",[t._v(" "+t._s(t.$t("adsmanager.accounts.shareFanPage"))+" ")]),a("v-spacer"),a("v-toolbar-items",[t.$vuetify.breakpoint.sm||t.$vuetify.breakpoint.xs?t._e():a("v-btn",{attrs:{text:""},on:{click:t.close}},[t._v(" "+t._s(t.$t("common.cancel"))+" ")]),a("v-btn",{attrs:{text:"",disabled:!t.readyToShare,loading:t.loading},on:{click:t.share}},[t._v(" "+t._s(t.$t("adsmanager.cabs.share"))+" ")])],1)],1),a("v-card-text",[a("v-row",[a("v-col",{attrs:{cols:6}},[a("h2",{staticClass:"mb-2"},[t._v(" "+t._s(t.$t("adsmanager.accounts.whereToSend"))+" ")]),a("v-autocomplete",{staticClass:"mb-4",attrs:{"item-text":function(t){return t.name},"item-value":function(t){return t.id},items:t.accountToShare,outlined:"",dense:"",hint:t.$t("adsmanager.accounts.dialogs.shareFp.multipleAccounts"),"persistent-hint":"",multiple:"",clearable:"","return-object":""},scopedSlots:t._u([{key:"item",fn:function(e){var s=e.item;return[a("v-list-item-content",[a("v-list-item-title",{staticClass:"d-flex"},[a("span",{staticStyle:{"font-size":"18px"}},[t._v(" "+t._s(s.name)+" ")]),void 0!==t.colors[s.status]?a("v-chip",{staticStyle:{"font-weight":"bold","margin-left":"auto"},attrs:{label:"",color:t.colors[s.status],"x-small":"",outlined:""}},["TOKEN_ERROR"===s.status?a("span",[t._v(" ERROR ")]):a("span",[t._v(" "+t._s(s.status)+" ")])]):t._e()],1),["active","activity_block"].includes(s.status.toLowerCase())?t._e():a("v-list-item-subtitle",[t._v(" "+t._s(t.$t("common.errorMessages.accountIsNotActive"))+" ")]),s.cookies?t._e():a("v-list-item-subtitle",[t._v(" "+t._s(t.$t("adsmanager.accounts.noCookies"))+" ")])],1)]}}]),model:{value:t.selectedAccounts,callback:function(e){t.selectedAccounts=e},expression:"selectedAccounts"}}),a("h2",{staticClass:"mb-2"},[t._v(" "+t._s(t.$t("adsmanager.accounts.whatRole"))+"? ")]),a("v-autocomplete",{staticClass:"mb-4",attrs:{items:[0,1,2,3,4],outlined:"",dense:""},scopedSlots:t._u([{key:"item",fn:function(e){var a=e.item;return[t._v(" "+t._s(t.$t("adsmanager.pages.roles."+a))+" ")]}},{key:"selection",fn:function(e){var a=e.item;return[t._v(" "+t._s(t.$t("adsmanager.pages.roles."+a))+" ")]}}]),model:{value:t.role,callback:function(e){t.role=e},expression:"role"}}),a("h2",{staticClass:"mb-2"},[t._v(" "+t._s(t.$t("adsmanager.accounts.whatToSend"))+" ")]),a("v-treeview",{staticClass:"accounts-dialog-share-fan-page",attrs:{"open-all":"",selectable:"",dense:"","selected-color":"primary",items:t.accountsFanPages},scopedSlots:t._u([{key:"prepend",fn:function(e){var s=e.item;return[s.ava?a("v-avatar",{attrs:{size:24}},[a("img",{attrs:{src:s.ava,alt:s.name}})]):t._e()]}}]),model:{value:t.selectedFanPages,callback:function(e){t.selectedFanPages=e},expression:"selectedFanPages"}})],1),a("v-col",{attrs:{cols:6}},[t.$_.isEmpty(t.responses)||t.loading?a("v-progress-linear",{attrs:{indeterminate:t.loading,value:0}}):a("div",t._l(t.responses,(function(e){return a("div",{key:"accounts-dialog-share-fan-page-response-"+e},[e.fp.ava?a("v-avatar",{attrs:{size:24}},[a("img",{attrs:{src:e.fp.ava,alt:e.fp.name}})]):t._e(),t._v(" "+t._s(e.fp.name)+" → "+t._s(e.accountName)+" "),e.success?a("span",[a("v-icon",{attrs:{color:"green"}},[t._v(" check_box ")])],1):e.error?a("span",[a("v-icon",{attrs:{color:"red"}},[t._v(" cancel ")]),a("span",{staticStyle:{"font-size":"12px",cursor:"pointer",color:"#2196F3","text-decoration":"underline"},on:{click:function(a){return t.openDetails(e.response)}}},[t._v(t._s(t.$t("common.learnMore")))])],1):t._e()],1)})),0)],1)],1)],1)],1)],1)},be=[],_e={name:"AccountsDialogShareFanPage",mixins:[D["a"]],data:function(){return{colors:J["a"],selectedFanPages:[],selectedAccounts:null,loading:!1,responses:[],detailsDialog:!1,forDetails:[],role:0}},computed:Object(i["a"])(Object(i["a"])({},Object(p["c"])({dialogs:"accounts_v2/dialogs",accounts:"accounts_v2/ACCOUNTS"})),{},{readyToShare:function(){return Array.isArray(this.selectedFanPages)&&this.selectedFanPages.length>0&&this.selectedAccounts&&Array.isArray(this.selectedAccounts)&&this.selectedAccounts.length>0},accountToShare:function(){var t=this;return this.accounts.all.map((function(e){return e=t.$_.cloneDeep(e),e.cookies&&["active","activity_block"].includes(e.status.toLowerCase())?e.disabled=!1:e.disabled=!0,e})).filter((function(e){return!t.accounts.selected.map((function(t){return parseInt(t.id,10)})).includes(parseInt(e.id,10))}))},accountsFanPages:function(){var t=this;return this.accounts.selected.map((function(e){return e=t.$_.cloneDeep(e),{id:e.id,name:e.name,disabled:!(Array.isArray(e.pages)&&e.pages.length>0),children:e.pages?e.pages.map((function(t){return t.id="".concat(e.id,"-").concat(t.page_id),t})):[]}}))},allFps:function(){return this.accounts.selected.reduce((function(t,e){if(e.pages)return t.concat(e.pages)}),[])}}),methods:{close:function(){this.$store.dispatch("accounts_v2/closeDialog","shareFanPage")},share:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){var a,s,n,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:e.prev=0,t.loading=!0,t.responses=[],a=Object(l["a"])(t.selectedFanPages),e.prev=4,n=regeneratorRuntime.mark((function e(){var a,n,o,i,c,r,u;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(a=s.value,n=a.split("-"),o=t.allFps.find((function(t){return parseInt(t.page_id,10)===parseInt(n[1],10)})),o){e.next=5;break}return e.abrupt("return","continue");case 5:i=Object(l["a"])(t.selectedAccounts),e.prev=6,i.s();case 8:if((c=i.n()).done){e.next=16;break}return r=c.value,e.next=12,t.api.post("/pages/share/?from_account_id=".concat(n[0],"&page_id=").concat(o.page_id,"&to_account_id=").concat(r.id,"&role=").concat(t.role));case 12:u=e.sent,200===u.status&&u.data&&u.data.result&&u.data.result?t.responses.push({fp:o,accountName:r.name,success:!0,error:!1,response:null}):t.responses.push({fp:o,accountName:r.name,success:!1,error:!0,response:u});case 14:e.next=8;break;case 16:e.next=21;break;case 18:e.prev=18,e.t0=e["catch"](6),i.e(e.t0);case 21:return e.prev=21,i.f(),e.finish(21);case 24:case"end":return e.stop()}}),e,null,[[6,18,21,24]])})),a.s();case 7:if((s=a.n()).done){e.next=14;break}return e.delegateYield(n(),"t0",9);case 9:if(o=e.t0,"continue"!==o){e.next=12;break}return e.abrupt("continue",12);case 12:e.next=7;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e["catch"](4),a.e(e.t1);case 19:return e.prev=19,a.f(),e.finish(19);case 22:e.next=26;break;case 24:e.prev=24,e.t2=e["catch"](0);case 26:return e.prev=26,t.loading=!1,t.$store.dispatch("accounts_v2/LOAD_ACCOUNTS"),e.finish(26);case 30:case"end":return e.stop()}}),e,null,[[0,24,26,30],[4,16,19,22]])})))()},openDetails:function(t){this.forDetails=t,this.detailsDialog=!0}}},ye=_e,xe=a("eb2a"),ke=Object(f["a"])(ye,he,be,!1,null,null,null),we=ke.exports;h()(ke,{VAutocomplete:ct["a"],VAvatar:Vt["a"],VBtn:b["a"],VCard:_["a"],VCardActions:y["a"],VCardText:y["b"],VCardTitle:y["c"],VChip:X["a"],VCol:rt["a"],VDialog:x["a"],VDivider:I["a"],VIcon:k["a"],VListItemContent:Bt["a"],VListItemSubtitle:Bt["b"],VListItemTitle:Bt["c"],VProgressLinear:w["a"],VRow:lt["a"],VSpacer:L["a"],VToolbar:R["a"],VToolbarItems:F["a"],VToolbarTitle:F["b"],VTreeview:xe["a"]});var $e=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-dialog",{attrs:{value:t.dialogs.turnOffPageNotifications,width:800,transition:"dialog-bottom-transition",scrollable:""},on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"esc",27,e.key,["Esc","Escape"])?null:t.closeDialog(e)},"click:outside":t.closeDialog}},[a("v-dialog",{attrs:{width:"700",scrollable:""},model:{value:t.detailsDialog,callback:function(e){t.detailsDialog=e},expression:"detailsDialog"}},[a("v-card",[a("v-card-title",{staticClass:"headline"},[t._v(" "+t._s(t.$t("common.learnMore"))+" ")]),a("v-card-text",{staticStyle:{"margin-top":"40px"}},[a("div",{staticClass:"d-flex justify-end"},[a("div",{staticStyle:{position:"fixed","margin-top":"-40px"}},[a("v-btn",{attrs:{color:"primary",text:""},on:{click:function(e){t.copyToClipboard(JSON.stringify(t.forDetails))}}},[a("v-icon",{staticClass:"mr-2",attrs:{size:14}},[t._v(" fas fa-copy ")]),t._v(" "+t._s(t.$t("common.copy"))+" ")],1)],1)]),a("code",{staticClass:"mt-0"},[t._v(t._s(JSON.stringify(t.forDetails,null,2)))])]),a("v-divider"),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",text:""},on:{click:function(e){t.detailsDialog=!1}}},[t._v(" "+t._s(t.$t("common.close"))+" ")])],1)],1)],1),a("v-card",[a("v-toolbar",{attrs:{color:"primary",dark:"",flat:"",dense:""}},[a("v-btn",{attrs:{icon:""},on:{click:t.closeDialog}},[a("v-icon",[t._v("fas fa-times")])],1),a("v-toolbar-title",[t._v(" "+t._s(t.$t("adsmanager.accounts.turnOffPageNotifications"))+" ")]),a("v-spacer"),a("v-toolbar-items",[t.$vuetify.breakpoint.sm||t.$vuetify.breakpoint.xs?t._e():a("v-btn",{attrs:{text:""},on:{click:t.closeDialog}},[t._v(" "+t._s(t.$t("common.cancel"))+" ")]),a("v-btn",{attrs:{text:"",disabled:t.$_.isEmpty(t.selectedPages),loading:t.loading},on:{click:t.turnOffNotifications}},[t._v(" "+t._s(t.$t("common.turnOff"))+" ")])],1)],1),a("v-card-text",[a("v-data-table",{attrs:{headers:t.colsAccounts,"fixed-header":"",items:t.accounts.selected},scopedSlots:t._u([{key:"item.account",fn:function(e){var a=e.item;return[t._v(" "+t._s(a.name)+" ")]}},{key:"item.page",fn:function(e){var s=e.item;return[a("v-data-table",{staticClass:"accounts-dialog-turn-off-page-notifications-pages-table",attrs:{headers:t.colsPages,"hide-default-header":"","hide-default-footer":"",items:s.pages,"items-per-page":-1,"show-select":""},scopedSlots:t._u([{key:"item.data-table-select",fn:function(e){var n=e.item;return[a("v-checkbox",{attrs:{"input-value":t.selectedPages.includes(n),ripple:!1,disabled:!t.pageIsReady(s,n).value},on:{change:function(e){return t.selectPage(n)}}})]}},{key:"item.pageName",fn:function(e){var s=e.item;return[void 0!==s.ava?a("v-avatar",{staticClass:"mr-1",attrs:{size:18}},[a("img",{attrs:{src:s.ava}})]):t._e(),void 0!==s.notifications&&1===parseInt(s.notifications,10)?a("v-icon",{attrs:{size:16}},[t._v(" far fa-bell ")]):t._e(),void 0!==s.notifications&&0===parseInt(s.notifications,10)?a("v-icon",{attrs:{size:16}},[t._v(" far fa-bell-slash ")]):t._e(),t._v(" "+t._s(s.name)+" ")]}},{key:"item.pageStatus",fn:function(e){var s=e.item;return[a("v-chip",{attrs:{color:t.pageStatus(s).color,"x-small":"",label:"",outlined:""}},[t._v(" "+t._s(t.pageStatus(s).status)+" ")])]}},{key:"item.jobStatus",fn:function(e){var n=e.item;return[t.pageIsReady(s,n).value?a("div",[t.responses[n.page_id]?t.responses&&t.responses[n.page_id]&&t.responses[n.page_id]["success"]?a("span",[a("v-icon",{attrs:{color:"green"}},[t._v(" check_box ")])],1):t.responses&&t.responses[n.page_id]&&!t.responses[n.page_id]["success"]?a("span",[a("v-icon",{attrs:{color:"red"}},[t._v(" cancel ")]),a("span",{staticStyle:{"font-size":"12px",cursor:"pointer",color:"#2196F3","text-decoration":"underline"},on:{click:function(e){return t.openDetails(t.responses[n.page_id]["response"])}}},[t._v(t._s(t.$t("common.learnMore")))])],1):t._e():a("v-progress-linear",{staticStyle:{"min-width":"50px"},attrs:{indeterminate:t.loadingPages.includes(n.page_id),value:0}})],1):a("span",{staticStyle:{color:"#9E9E9E"}},[t._v(" "+t._s(t.pageIsReady(s,n).text)+" ")])]}}],null,!0)})]}}],null,!0)})],1)],1)],1)},Ce=[],Ae={name:"AccountsDialogTurnOffPageNotifications",mixins:[D["a"]],data:function(){return{detailsDialog:!1,forDetails:[],loading:!1,selectedPages:[],responses:{},loadingPages:[]}},computed:Object(i["a"])(Object(i["a"])({},Object(p["c"])({accounts:"accounts_v2/accounts",dialogs:"accounts_v2/dialogs"})),{},{colsAccounts:function(){var t=[];return t.push({text:this.$t("common.account"),value:"account",width:150}),t.push({text:this.$t("common.fanPage"),value:"page"}),t},colsPages:function(){var t=[];return t.push({text:this.$t("settings.adsCreation.settingsPage.pageName"),value:"pageName",width:150}),t.push({text:this.$t("common.status"),value:"pageStatus",width:150,sortable:!1}),t.push({text:this.$t("common.jobStatus"),value:"jobStatus",sortable:!1}),t}}),methods:{closeDialog:function(){this.$store.dispatch("accounts_v2/closeDialog","turnOffPageNotifications")},pageIsReady:function(t){return t&&"ACTIVE"!==t.status&&"ACTIVITY_BLOCK"!==t.status?{text:this.$t("common.errorMessages.accountIsNotActive"),value:!1}:t&&this.$_.isEmpty(t.cookies)?{text:this.$t("common.errorMessages.accountHasNoCookies"),value:!1}:{value:!0}},turnOffNotifications:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){var a,s,n,o,i,c,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:e.prev=0,a=!1,t.loading=!0,t.responses={},t.loadingPages=[],s=Object(l["a"])(t.selectedPages);try{for(s.s();!(n=s.n()).done;)o=n.value,t.loadingPages.push(o.page_id)}catch(u){s.e(u)}finally{s.f()}i=Object(l["a"])(t.selectedPages),e.prev=7,r=regeneratorRuntime.mark((function e(){var s,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return s=c.value,e.next=3,t.api.post("/pages/turn_off_all_notifications/?account_id=".concat(s.account_id,"&page_id=").concat(s.page_id));case 3:n=e.sent,200===n.status&&n.data.result?(a||(a=!0),t.$set(t.responses,s.page_id,{success:!0}),t.selectedPages=t.selectedPages.filter((function(t){return parseInt(t.page_id,10)!==parseInt(s.page_id,10)})),t.loadingPages=t.loadingPages.filter((function(t){return parseInt(t.page_id,10)!==parseInt(s.page_id,10)})),t.$store.dispatch("accounts_v2/setFanPageNotifications",{accountId:s.account_id,pageId:s.page_id,value:0})):t.$set(t.responses,s.page_id,{success:!1,response:n});case 5:case"end":return e.stop()}}),e)})),i.s();case 10:if((c=i.n()).done){e.next=14;break}return e.delegateYield(r(),"t0",12);case 12:e.next=10;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e["catch"](7),i.e(e.t1);case 19:return e.prev=19,i.f(),e.finish(19);case 22:a&&t.$store.dispatch("accounts_v2/LOAD_ACCOUNTS"),e.next=27;break;case 25:e.prev=25,e.t2=e["catch"](0);case 27:return e.prev=27,t.loading=!1,t.loadingPages=[],e.finish(27);case 31:case"end":return e.stop()}}),e,null,[[0,25,27,31],[7,16,19,22]])})))()},openDetails:function(t){this.forDetails=t,this.detailsDialog=!0},selectPage:function(t){this.selectedPages.includes(t)?this.selectedPages=this.selectedPages.filter((function(e){return parseInt(e.page_id,10)!==parseInt(t.page_id,10)})):this.selectedPages.push(t)},pageStatus:function(t){return void 0!==t.advertising_restriction&&1===parseInt(t.advertising_restriction,10)?{status:"banned",color:"error"}:void 0!==t.is_published&&0===parseInt(t.is_published,10)?{status:"unpublished",color:"error"}:{status:"active",color:"success"}}}},Te=Ae,De=(a("334a"),Object(f["a"])(Te,$e,Ce,!1,null,null,null)),Se=De.exports;h()(De,{VAvatar:Vt["a"],VBtn:b["a"],VCard:_["a"],VCardActions:y["a"],VCardText:y["b"],VCardTitle:y["c"],VCheckbox:V["a"],VChip:X["a"],VDataTable:j["a"],VDialog:x["a"],VDivider:I["a"],VIcon:k["a"],VProgressLinear:w["a"],VSpacer:L["a"],VToolbar:R["a"],VToolbarItems:F["a"],VToolbarTitle:F["b"]});var Oe=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-dialog",{attrs:{value:t.dialogs.unarchive,"hide-overlay":"",persistent:"",width:"300","content-class":"loading-modal"}},[a("v-card",{attrs:{color:"primary"}},[a("v-card-text",[a("div",{staticStyle:{display:"flex","justify-content":"space-between"}},[a("div",[t._v(" "+t._s(t.$t("dialogs.accounts.unarchive.loadingText"))+" ")]),a("div",[t._v(" "+t._s(t.done)+" / "+t._s(t.accounts.selected.length)+" ")])]),a("v-progress-linear",{staticClass:"mb-0",attrs:{indeterminate:"",color:"white"}})],1)],1)],1)},Pe=[],Ve={name:"AccountsDialogsUnarchive",data:function(){return{showLoading:!0,done:0}},computed:Object(i["a"])({},Object(p["c"])({accounts:"accounts_v2/accounts",dialogs:"accounts_v2/dialogs"})),created:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!(t.accounts.selected&&Array.isArray(t.accounts.selected)&&t.accounts.selected.length>0)){e.next=8;break}return a={ids:t.accounts.selected.map((function(t){return t.id}))},e.next=4,t.api.post("/accounts/unarchive",a).catch((function(){return!0}));case 4:t.$store.dispatch("accounts_v2/closeDialog","unarchive"),t.$store.dispatch("accounts_v2/LOAD_ACCOUNTS"),e.next=9;break;case 8:t.$store.dispatch("accounts_v2/closeDialog","unarchive");case 9:case"end":return e.stop()}}),e)})))()}},je=Ve,Ie=Object(f["a"])(je,Oe,Pe,!1,null,null,null),Le=Ie.exports;h()(Ie,{VCard:_["a"],VCardText:y["b"],VDialog:x["a"],VProgressLinear:w["a"]});var Re=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-dialog",{attrs:{value:t.dialogs.assignTags,persistent:"","max-width":"600px"}},[a("v-card",{attrs:{loading:t.loading.assignTagsDialog}},[a("v-card-title",[a("span",{staticClass:"headline"},[t._v(" "+t._s(t.$t("dialogs.accounts.assignTags.title",{accountName:t.newAccount.name}))+" ")])]),a("v-card-text",[a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("v-combobox",{attrs:{label:t.$t("common.tags"),items:t.tags.all,multiple:"",chips:"","deletable-chips":"",clearable:""},model:{value:t.newAccount.tags,callback:function(e){t.$set(t.newAccount,"tags",e)},expression:"newAccount.tags"}})],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(e){return t.$store.dispatch("accounts_v2/closeDialog","assignTags")}}},[t._v(" "+t._s(t.$t("common.close"))+" ")]),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:t.saveTags}},[t._v(" "+t._s(t.$t("common.save"))+" ")])],1)],1)],1)},Fe=[],Ne={name:"AccountsAssignTagsDialog",data:function(){return{newAccount:{name:""}}},computed:Object(i["a"])({},Object(p["c"])({dialogs:"accounts_v2/dialogs",tags:"tags/tags",account:"accounts_v2/accountForAssigningTags",loading:"accounts_v2/loading"})),created:function(){this.newAccount=Object(i["a"])({},this.account),this.$store.dispatch("tags/loadTags")},methods:{saveTags:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$store.dispatch("accounts_v2/saveTags",t.newAccount);case 2:a=e.sent,a&&(t.$store.dispatch("tags/loadTags"),t.$store.dispatch("accounts_v2/closeDialog","assignTags"));case 4:case"end":return e.stop()}}),e)})))()}}},Ee=Ne,ze=Object(f["a"])(Ee,Re,Fe,!1,null,null,null),Me=ze.exports;h()(ze,{VBtn:b["a"],VCard:_["a"],VCardActions:y["a"],VCardText:y["b"],VCardTitle:y["c"],VCol:rt["a"],VCombobox:ae["a"],VContainer:yt["a"],VDialog:x["a"],VRow:lt["a"],VSpacer:L["a"]});var Be=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-dialog",{attrs:{value:t.dialogs.edit,persistent:"",fullscreen:""},on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"esc",27,e.key,["Esc","Escape"])?null:t.close(e)}}},[a("v-card",{attrs:{loading:t.loading.editDialog}},[a("v-toolbar",{attrs:{color:"primary"}},[a("v-btn",{attrs:{icon:""},on:{click:t.close}},[a("v-icon",[t._v("fas fa-times")])],1),a("v-toolbar-title",[t._v(t._s(t.$t("dialogs.accounts.edit.title",{accountName:t.account.name})))]),a("v-spacer"),a("v-toolbar-items",[a("v-btn",{attrs:{text:"",disabled:!t.validation.state},on:{click:t.saveAccount}},[t._v(" "+t._s(t.$t("common.save"))+" ")])],1)],1),a("v-card-text",[a("dialog-form",{attrs:{edit:"",account:t.account},on:{change:function(e){return t.changeAccount(e)},"validation-changed":function(e){t.validation.state=e}}})],1)],1)],1)},Ue=[],qe=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-form",{ref:"form",model:{value:t.validation.state,callback:function(e){t.$set(t.validation,"state",e)},expression:"validation.state"}},[a("v-container",[a("v-dialog",{attrs:{width:"700",scrollable:""},model:{value:t.infoDialog,callback:function(e){t.infoDialog=e},expression:"infoDialog"}},[a("v-card",[a("v-card-title",{staticClass:"headline"},[t._v(" "+t._s(t.$t("common.howToGet"))+" ")]),a("v-card-text",{domProps:{innerHTML:t._s(t.$t("adsmanager.accounts.add.howToGetBmToken"))}}),a("v-divider"),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",text:""},on:{click:function(e){t.infoDialog=!1}}},[t._v(" "+t._s(t.$t("common.close"))+" ")])],1)],1)],1),a("v-row",[a("v-col",{attrs:{cols:"12",sm:"6"}},[a("v-col",{attrs:{cols:"12"}},[a("v-text-field",{attrs:{label:t.$t("common.name"),rules:t.validation.rules.name,required:"",outlined:"",dense:""},model:{value:t.newAccount.name,callback:function(e){t.$set(t.newAccount,"name",e)},expression:"newAccount.name"}})],1),a("v-col",{attrs:{cols:"12"}},[a("v-combobox",{attrs:{label:t.$t("common.tags"),items:t.tags.all,multiple:"",chips:"","deletable-chips":"",outlined:"",dense:!(t.newAccount.tags&&(!t.newAccount.tags||0!==t.newAccount.tags.length))},model:{value:t.newAccount.tags,callback:function(e){t.$set(t.newAccount,"tags",e)},expression:"newAccount.tags"}})],1),a("v-col",{attrs:{cols:"12"}},[a("v-textarea",{attrs:{label:t.$t("common.access_token"),rules:t.validation.rules.access_token,outlined:"",dense:"",spellcheck:!1},on:{change:t.accessTokenCheck},model:{value:t.newAccount.access_token,callback:function(e){t.$set(t.newAccount,"access_token",e)},expression:"newAccount.access_token"}}),t.showAccessTokenAlert?a("v-alert",{attrs:{text:"",color:"red",dense:"","hide-details":""}},[t._v(" "+t._s(t.$t("adsmanager.accounts.add.incorrectAccessTokenAlert"))+" ")]):t._e()],1),a("v-col",{attrs:{cols:"12"}},[a("v-expansion-panels",{attrs:{accordion:""}},[a("v-expansion-panel",[a("v-expansion-panel-header",[t._v(t._s(t.$t("upload.wizard.cardsTitles.additionally")))]),a("v-expansion-panel-content",[a("v-col",{attrs:{cols:"12"}},[a("v-textarea",{staticClass:"textarea-with-info-button",attrs:{label:t.$t("adsmanager.accounts.add.bmAccessToken")+" ("+t.$t("common.optional").toLowerCase()+")",outlined:"",dense:"","hide-details":"",spellcheck:!1},on:{change:t.bmAccessTokenCheck},scopedSlots:t._u([{key:"append",fn:function(){return[a("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on;return[a("v-btn",t._g({attrs:{"x-small":"",icon:""}},s),[a("v-icon",{attrs:{size:16}},[t._v(" far fa-question-circle ")])],1)]}}])},[a("span",[t._v(t._s(t.$t("adsmanager.accounts.add.infoBmToken")))])])]},proxy:!0}]),model:{value:t.newAccount.business_access_token,callback:function(e){t.$set(t.newAccount,"business_access_token",e)},expression:"newAccount.business_access_token"}}),a("div",[t.accountHasCookies?a("a",{attrs:{href:"#"},on:{click:t.getBmTokenWithCookies}},[t._v(" "+t._s(t.$t("adsmanager.accounts.getBmTokenWithCookies"))+" ")]):t._e(),t.gettingBmTokenWithCookies.progress?a("v-icon",{attrs:{size:14}},[t._v(" fas fa-circle-notch fa-spin ")]):t._e(),t.gettingBmTokenWithCookies.response&&!t.gettingBmTokenWithCookies.result?a("v-icon",{attrs:{size:16,color:"red"}},[t._v(" fas fa-times-circle ")]):t._e(),t.gettingBmTokenWithCookies.response&&t.gettingBmTokenWithCookies.result?a("v-icon",{attrs:{size:16,color:"green"}},[t._v(" fas fa-check-square ")]):t._e()],1),t.showBmAccessTokenAlert?a("v-alert",{staticClass:"my-2",attrs:{text:"",color:"red",dense:"","hide-details":""}},[t._v(" "+t._s(t.$t("adsmanager.accounts.add.incorrectBmAccessTokenAlert"))+" ")]):t._e(),a("div",{staticClass:"span-link",on:{click:function(e){t.infoDialog=!0}}},[t._v(" "+t._s(t.$t("common.howToGet"))+" ")])],1),a("v-col",{attrs:{cols:"12"}},[a("v-textarea",{staticClass:"textarea-with-info-button",attrs:{value:t.accountHasCookies?JSON.stringify(t.account.cookies):null,label:t.$t("common.cookies")+" ("+t.$t("common.optional").toLowerCase()+")",outlined:"",dense:"","hide-details":"",spellcheck:!1},on:{input:function(e){t.cookiesInput=e}},scopedSlots:t._u([{key:"append",fn:function(){return[a("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on;return[a("v-btn",t._g({attrs:{"x-small":"",icon:""}},s),[a("v-icon",{attrs:{size:16}},[t._v(" far fa-question-circle ")])],1)]}}])},[a("span",[t._v(t._s(t.$t("adsmanager.accounts.add.infoCookies")))])])]},proxy:!0}])}),a("v-alert",{directives:[{name:"show",rawName:"v-show",value:t.noFbCookies,expression:"noFbCookies"}],staticClass:"mt-2 mb-0",attrs:{color:"error",dark:"",text:""}},[t._v(" "+t._s(t.$t("adsmanager.accounts.noFbCookies"))+" ")])],1),a("v-col",{attrs:{cols:"12"}},[a("v-text-field",{attrs:{label:"Facebook "+t.$t("common.password"),outlined:"",dense:"","hide-details":"",spellcheck:!1},model:{value:t.newAccount.password,callback:function(e){t.$set(t.newAccount,"password",e)},expression:"newAccount.password"}})],1)],1)],1)],1)],1)],1),a("v-col",{attrs:{cols:"12",sm:"6"}},[a("v-col",{attrs:{cols:"12"}},[a("v-switch",{staticClass:"mt-0",attrs:{label:t.$t("common.useragent")},model:{value:t.show.useragent,callback:function(e){t.$set(t.show,"useragent",e)},expression:"show.useragent"}}),t.show.useragent?a("v-text-field",{attrs:{label:t.$t("common.useragent"),rules:t.validation.rules.useragent,outlined:"",dense:""},scopedSlots:t._u([{key:"prepend-inner",fn:function(){return[a("v-btn",{attrs:{"x-small":"",icon:""},on:{click:t.randomizeUseragent}},[a("v-icon",{staticStyle:{"margin-top":"3px"}},[t._v(" autorenew ")])],1)]},proxy:!0}],null,!1,1913038471),model:{value:t.newAccount.useragent,callback:function(e){t.$set(t.newAccount,"useragent",e)},expression:"newAccount.useragent"}}):t._e()],1),a("v-col",{attrs:{cols:"12"}},[a("v-switch",{attrs:{label:t.$t("common.proxy")},model:{value:t.show.proxy,callback:function(e){t.$set(t.show,"proxy",e)},expression:"show.proxy"}}),t.show.proxy?a("v-row",[a("v-col",{attrs:{cols:"12",md:"6"}},[a("v-autocomplete",{attrs:{items:t.proxy.all.concat(t.newProxies),label:t.$t("common.existingProxy"),"item-value":function(t){return t.id},filter:t.searchExistingProxy,clearable:"",outlined:"",dense:""},scopedSlots:t._u([{key:"item",fn:function(e){var a=e.item;return[t._v(" ["+t._s(a.accounts_count)+"] "+t._s("undefined"!==typeof a&&"undefined"!==typeof a.name&&null!==a.name?a.name:null===a.login?a.ip+":"+a.port:a.ip+":"+a.port+":"+a.login+":"+a.password)+" ")]}},{key:"selection",fn:function(e){var a=e.item;return[t._v(" ["+t._s(a.accounts_count)+"] "+t._s("undefined"!==typeof a&&"undefined"!==typeof a.name&&null!==a.name?a.name:null===a.login?a.ip+":"+a.port:a.ip+":"+a.port+":"+a.login+":"+a.password)+" ")]}}],null,!1,2306704892),model:{value:t.existingProxy,callback:function(e){t.existingProxy=e},expression:"existingProxy"}})],1),a("v-col",{attrs:{cols:"12",md:"6"}},[a("v-text-field",{attrs:{label:t.$t("adsmanager.accounts.add.quickInput"),outlined:"",dense:""},model:{value:t.quickInput,callback:function(e){t.quickInput=e},expression:"quickInput"}})],1),a("v-col",{attrs:{cols:"12",sm:"6"}},[t.newAccount.proxy?a("v-text-field",{attrs:{label:t.$t("common.name"),outlined:"",dense:""},model:{value:t.newAccount.proxy.name,callback:function(e){t.$set(t.newAccount.proxy,"name",e)},expression:"newAccount.proxy.name"}}):t._e()],1),a("v-col",{attrs:{cols:"12",sm:"6"}},[t.newAccount.proxy?a("v-select",{attrs:{label:t.$t("common.type"),items:t.proxy_types,rules:t.validation.rules.proxy,outlined:"",dense:""},model:{value:t.newAccount.proxy.type,callback:function(e){t.$set(t.newAccount.proxy,"type",e)},expression:"newAccount.proxy.type"}}):t._e()],1),a("v-col",{attrs:{cols:"12",sm:"6"}},[t.newAccount.proxy?a("v-text-field",{attrs:{label:t.$t("common.host"),rules:t.validation.rules.proxy,outlined:"",dense:""},model:{value:t.newAccount.proxy.ip,callback:function(e){t.$set(t.newAccount.proxy,"ip",e)},expression:"newAccount.proxy.ip"}}):t._e()],1),a("v-col",{attrs:{cols:"12",sm:"6"}},[t.newAccount.proxy?a("v-text-field",{attrs:{label:t.$t("common.port"),rules:t.validation.rules.proxy,outlined:"",dense:""},model:{value:t.newAccount.proxy.port,callback:function(e){t.$set(t.newAccount.proxy,"port",e)},expression:"newAccount.proxy.port"}}):t._e()],1),a("v-col",{attrs:{cols:"12",sm:"6"}},[t.newAccount.proxy?a("v-text-field",{attrs:{label:t.$t("common.login"),outlined:"",dense:""},model:{value:t.newAccount.proxy.login,callback:function(e){t.$set(t.newAccount.proxy,"login",e)},expression:"newAccount.proxy.login"}}):t._e()],1),a("v-col",{attrs:{cols:"12",sm:"6"}},[t.newAccount.proxy?a("v-text-field",{attrs:{label:t.$t("common.password"),outlined:"",dense:""},model:{value:t.newAccount.proxy.password,callback:function(e){t.$set(t.newAccount.proxy,"password",e)},expression:"newAccount.proxy.password"}}):t._e()],1)],1):t._e()],1)],1)],1)],1)],1)},Ye=[],He=(a("2ca0"),a("5319"),a("a15b"),a("8624")),We={name:"AccountsDialogForm",props:{edit:{type:Boolean,default:!1},account:{type:Object,default:function(){return{}}}},data:function(){var t=this;return{proxy_types:nt["a"],useragents:He["a"],validation:{state:!1,rules:{name:[function(e){return!!e||t.$t("common.required").toLowerCase()}],access_token:[function(e){return!!e||t.$t("common.required").toLowerCase()}],proxy:[function(e){return!e||0!==e.length||!t.show.proxy||t.$t("common.required").toLowerCase()}],useragent:[function(e){return!e||0!==e.length||!t.show.useragent||t.$t("common.required").toLowerCase()}]}},existingProxy:{},newAccount:{name:"",tags:[],access_token:"",business_access_token:"",useragent:"",proxy:{name:"",type:"",host:"",port:"",login:"",password:""},newProxy:null,cookies:null,lsd:"",fbdtsg:"",password:""},show:{useragent:!0,proxy:!1},quickInput:null,newProxies:[],showAccessTokenAlert:!1,showBmAccessTokenAlert:!1,cookiesInput:"",infoDialog:!1,gettingBmTokenWithCookies:{progress:!1,response:null,result:!1},noFbCookies:!1}},computed:Object(i["a"])(Object(i["a"])({},Object(p["c"])({dialogs:"accounts_v2/dialogs",tags:"tags/tags",proxy:"proxy/proxy"})),{},{accountHasCookies:function(){return"undefined"!==typeof this.account&&"undefined"!==typeof this.account.cookies&&Array.isArray(this.account.cookies)&&this.account.cookies.length>0}}),watch:{"show.useragent":function(){!1===this.show.useragent&&(this.newAccount.useragent="")},"show.proxy":function(){this.$emit("proxyChange",this.show.proxy),!1===this.show.proxy?this.newAccount.proxy={name:"",type:"",ip:"",port:"",login:"",password:""}:this.existingProxy&&this.loadDataFromExistingProxy()},existingProxy:function(){this.loadDataFromExistingProxy()},newAccount:{deep:!0,handler:function(){this.$emit("change",this.newAccount)}},"newAccount.useragent":{deep:!0,handler:function(t){this.$emit("useragentChange",t)}},"validation.state":function(){this.$emit("validation-changed",this.validation.state)},quickInput:function(){this.parse()},cookiesInput:{handler:function(t){this.parseCookies(t)}},"newAccount.cookies":{deep:!0,handler:function(t){if(this.noFbCookies=!1,Array.isArray(t)&&t.length){var e=t.filter((function(t){try{for(var e=Object.keys(t),a=0,s=e;a<s.length;a++){var n=s[a];if("domain"===n.toLowerCase()&&t[n].includes("facebook.com"))return!0}return!1}catch(o){return!1}}));0===e.length&&(this.noFbCookies=!0)}}}},created:function(){this.randomizeUseragent(),this.edit&&(this.$store.dispatch("tags/loadTags"),this.$store.dispatch("proxy/loadProxy"),null!==this.account.proxy_id&&(this.show.proxy=!0,this.existingProxy=this.account.proxy_id),this.newAccount=this.$_.cloneDeep(this.account),null!==this.newAccount.user_agent&&this.newAccount.user_agent.length>0&&(this.show.useragent=!0,this.newAccount.useragent=this.newAccount.user_agent))},methods:{getBmTokenWithCookies:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.$set(t.gettingBmTokenWithCookies,"progress",!0),e.prev=1,e.next=4,t.api("/accounts/get_business_token_with_cookies/?account_id=".concat(t.account.id));case 4:a=e.sent,e.next=10;break;case 7:e.prev=7,e.t0=e["catch"](1),t.$set(t.gettingBmTokenWithCookies,"progress",!1);case 10:t.$set(t.gettingBmTokenWithCookies,"progress",!1),t.$set(t.gettingBmTokenWithCookies,"response",a.data),t.$set(t.gettingBmTokenWithCookies,"result",a.data.result),a.data&&a.data.result&&a.data.token&&t.$set(t.newAccount,"business_access_token",a.data.token);case 14:case"end":return e.stop()}}),e,null,[[1,7]])})))()},searchExistingProxy:function(t,e){var a=e.toLowerCase();return!(!t||!t.name||-1===t.name.toString().toLowerCase().search(a))||(!(!t.ip||-1===t.ip.toString().toLowerCase().search(a))||(!(!t.port||-1===t.port.toString().toLowerCase().search(a))||(!(!t.login||-1===t.login.toString().toLowerCase().search(a))||!(!t.password||-1===t.password.toString().toLowerCase().search(a)))))},loadDataFromExistingProxy:function(){var t=this;"undefined"===typeof this.existingProxy&&(this.newAccount.proxy={name:"",type:"",ip:"",port:"",login:"",password:""},this.quickInput=null);var e=this.proxy.all.find((function(e){return e.id===t.existingProxy}));e&&(this.newAccount.proxy=Object(i["a"])({},e))},accessTokenCheck:function(){return 0!==this.newAccount.access_token.toLowerCase().search("eaabs")?this.showAccessTokenAlert=!0:this.showAccessTokenAlert=!1},bmAccessTokenCheck:function(){return this.newAccount.business_access_token.toLowerCase().startsWith("eaag")?this.showBmAccessTokenAlert=!1:this.showBmAccessTokenAlert=!0},parse:function(){if(null!==this.quickInput&&""!==this.quickInput){this.newProxies=[];var t={proxy:{id:null,ip:null,port:null,login:null,password:null,name:null,accounts_count:0,type:null},newProxy:null},e=this.quickInput.trim();if(-1===e.indexOf(":")){var a=this.proxy.all.find((function(t){return t.id===parseInt(e)}));t.proxy=Object(i["a"])({},a),t.newProxy=null}else{t.newProxy=this.quickInput.trim();var s=null;-1===e.indexOf("/")?s="http":e.split("://").length>1&&(s=e.split("://")[0].toLowerCase(),"https"===s&&(s="http"),"socks"===s&&(s="socks5"),e=e.split("://")[1]),e.split(":").length>1&&(2===e.split(":").length&&(t.proxy={id:null,ip:e.split(":")[0].trim(),port:e.split(":")[1].trim(),login:null,password:null,name:null,accounts_count:0,type:s}),3===e.split(":").length&&(t.proxy={id:null,ip:e.split(":")[0].trim(),port:e.split(":")[1].trim(),login:null,password:null,name:e.split(":")[2].trim(),accounts_count:0,type:s}),4===e.split(":").length&&(t.proxy={id:null,ip:e.split(":")[0].trim(),port:e.split(":")[1].trim(),login:e.split(":")[2].trim(),password:e.split(":")[3].trim(),name:null,accounts_count:0,type:s}),5===e.split(":").length&&(t.proxy={id:null,ip:e.split(":")[0].trim(),port:e.split(":")[1].trim(),login:e.split(":")[2].trim(),password:e.split(":")[3].trim(),name:e.split(":")[4].trim(),accounts_count:0,type:s}))}null===t.proxy.id&&null!==t.proxy.ip&&null!==t.proxy.port&&(this.newProxies.push(Object(i["a"])({},t.proxy)),this.existingProxy=Object(i["a"])({},t.proxy),this.newAccount.proxy=Object(i["a"])({},t.proxy))}},randomizeUseragent:function(){var t=this.useragents.length,e=1,a=Math.floor(Math.random()*(t-e+1)+e);return this.newAccount.useragent=this.useragents[a-1]},isJsonString:function(t){try{JSON.parse(t)}catch(e){return!1}return!0},isBase64:function(t){try{return btoa(atob(t))===t}catch(e){return!1}},parseNetscapeCookies:function(t){var e=t.toString().split("\n");if(0===e.length)return[];var a,s=[],n=Object(l["a"])(e);try{for(n.s();!(a=n.n()).done;){var o=a.value,i=o.toString();if("#"!==i.substring(0,1)&&0!==i.trim().length&&-1!==i.search("\t")){var c=i.split("\t"),r={};r.domain="undefined"===typeof c[0]?null:c[0],r.httpOnly="undefined"===typeof c[1]?null:"TRUE"===c[1].toString().toUpperCase(),r.path="undefined"===typeof c[2]?null:c[2],r.secure="undefined"===typeof c[3]?null:"TRUE"===c[3].toString().toUpperCase(),r.expirationDate="undefined"===typeof c[4]?null:parseInt(c[4]),r.name="undefined"===typeof c[5]?null:c[5],r.value="undefined"===typeof c[6]?null:c[6],s.push(r)}}}catch(u){n.e(u)}finally{n.f()}return s},parseCookies:function(t){var e=t;this.newAccount.cookies="",this.isBase64(e)&&(e=atob(e)),this.isJsonString(e)?this.newAccount.cookies=JSON.parse(e):this.newAccount.cookies=this.parseNetscapeCookies(e)},sanitizeAdditionalTokens:function(t,e){"lsd"===e&&this.$set(this.newAccount,"lsd",t.split(" ").join("").split('"').join("").split("\n").join("").replace("lsd","").replace("LSD","")),"fbdtsg"===e&&this.$set(this.newAccount,"fbdtsg",t.split(" ").join("").split('"').join("").split("\n").join("").replace("fbdtsg","").replace("FBDTSG",""))}}},Je=We,Ge=(a("4cbb"),a("cd55")),Ke=a("49e2"),Qe=a("c865"),Xe=a("0393"),Ze=a("4bd4"),ta=a("3a2f"),ea=Object(f["a"])(Je,qe,Ye,!1,null,null,null),aa=ea.exports;h()(ea,{VAlert:Q["a"],VAutocomplete:ct["a"],VBtn:b["a"],VCard:_["a"],VCardActions:y["a"],VCardText:y["b"],VCardTitle:y["c"],VCol:rt["a"],VCombobox:ae["a"],VContainer:yt["a"],VDialog:x["a"],VDivider:I["a"],VExpansionPanel:Ge["a"],VExpansionPanelContent:Ke["a"],VExpansionPanelHeader:Qe["a"],VExpansionPanels:Xe["a"],VForm:Ze["a"],VIcon:k["a"],VRow:lt["a"],VSelect:ut["a"],VSpacer:L["a"],VSwitch:jt["a"],VTextField:dt["a"],VTextarea:It["a"],VTooltip:ta["a"]});var sa={name:"AccountsSingleEditDialog",components:{DialogForm:aa},data:function(){return{validation:{state:!1},newAccount:{},initialAccount:{},initialAccountChanges:!1}},computed:Object(i["a"])({},Object(p["c"])({dialogs:"accounts_v2/dialogs",loading:"accounts_v2/loading",account:"accounts_v2/forEdit"})),methods:{close:function(){(this.$_.isEqual(this.newAccount,this.initialAccount)||(this.confirmation=confirm(this.$t("common.closeDialogConfirmation")),this.confirmation))&&this.$store.dispatch("accounts_v2/closeDialog","edit")},changeAccount:function(t){this.newAccount=t,this.initialAccountChanges||(this.initialAccount=this.$_.cloneDeep(t),this.initialAccountChanges=!0)},saveAccount:function(){this.$store.dispatch("accounts_v2/saveAccount",this.newAccount)}}},na=sa,oa=Object(f["a"])(na,Be,Ue,!1,null,null,null),ia=oa.exports;h()(oa,{VBtn:b["a"],VCard:_["a"],VCardText:y["b"],VDialog:x["a"],VIcon:k["a"],VSpacer:L["a"],VToolbar:R["a"],VToolbarItems:F["a"],VToolbarTitle:F["b"]});var ca=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-card",[a("v-card-text",{staticStyle:{padding:"0px 8px 0px 8px"}},[a("v-data-table",{staticClass:"stat-table stat-table-accounts",attrs:{id:"adsmanagerMainTableAccounts",value:t.selected,headers:t.cols,items:t.accounts.filtered,loading:t.loading.mainTable,"loading-text":t.$t("common.loading"),"fixed-header":"",height:t.$vuetify.breakpoint.xs||t.$vuetify.breakpoint.sm?t.innerHeight-166:t.innerHeight-50-48-32,"show-select":"","custom-sort":t.customSortsAccounts,"server-items-length":t.accounts.count,"hide-default-footer":"","mobile-breakpoint":0,"header-props":{"sort-icon":"arrow_downward"},page:t.page,options:t.options,"items-per-page":t.itemsPerPage},on:{"update:page":[function(e){t.page=e},t.updatePage],"update:options":function(e){t.options=e},"toggle-select-all":t.selectAll,"item-selected":t.selectItem,"update:items-per-page":function(e){return t.setItemsPerPage(e)}},scopedSlots:t._u([{key:"header.data-table-select",fn:function(e){var s=e.on,n=e.props;return[a("v-simple-checkbox",t._g(t._b({staticStyle:{width:"48px","text-align":"center"},attrs:{color:"primary"}},"v-simple-checkbox",n,!1),s))]}},{key:"body",fn:function(e){var s=e.items;return[a("tbody",t._l(s,(function(e){return a("tr",{key:"row-"+e.id,staticStyle:{cursor:"pointer"},on:{click:function(a){return t.selectItemByRow(e,a)}}},[a("td",[a("div",[a("v-simple-checkbox",{directives:[{name:"ripple",rawName:"v-ripple"}],staticStyle:{width:"48px","text-align":"center"},attrs:{color:"primary",value:void 0!==t.accounts.selected.find((function(t){return t.id===e.id}))},on:{input:function(a){return t.selectItem(e,a)}}})],1)]),a("td",[a("accounts-main-table-info",{attrs:{account:e}})],1),a("td",[a("accounts-main-table-status",{attrs:{account:e}})],1),t._l(t.profile.columns,(function(s){return[t.showSimpleStatCell(s)?a("simple-stat-cell",{key:"stat-col-"+s,attrs:{col:s,item:e}}):t._e(),t.actionCols.indexOf(s)>-1?a("complex-stat-cell-quantity",{key:"stat-col-"+s+"-quantity",attrs:{col:s,item:e}}):t._e(),s.lastIndexOf("cr")===s.length-2?a("complex-stat-cell-cr",{key:"stat-col-"+s+"-cr",attrs:{col:s,item:e}}):t._e(),s.lastIndexOf("cpa")===s.length-3?a("complex-stat-cell-cpa",{key:"stat-col-"+s+"-cpa",attrs:{col:s,item:e}}):t._e(),"account_fan_pages"===s?a("account-fan-pages-cell",{key:"stat-col-"+s+"-cpa",attrs:{item:e}}):t._e(),"account_bms"===s?a("account-bms-cell",{key:"stat-col-"+s+"-cpa",attrs:{item:e}}):t._e()]}))],2)})),0),a("tfoot",[t.accounts.filtered.length>0?a("tr",[a("td"),a("td"),a("td"),t._l(t.profile.columns,(function(e){return[t.showSimpleStatCell(e)?a("simple-stat-cell",{key:"stat-col-"+e+"-total",attrs:{col:e,"it-is-total-row":""}}):t._e(),t.actionCols.indexOf(e)>-1?a("complex-stat-cell-quantity",{key:"stat-col-"+e+"-quantity-total",attrs:{col:e,"it-is-total-row":""}}):t._e(),e.lastIndexOf("cr")===e.length-2?a("complex-stat-cell-cr",{key:"stat-col-"+e+"-cr-total",attrs:{col:e,"it-is-total-row":""}}):t._e(),e.lastIndexOf("cpa")===e.length-3?a("complex-stat-cell-cpa",{key:"stat-col-"+e+"-cpa-total",attrs:{col:e,"it-is-total-row":""}}):t._e(),"account_fan_pages"===e?a("td",{key:"stat-col-"+e+"-total"}):t._e(),"account_bms"===e?a("td",{key:"stat-col-"+e+"-total"}):t._e()]}))],2):t._e()])]}}],null,!0)}),a("div",{staticClass:"d-flex justify-end align-center dolphin-main-table-footer",class:{"justify-center":t.$vuetify.breakpoint.xs||t.$vuetify.breakpoint.sm,"justify-space-between":!t.$vuetify.breakpoint.xs&&!t.$vuetify.breakpoint.sm}},[t.$vuetify.breakpoint.xs||t.$vuetify.breakpoint.sm?t._e():a("div",{staticClass:"dolphin-main-table-footer-tags",staticStyle:{overflow:"hidden","white-space":"nowrap","overflow-x":"auto","scroll-direction":"horizontal",width:"auto","margin-right":"auto"}},t._l(t.popularTags,(function(e){return a("v-chip",{key:e,staticClass:"mr-1",attrs:{color:t.detectColor(e),dark:"",outlined:t.filters.tags&&!t.filters.tags.includes(e),"x-small":"",label:""},on:{click:function(a){return t.filterByTags(e)}}},[t._v(" "+t._s(e)+" ")])})),1),a("div",{staticClass:"mx-2",staticStyle:{"white-space":"nowrap"}},[t._v(" "+t._s(t.currentTableItems+" "+(t.accounts.count?t.$t("common.of").toLowerCase()+" "+t.accounts.count:""))+" ")]),a("div",{staticStyle:{"white-space":"nowrap"}},[a("v-btn",{attrs:{icon:"","x-small":"",disabled:1===t.page},on:{click:function(e){return t.changePage(!1)}}},[a("v-icon",{attrs:{size:12}},[t._v(" fas fa-chevron-left ")])],1),a("v-chip",{staticClass:"mx-2",attrs:{label:"",color:"primary",small:""}},[t._v(" "+t._s(t.page)+" ")]),a("v-btn",{attrs:{icon:"","x-small":"",disabled:t.page===t.pageCount},on:{click:function(e){return t.changePage(!0)}}},[a("v-icon",{attrs:{size:12}},[t._v(" fas fa-chevron-right ")])],1)],1),a("v-select",{staticClass:"dolphin-main-table-footer-items-per-page ml-2",class:{"dolphin-main-table-footer-items-per-page-mobile":t.$vuetify.breakpoint.sm||t.$vuetify.breakpoint.xs},staticStyle:{"max-width":"60px"},attrs:{value:t.itemsPerPage,items:[10,30,50,100,-1],"hide-details":"",dense:"",solo:""},on:{change:function(e){return t.setItemsPerPage(e)}},scopedSlots:t._u([{key:"item",fn:function(e){var a=e.item;return[t._v(" "+t._s(-1===a?t.$t("common.all"):a)+" ")]}},{key:"selection",fn:function(e){var a=e.item;return[t._v(" "+t._s(-1===a?t.$t("common.all"):a)+" ")]}}])})],1)],1)],1)],1)},ra=[],la=a("8458"),ua=a("1485"),da=a("d3d0"),pa=a("b5b0"),ma={methods:{customSort:function(t,e,a){var s=this;return t&&this.stat&&0!==t.length&&0!==this.stat.length?(e[0]&&localStorage.setItem("adsmanager-sorting-index",e[0]),localStorage.setItem("adsmanager-sorting-is-desc",a[0]),e.length>0&&(e[0].search("quantity")>-1&&t.sort((function(t,n){var o="undefined"===typeof s.stat[t.id]||"undefined"===typeof s.stat[t.id]["actions"]?0:"undefined"!==typeof s.stat[t.id]["actions"][e[0].replace("-quantity","")]?s.stat[t.id]["actions"][e[0].replace("-quantity","")]["quantity"]:0,i="undefined"===typeof s.stat[n.id]||"undefined"===typeof s.stat[n.id]["actions"]?0:"undefined"!==typeof s.stat[n.id]["actions"][e[0].replace("-quantity","")]?s.stat[n.id]["actions"][e[0].replace("-quantity","")]["quantity"]:0;return"action_results-quantity"===e[0]&&(o="undefined"===typeof s.stat[t.id]||"undefined"===typeof s.stat[t.id]["results"]?0:s.stat[t.id]["results"],i="undefined"===typeof s.stat[n.id]||"undefined"===typeof s.stat[n.id]["results"]?0:s.stat[n.id]["results"]),o>i?a[0]?1:-1:o<i?a[0]?-1:1:0})),e[0].search("cpa")>-1&&t.sort((function(t,n){var o="undefined"===typeof s.stat[t.id]||"undefined"===typeof s.stat[t.id]["actions"]?0:"undefined"!==typeof s.stat[t.id]["actions"][e[0].replace("-cpa","")]?s.stat[t.id]["actions"][e[0].replace("-cpa","")]["cpa"]:0,i="undefined"===typeof s.stat[n.id]||"undefined"===typeof s.stat[n.id]["actions"]?0:"undefined"!==typeof s.stat[n.id]["actions"][e[0].replace("-cpa","")]?s.stat[n.id]["actions"][e[0].replace("-cpa","")]["cpa"]:0;return"action_results-cpa"===e[0]&&(o="undefined"===typeof s.stat[t.id]||"undefined"===typeof s.stat[t.id]["cpa"]?0:s.stat[t.id]["cpa"],i="undefined"===typeof s.stat[n.id]||"undefined"===typeof s.stat[n.id]["cpa"]?0:s.stat[n.id]["cpa"]),o>i?a[0]?1:-1:o<i?a[0]?-1:1:0})),e[0].search("cr")>-1&&t.sort((function(t,n){var o="undefined"===typeof s.stat[t.id]||"undefined"===typeof s.stat[t.id]["actions"]?0:"undefined"!==typeof s.stat[t.id]["actions"][e[0].replace("-cr","")]?s.stat[t.id]["actions"][e[0].replace("-cr","")]["cr"]:0,i="undefined"===typeof s.stat[n.id]||"undefined"===typeof s.stat[n.id]["actions"]?0:"undefined"!==typeof s.stat[n.id]["actions"][e[0].replace("-cr","")]?s.stat[n.id]["actions"][e[0].replace("-cr","")]["cr"]:0;return"action_results-cr"===e[0]&&(o="undefined"===typeof s.stat[t.id]||"undefined"===typeof s.stat[t.id]["cr"]?0:s.stat[t.id]["cr"],i="undefined"===typeof s.stat[n.id]||"undefined"===typeof s.stat[n.id]["cr"]?0:s.stat[n.id]["cr"]),o>i?a[0]?1:-1:o<i?a[0]?-1:1:0})),this.stat&&"undefined"!==typeof this.stat&&"undefined"!==typeof this.stat[Object.keys(this.stat)[0]][e[0]]&&t.sort((function(t,n){var o="undefined"===typeof s.stat[t.id]||"undefined"===typeof s.stat[t.id][e[0]]?0:s.stat[t.id][e[0]],i="undefined"===typeof s.stat[n.id]||"undefined"===typeof s.stat[n.id][e[0]]?0:s.stat[n.id][e[0]];return o>i?a[0]?1:-1:o<i?a[0]?-1:1:0})),"account"==e[0]?t.sort((function(t,e){if("undefined"!==typeof t.name){var s=t.name.toString().localeCompare(e.name.toString());return a[0]?-1*s:s}return 0})):"cab"==e[0]?t.sort((function(t,e){if("undefined"!==typeof t.name){var s=t.name.toString().localeCompare(e.name.toString());return a[0]?-1*s:s}return 0})):"date"==e[0]?t.sort((function(t,e){if("undefined"!==typeof t.date){var s=t.date.toString().localeCompare(e.date.toString());return a[0]?-1*s:s}return 0})):"status"==e[0]&&t.sort((function(t,e){var s={old:t.account&&t.account.status&&"ACTIVE"!==t.account.status?t.account.status:t.cab&&t.cab.status&&1!==parseInt(t.cab.status,10)?t.cab.status:t.effective_status?t.effective_status:t.status,new:e.account&&e.account.status&&"ACTIVE"!==e.account.status?e.account.status:e.cab&&e.cab.status&&1!==parseInt(e.cab.status,10)?e.cab.status:e.effective_status?e.effective_status:e.status};if("undefined"!==typeof s.old){var n=s.old.toString().localeCompare(s.new.toString());return a[0]?-1*n:n}return 0}))),this.sortedItems=t,t):t}}},ga=a("83c0"),fa=a("b59d"),va=a("d858"),ha=a("1241"),ba=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("td",[t.show?a("span",["action_results-cpa"===t.col?a("span",[t._v(" "+t._s(t.itIsTotalRow?t.numeral(t.stat["cpa"]).format("0,0.[00]").split(",").join(" "):t.numeral(t.item["cpa"]).format("0,0.[00]").split(",").join(" "))+" ")]):a("span",[t._v(" "+t._s(t.itIsTotalRow?t.numeral(t.stat["actions"][t.col.slice(0,t.col.length-4)]["cpa"]).format("0,0.[00]").split(",").join(" "):t.numeral(t.item["actions"][t.col.slice(0,t.col.length-4)]["cpa"]).format("0,0.[00]").split(",").join(" "))+" ")])]):a("span",[t._v(" 0 ")]),a("span",[t._v(" "+t._s(t.currency))])])},_a=[],ya=(a("fb6a"),a("6612")),xa=a.n(ya),ka={name:"AdsManagerComplexStatCellCpa",props:{item:{type:Object,default:function(){return{}}},col:{type:String,default:""},itIsTotalRow:{type:Boolean,default:!1}},data:function(){return{numeral:xa.a}},computed:Object(i["a"])(Object(i["a"])({},Object(p["c"])({currency:"adsmanager/currency"})),{},{stat:function(){return this.$store.getters["".concat(this.$store.state.adsmanager.activeTab.component,"_v2/stat")]},show:function(){return!!this.stat&&("action_results-cpa"===this.col?this.itIsTotalRow?"undefined"!==typeof this.stat&&"undefined"!==typeof this.stat["cpa"]:"undefined"!==typeof this.item&&"undefined"!==typeof this.item["cpa"]:this.itIsTotalRow?"undefined"!==typeof this.stat&&"undefined"!==typeof this.stat["actions"]&&"undefined"!==typeof this.stat["actions"][this.col.slice(0,this.col.length-4)]:"undefined"!==typeof this.item&&"undefined"!==typeof this.item["actions"]&&"undefined"!==typeof this.item["actions"][this.col.slice(0,this.col.length-4)])}})},wa=ka,$a=Object(f["a"])(wa,ba,_a,!1,null,null,null),Ca=$a.exports,Aa=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("td",[t.show?a("span",["action_results-cr"===t.col?a("span",[t._v(" "+t._s(t.itIsTotalRow?t.numeral(t.stat["cr"]).format("0.00"):t.numeral(t.item["cr"]).format("0.00"))+"% ")]):a("span",[t._v(" "+t._s(t.itIsTotalRow?t.numeral(t.stat["actions"][t.col.slice(0,t.col.length-3)]["cr"]).format("0.00"):t.numeral(t.item["actions"][t.col.slice(0,t.col.length-3)]["cr"]).format("0.00"))+"% ")])]):a("span",[t._v(" 0% ")])])},Ta=[],Da={name:"AdsManagerComplexStatCellCr",props:{item:{type:Object,default:function(){return{}}},col:{type:String,default:""},itIsTotalRow:{type:Boolean,default:!1}},data:function(){return{numeral:xa.a}},computed:{stat:function(){return this.$store.getters["".concat(this.$store.state.adsmanager.activeTab.component,"_v2/stat")]},show:function(){return!!this.stat&&("action_results-cr"===this.col?this.itIsTotalRow?"undefined"!==typeof this.stat&&"undefined"!==typeof this.stat["cr"]:"undefined"!==typeof this.item&&"undefined"!==typeof this.item["cr"]:this.itIsTotalRow?"undefined"!==typeof this.stat&&"undefined"!==typeof this.stat["actions"]&&"undefined"!==typeof this.stat["actions"][this.col.slice(0,this.col.length-3)]:"undefined"!==typeof this.stat[this.item.id]&&"undefined"!==typeof this.stat[this.item.id]["actions"]&&"undefined"!==typeof this.stat[this.item.id]["actions"][this.col.slice(0,this.col.length-3)])}}},Sa=Da,Oa=Object(f["a"])(Sa,Aa,Ta,!1,null,null,null),Pa=Oa.exports,Va=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("td",[t.show?a("span",["action_results"===t.col?a("span",[t._v(" "+t._s(t.itIsTotalRow?t.numeral(t.stat["results"]).format("0,0.[00]").split(",").join(" "):t.numeral(t.item["results"]).format("0,0.[00]").split(",").join(" "))+" ")]):a("span",[t._v(" "+t._s(t.itIsTotalRow?t.numeral(t.stat["actions"][t.col]).format("0,0.[00]").split(",").join(" "):t.numeral(t.item["stat_actions"][t.col]).format("0,0.[00]").split(",").join(" "))+" ")])]):a("span",[t._v(" 0 ")])])},ja=[],Ia={name:"AdsManagerComplexStatCellQuantity",props:{item:{type:Object,default:function(){return{}}},col:{type:String,default:""},itIsTotalRow:{type:Boolean,default:!1}},data:function(){return{numeral:xa.a}},computed:{stat:function(){return this.$store.getters["".concat(this.$store.state.adsmanager.activeTab.component,"_v2/stat")]},show:function(){return!!this.stat&&("action_results"===this.col?this.itIsTotalRow?"undefined"!==this.stat["results"]:"undefined"!==typeof this.item["results"]:this.itIsTotalRow?"undefined"!==typeof this.stat["actions"]&&"undefined"!==typeof this.stat["actions"][this.col]:this.item["stat_actions"]&&this.col in this.item["stat_actions"])}}},La=Ia,Ra=Object(f["a"])(La,Va,ja,!1,null,null,null),Fa=Ra.exports,Na=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("td",[t.show?a("span",[t._v(" "+t._s(t.itIsTotalRow?t.numeral(t.stat[t.col]).format("0,0.[00]").split(",").join(" "):t.numeral(t.item["stats"][t.col]).format("0,0.[00]").split(",").join(" "))+" ")]):a("span",[t._v(" 0 ")]),"spend"===t.col?a("span",[t._v(" "+t._s(t.currency))]):t._e(),"cpm"===t.col?a("span",[t._v(" "+t._s(t.currency))]):t._e(),"profit"===t.col?a("span",[t._v(" "+t._s(t.currency))]):t._e(),"revenue"===t.col?a("span",[t._v(" "+t._s(t.currency))]):t._e(),"roi"===t.col?a("span",[t._v("%")]):t._e(),"approve"===t.col?a("span",[t._v("%")]):t._e()])},Ea=[],za={name:"AdsManagerSimpleStatCell",props:{item:{type:Object,default:function(){return{}}},col:{type:String,default:""},itIsTotalRow:{type:Boolean,default:!1}},data:function(){return{numeral:xa.a,excludedCols:["billing"]}},computed:Object(i["a"])(Object(i["a"])({},Object(p["c"])({currency:"adsmanager/currency"})),{},{stat:function(){return this.$store.getters["".concat(this.$store.state.adsmanager.activeTab.component,"_v2/stat")]},show:function(){return!!this.stat&&(!(this.excludedCols.indexOf(this.col)>-1)&&(this.itIsTotalRow?"undefined"!==typeof this.stat&&"undefined"!==typeof this.stat[this.col]:"undefined"!==typeof this.item&&"undefined"!==typeof this.item["stats"][this.col]))}})},Ma=za,Ba=Object(f["a"])(Ma,Na,Ea,!1,null,null,null),Ua=Ba.exports,qa=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"my-2"},[a("div",[a("div",{style:t.$vuetify.breakpoint.xs?"display: flex; align-items: center;":""},[t.$vuetify.breakpoint.xs?a("v-btn",{staticClass:"mr-1",attrs:{"x-small":"",icon:""},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.openMainInfo(e)}}},[a("v-icon",{attrs:{size:16}},[t._v(" fas fa-info-circle ")])],1):t._e(),t.$vuetify.breakpoint.xs?t._e():a("span",{staticStyle:{color:"grey"}},[t._v(" ["+t._s(t.account.id)+"] ")]),t.$vuetify.breakpoint.xs?t._e():a("v-icon",{staticStyle:{cursor:"pointer","margin-right":"4px"},attrs:{size:12,title:t.$t("common.fbApiLog")},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.loadLog(t.account)}}},[t._v(" fas fa-book ")]),!t.$vuetify.breakpoint.xs&&t.account.is_syncing_now?a("v-tooltip",{attrs:{top:""},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on;return[a("v-icon",t._g({staticClass:"mr-1",attrs:{size:12,color:"primary"}},s),[t._v(" fas fa-spinner fa-pulse ")])]}}],null,!1,171416188)},[a("span",[t._v(t._s(t.$t("common.syncIconTooltip")))])]):t._e(),a("span",{staticStyle:{cursor:"pointer",color:"#2196F3","text-decoration":"underline",display:"inline-block","max-width":"150px"},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.editAccount(t.account)}}},[t._v(" "+t._s(t.account.name)+" ")])],1),1==t.account.archived?a("div",[a("v-chip",{staticClass:"mr-1",attrs:{"x-small":""}},[t._v(" "+t._s(t.$t("common.archived"))+" ")])],1):t._e(),t.$vuetify.breakpoint.xs||t.account.fb_id?t._e():a("div",{staticStyle:{width:"90%","margin-top":"4px"}},[a("v-alert",{staticStyle:{padding:"0 5px","font-size":"10px","line-height":"17px"},attrs:{text:"",color:"error"}},[t._v(" "+t._s(t.$t("adsmanager.accounts.noFacebookId"))+" "),a("a",{staticStyle:{"font-size":"10px"},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.$store.dispatch("accounts_v2/openDialog","noFacebookIdInfo")}}},[t._v(" "+t._s(t.$t("common.whatsThat"))+" ")])])],1),t.$vuetify.breakpoint.xs?t._e():a("div",{staticStyle:{"font-size":"11px",color:"gray"}},[a("span",{staticClass:"d-block",staticStyle:{"line-height":"14px"}},[t._v(" "+t._s(t.$t("common.owner"))+": "+t._s(t.account.user?t.account.user.display_name?t.account.user.display_name:t.account.user.login:"-")+" ")]),a("span",{staticClass:"d-block",staticStyle:{"line-height":"14px"}},[t._v(" "+t._s(t.$t("adsmanager.accounts.rulesAccepted"))+": "),t.account.rules_accepted?a("v-icon",{attrs:{size:12,color:"success"}},[t._v(" fas fa-check ")]):a("v-icon",{attrs:{size:12,color:"error"}},[t._v(" fas fa-times ")])],1)]),!t.$vuetify.breakpoint.xs&&t.account.permissions?a("div",{staticClass:"caption"},[a("a",{on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.showPermissions(e)}}},[t._v(" "+t._s(t.$t("adsmanager.accounts.shared").toLowerCase())+" ("+t._s(t.account.permissions.length)+") ")])]):t._e()]),a("account-tags",{attrs:{account:t.account}})],1)},Ya=[],Ha=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",t._l(t.account.tags,(function(e){return a("v-chip",{key:"account-"+t.account.id+"-tag-"+e,staticClass:"mr-1",attrs:{color:t.detectColor(e),outlined:"","x-small":"",label:""}},[t._v(" "+t._s(e)+" ")])})),1)},Wa=[],Ja={name:"AccountsMainTableTags",props:{account:{type:Object,default:function(){return{}}}},methods:{detectColor:function(t){return"no-updates"===t||"не-обновлять"===t||"без-комментов"===t||"no-comments"===t?"red":"primary"}}},Ga=Ja,Ka=Object(f["a"])(Ga,Ha,Wa,!1,null,null,null),Qa=Ka.exports;h()(Ka,{VChip:X["a"]});var Xa={name:"AccountsMainTableInfo",components:{AccountTags:Qa},props:{account:{type:Object,default:function(){return{}}}},methods:{openMainInfo:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$store.dispatch("accounts_v2/setForDialogMainInfo",t.account);case 2:return e.next=4,t.$store.dispatch("accounts_v2/openDialog","mainInfo");case 4:case"end":return e.stop()}}),e)})))()},editAccount:function(t){this.$store.dispatch("accounts_v2/initAccountForEdit",this.$_.cloneDeep(t))},loadLog:function(t){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:e.$store.dispatch("fbApiLog/clearLog"),e.$store.dispatch("fbApiLog/openDialog","logSidebar"),e.$store.dispatch("fbApiLog/loadLog",[{object:"account_id",id:t.id}]);case 3:case"end":return a.stop()}}),a)})))()},showPermissions:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$store.dispatch("accounts_v2/setForPermissions",t.account);case 2:return e.next=4,t.$store.dispatch("accounts_v2/openDialog","permissions");case 4:case"end":return e.stop()}}),e)})))()}}},Za=Xa,ts=Object(f["a"])(Za,qa,Ya,!1,null,null,null),es=ts.exports;h()(ts,{VAlert:Q["a"],VBtn:b["a"],VChip:X["a"],VIcon:k["a"],VTooltip:ta["a"]});var as=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[void 0!==t.colors[t.account.status]?a("v-chip",{staticStyle:{"font-weight":"bold"},attrs:{label:"",color:t.colors[t.account.status],"x-small":"",outlined:""}},["TOKEN_ERROR"===t.account.status?a("span",[t._v(" ERROR ")]):a("span",[t._v(" "+t._s(t.account.status)+" ")])]):t._e(),void 0===t.colors[t.account.status]?a("span",[t._v(" "+t._s(t.account.status)+" ")]):t._e(),t.account.proxy&&t.account.proxy.status&&-1==t.account.proxy.status?a("div",{staticStyle:{color:"#F44336","font-size":"12px"}},[t._v(" "+t._s(t.$t("common.proxyError"))+" ")]):t._e(),a("ads-manager-notes",{attrs:{item:t.account,component:"accounts"}})],1)},ss=[],ns=a("8bc7"),os={name:"AccountsMainTableStatus",components:{AdsManagerNotes:ns["a"]},props:{account:{type:Object,default:function(){return{status:"NEW"}}}},data:function(){return{colors:J["a"]}}},is=os,cs=Object(f["a"])(is,as,ss,!1,null,null,null),rs=cs.exports;h()(cs,{VChip:X["a"]});var ls={components:{AccountsMainTableStatus:rs,AccountsMainTableInfo:es,AccountFanPagesCell:ha["a"],AccountBmsCell:va["a"],SimpleStatCell:Ua,ComplexStatCellQuantity:Fa,ComplexStatCellCr:Pa,ComplexStatCellCpa:Ca},mixins:[ga["a"],ma,fa["a"],la["a"]],data:function(){return{actionCols:ua["a"],commonCols:da["a"],specialCols:pa["a"],itemsPerPage:50,pageCount:1,cols:[],options:{}}},computed:Object(i["a"])(Object(i["a"])({},Object(p["c"])({accounts:"accounts/accounts",loading:"accounts/loading",innerHeight:"main/innerHeight",profile:"main/profile",stat:"accounts/stat",pageCount:"accounts/count",page:"accounts/page",selected:"accounts/selected",filters:"accounts/filters"})),{},{popularTags:function(){var t,e={},a=Object(l["a"])(this.accounts.all);try{for(a.s();!(t=a.n()).done;){var s=t.value;s.tags&&s.tags.forEach((function(t){"undefined"===typeof e[t]?e[t]=1:e[t]+=e[t]}))}}catch(c){a.e(c)}finally{a.f()}var n=[];for(var o in e)n.push([o,e[o]]);n.sort((function(t,e){return e[1]-t[1]}));var i=n.map((function(t){return t[0]}));return i},currentTableItems:function(){return-1===this.itemsPerPage?this.accounts.filtered.length:1===this.page?"1 - ".concat(this.itemsPerPage):this.page===this.pageCount?"".concat(this.page*this.itemsPerPage-(this.itemsPerPage-1)," - ").concat(this.accounts.filtered.length):"".concat(this.page*this.itemsPerPage-(this.itemsPerPage-1)," - ").concat(this.page*this.itemsPerPage)},nativeCols:function(){var t=[];return t.push({text:this.$t("common.account"),value:"a.id",width:150}),t.push({text:this.$t("common.status"),value:"a.status",width:200}),t}}),watch:{options:{handler:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){var a,s,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=t.options,s=a.sortBy,n=a.sortDesc,localStorage.setItem("adsmanager-sorting-index",s[0]),localStorage.setItem("adsmanager-sorting-is-desc",n[0]),e.next=5,t.$store.dispatch("accounts_v2/LOAD_ACCOUNTS");case 5:t.pageCount=localStorage.getItem("adsmanager-accounts-page-count")||0;case 6:case"end":return e.stop()}}),e)})))()},deep:!1},profile:{deep:!0,handler:function(t,e){JSON.stringify(t.columns)!==JSON.stringify(e.columns)&&(this.cols=this.makeCols(this.nativeCols))}},stat:{deep:!0,handler:function(){this.stat&&this.customSort(this.accounts.filtered,[this.sortBy],[this.sortDesc])}},"accounts.filtered":{deep:!0,handler:function(){var t=this;setTimeout((function(){t.setWidths("Accounts")}),100)}}},created:function(){this.filters.newVersion=!0,this.cols=this.makeCols(this.nativeCols),localStorage.setItem("adsmanager-items-page",1),localStorage.getItem("adsmanager-items-per-page-count")&&(this.itemsPerPage=parseInt(localStorage.getItem("adsmanager-items-per-page-count")))},beforeDestroy:function(){this.filters.newVersion=!1},methods:{detectColor:function(t){return"no-updates"===t||"не-обновлять"===t||"без-комментов"===t||"no-comments"===t?"red":"primary"},setItemsPerPage:function(t){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return setTimeout((function(){e.setWidths("Accounts")}),100),localStorage.setItem("adsmanager-items-per-page-count",t),e.itemsPerPage=t,e.page=1,a.next=6,e.$store.dispatch("accounts_v2/LOAD_ACCOUNTS");case 6:e.pageCount=localStorage.getItem("adsmanager-accounts-page-count")||0;case 7:case"end":return a.stop()}}),a)})))()},filterByTags:function(t){var e=this.filters.tags.concat([]);e.includes(t)?e=e.filter((function(e){return e!==t})):e.push(t);var a={filter:"tags",data:e};this.$store.dispatch("accounts_v2/setSpecificFilter",a)},updatePage:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return localStorage.setItem("adsmanager-items-page",t.page),e.next=3,t.$store.dispatch("accounts_v2/LOAD_ACCOUNTS");case 3:t.pageCount=localStorage.getItem("adsmanager-accounts-page-count")||0,setTimeout((function(){t.setWidths("Accounts")}),100);case 5:case"end":return e.stop()}}),e)})))()},changePage:function(t){var e=1;e=this.page=t?this.page+1:this.page-1,this.$store.dispatch("accounts/setPage",e),this.$store.dispatch("accounts/loadAccounts")},showSimpleStatCell:function(t){return da["a"].indexOf(t)>-1&&!["transactions_daterange","transactions_total"].includes(t)&&-1===pa["a"].indexOf(t)}}},us=ls,ds=(a("3ba1"),a("9e88")),ps=a("269a"),ms=a.n(ps),gs=a("5607"),fs=Object(f["a"])(us,ca,ra,!1,null,null,null),vs=fs.exports;h()(fs,{VBtn:b["a"],VCard:_["a"],VCardText:y["b"],VChip:X["a"],VDataTable:j["a"],VIcon:k["a"],VSelect:ut["a"],VSimpleCheckbox:ds["a"]}),ms()(fs,{Ripple:gs["a"]});var hs=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-dialog",{attrs:{value:t.dialogs.multipleAssignTags,"max-width":"600px",persistent:!t.$vuetify.breakpoint.sm&&!t.$vuetify.breakpoint.xs,scrollable:!(!t.$vuetify.breakpoint.sm&&!t.$vuetify.breakpoint.xs)},on:{"click:outside":t.close,keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"esc",27,e.key,["Esc","Escape"])?null:t.close(e)}}},[a("v-card",{attrs:{loading:t.loading.multipleAssignTags}},[a("v-card-title",[a("span",{staticClass:"headline"},[t._v(" "+t._s(t.$t("dialogs.accounts.multipleAssignTags.title"))+" ")])]),a("v-card-text",[a("v-container",[a("v-row",[a("v-col",{staticClass:"pa-0",attrs:{cols:"12"}},[a("v-btn-toggle",{staticStyle:{"text-align":"center"},attrs:{color:"primary",borderless:"",multiple:"",mandatory:""},model:{value:t.tabs,callback:function(e){t.tabs=e},expression:"tabs"}},[a("v-btn",{staticStyle:{"font-size":"12px",height:"24px"},attrs:{value:"accounts"}},[a("span",[t._v(t._s(t.$t("upload.wizard.static.tags.accounts")))])]),a("v-btn",{staticStyle:{"font-size":"12px",height:"24px"},attrs:{value:"cabs"}},[a("span",[t._v(t._s(t.$t("upload.wizard.static.tags.cabs")))])]),a("v-btn",{staticStyle:{"font-size":"12px",height:"24px"},attrs:{value:"campaigns"}},[a("span",[t._v(t._s(t.$t("upload.wizard.static.tags.campaigns")))])]),a("v-btn",{staticStyle:{"font-size":"12px",height:"24px"},attrs:{value:"adsets"}},[a("span",[t._v(t._s(t.$t("upload.wizard.static.tags.adsets")))])]),a("v-btn",{staticStyle:{"font-size":"12px",height:"24px"},attrs:{value:"ads"}},[a("span",[t._v(t._s(t.$t("upload.wizard.static.tags.ads")))])])],1)],1),a("v-col",{attrs:{cols:"12"}},[a("v-combobox",{attrs:{label:t.$t("common.tags"),items:t.computedTags,multiple:"",chips:"","deletable-chips":"",clearable:"","hide-details":""},scopedSlots:t._u([{key:"item",fn:function(e){var s=e.item;return[t._v(" "+t._s(s)+" "),a("v-spacer"),a("v-list-item-action",{on:{click:function(t){t.stopPropagation()}}},[a("v-btn",{attrs:{small:"",icon:""},on:{click:function(e){return t.excludeTag(s)}}},[a("v-icon",{attrs:{size:16}},[t._v(" fas fa-times ")])],1)],1)]}}]),model:{value:t.selectedTags,callback:function(e){t.selectedTags=e},expression:"selectedTags"}}),a("div",[a("v-radio-group",{staticClass:"mt-3",staticStyle:{"margin-top":"0px"},attrs:{row:"",dense:"","hide-details":""},model:{value:t.mode,callback:function(e){t.mode=e},expression:"mode"}},[a("v-radio",{attrs:{label:t.$t("dialogs.accounts.multipleAssignTags.addTags"),value:1}}),a("v-radio",{attrs:{label:t.$t("dialogs.accounts.multipleAssignTags.removeTags"),value:-1}})],1)],1)],1),a("v-col",{attrs:{cols:12}},[a("v-alert",{staticStyle:{"font-size":"12px",padding:"8px","line-height":"14px"},attrs:{text:"",color:"primary"}},[a("p",{domProps:{innerHTML:t._s(t.$t("dialogs.accounts.multipleAssignTags.magicTags.description"))}}),a("ul",[a("li",{staticClass:"my-1"},[a("v-chip",{staticClass:"mr-1",staticStyle:{cursor:"pointer"},attrs:{color:"red",outlined:"","x-small":"",label:""},on:{click:function(e){t.addTag(t.$t("dialogs.accounts.multipleAssignTags.magicTags.noUpdatesTag"))}}},[t._v(" "+t._s(t.$t("dialogs.accounts.multipleAssignTags.magicTags.noUpdatesTag"))+" ")]),t._v(" - "+t._s(t.$t("dialogs.accounts.multipleAssignTags.magicTags.noUpdatesTagDesc"))+" ")],1),a("li",{staticClass:"my-1"},[a("v-chip",{staticClass:"mr-1",staticStyle:{cursor:"pointer"},attrs:{color:"red",outlined:"","x-small":"",label:""},on:{click:function(e){t.addTag(t.$t("dialogs.accounts.multipleAssignTags.magicTags.noCommentsTag"))}}},[t._v(" "+t._s(t.$t("dialogs.accounts.multipleAssignTags.magicTags.noCommentsTag"))+" ")]),t._v(" - "+t._s(t.$t("dialogs.accounts.multipleAssignTags.magicTags.noCommentsTagDesc"))+" ")],1)])])],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:t.close}},[t._v(" "+t._s(t.$t("common.close"))+" ")]),a("v-btn",{attrs:{color:"blue darken-1",text:"",disabled:!t.selectedTags.length},on:{click:t.saveTags}},[t._v(" "+t._s(t.$t("common.save"))+" ")])],1)],1)],1)},bs=[],_s={name:"AccountsMultipleAssignTagsDialog",data:function(){return{tabs:["accounts"],mode:1,selectedTags:[]}},computed:Object(i["a"])(Object(i["a"])({},Object(p["c"])({dialogs:"accounts_v2/dialogs",currentLevelTags:"tags/currentLevelTags",accounts:"accounts_v2/selected",loading:"accounts_v2/loading"})),{},{computedTags:function(){if(-1===this.mode){var t=[];return this.accounts.forEach((function(e){t=t.concat(e.tags)})),t}return this.currentLevelTags.all}}),created:function(){this.$store.dispatch("tags/loadItems",{only_from:"accounts",exclude_tags:0})},methods:{close:function(){(0===this.selectedTags.length||(this.confirmation=confirm(this.$t("common.closeDialogConfirmation")),this.confirmation))&&this.$store.dispatch("accounts_v2/closeDialog","multipleAssignTags")},addTag:function(t){-1===this.selectedTags.indexOf(t.trim())&&this.selectedTags.push(t.trim())},saveTags:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){var a,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!t.tabs.includes("accounts")){e.next=8;break}return a={ids:t.accounts.map((function(t){return t.id})),tags:t.selectedTags,mode:t.mode},e.next=4,t.$store.dispatch("accounts_v2/saveMultipleTags",a);case 4:s=e.sent,s&&(t.$store.dispatch("tags/loadTags"),t.$store.dispatch("accounts_v2/closeDialog","multipleAssignTags")),e.next=11;break;case 8:t.addTagsToSelectedTabs(),t.$store.dispatch("main/alert",{color:"success",message:t.$t("common.saved")}),t.$store.dispatch("accounts_v2/closeDialog","multipleAssignTags");case 11:t.tabs.includes("accounts")&&t.tabs.length>1&&t.addTagsToSelectedTabs();case 12:case"end":return e.stop()}}),e)})))()},addTagsToSelectedTabs:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){var a,s,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:a=Object(l["a"])(t.tabs),e.prev=1,a.s();case 3:if((s=a.n()).done){e.next=22;break}n=s.value,e.t0=n,e.next="cabs"===e.t0?8:"campaigns"===e.t0?11:"adsets"===e.t0?14:"ads"===e.t0?17:20;break;case 8:return e.next=10,t.addTagsToCabs();case 10:return e.abrupt("break",20);case 11:return e.next=13,t.addTagsToCampaigns();case 13:return e.abrupt("break",20);case 14:return e.next=16,t.addTagsToAdsets();case 16:return e.abrupt("break",20);case 17:return e.next=19,t.addTagsToAds();case 19:return e.abrupt("break",20);case 20:e.next=3;break;case 22:e.next=27;break;case 24:e.prev=24,e.t1=e["catch"](1),a.e(e.t1);case 27:return e.prev=27,a.f(),e.finish(27);case 30:case"end":return e.stop()}}),e,null,[[1,24,27,30]])})))()},addTagsToCabs:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){var a,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.api.post("/cabs",{users_ids:-1,accounts_ids:t.accounts.map((function(t){return t.id}))}).catch((function(e){t.$store.dispatch("main/apiError",e,{root:!0})}));case 2:if(a=e.sent,200!==a.status||!a.data.data){e.next=7;break}return s={ids:a.data.data.map((function(t){return t.id})),tags:t.selectedTags,mode:t.mode},e.next=7,t.api.post("/cabs/update_multiple_tags",s).catch((function(e){t.$store.dispatch("main/apiError",e,{root:!0})}));case 7:case"end":return e.stop()}}),e)})))()},addTagsToCampaigns:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){var a,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.api.post("/campaigns",{users_ids:-1,accounts_ids:t.accounts.map((function(t){return t.id})),cabs_ids:-1}).catch((function(e){t.$store.dispatch("main/apiError",e,{root:!0})}));case 2:if(a=e.sent,200!==a.status||!a.data.data){e.next=7;break}return s={ids:a.data.data.map((function(t){return t.id})),tags:t.selectedTags,mode:t.mode},e.next=7,t.api.post("/campaigns/update_multiple_tags",s).catch((function(e){t.$store.dispatch("main/apiError",e,{root:!0})}));case 7:case"end":return e.stop()}}),e)})))()},addTagsToAdsets:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){var a,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.api.post("/adsets",{users_ids:-1,accounts_ids:t.accounts.map((function(t){return t.id})),cabs_ids:-1,campaigns_ids:-1}).catch((function(e){t.$store.dispatch("main/apiError",e,{root:!0})}));case 2:if(a=e.sent,200!==a.status||!a.data.data){e.next=7;break}return s={ids:a.data.data.map((function(t){return t.id})),tags:t.selectedTags,mode:t.mode},e.next=7,t.api.post("/adsets/update_multiple_tags",s).catch((function(e){t.$store.dispatch("main/apiError",e,{root:!0})}));case 7:case"end":return e.stop()}}),e)})))()},addTagsToAds:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){var a,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.api.post("/ads",{users_ids:-1,accounts_ids:t.accounts.map((function(t){return t.id})),cabs_ids:-1,campaigns_ids:-1,adsets_ids:-1}).catch((function(e){t.$store.dispatch("main/apiError",e,{root:!0})}));case 2:if(a=e.sent,200!==a.status||!a.data.data){e.next=7;break}return s={ids:a.data.data.map((function(t){return t.id})),tags:t.selectedTags,mode:t.mode},e.next=7,t.api.post("/ads/update_multiple_tags",s).catch((function(e){t.$store.dispatch("main/apiError",e,{root:!0})}));case 7:case"end":return e.stop()}}),e)})))()},excludeTag:function(t){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,e.api.post("/profile/exclude_tag",{tag:t});case 2:return a.next=4,e.$store.dispatch("tags/loadItems",{only_from:"accounts",exclude_tags:0});case 4:case"end":return a.stop()}}),a)})))()}}},ys=_s,xs=a("a609"),ks=a("1800"),ws=a("67b6"),$s=a("43a6"),Cs=Object(f["a"])(ys,hs,bs,!1,null,null,null),As=Cs.exports;h()(Cs,{VAlert:Q["a"],VBtn:b["a"],VBtnToggle:xs["a"],VCard:_["a"],VCardActions:y["a"],VCardText:y["b"],VCardTitle:y["c"],VChip:X["a"],VCol:rt["a"],VCombobox:ae["a"],VContainer:yt["a"],VDialog:x["a"],VIcon:k["a"],VListItemAction:ks["a"],VRadio:ws["a"],VRadioGroup:$s["a"],VRow:lt["a"],VSpacer:L["a"]});var Ts=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-dialog",{attrs:{value:t.dialogs.multipleShare,"max-width":"500px",scrollable:"",persistent:!t.$vuetify.breakpoint.sm&&!t.$vuetify.breakpoint.xs},on:{"click:outside":t.close,keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"esc",27,e.key,["Esc","Escape"])?null:t.close(e)}}},[a("v-card",{attrs:{loading:t.loading.multipleShare}},[a("v-card-title",[a("span",{staticClass:"headline"},[t._v(" "+t._s(t.$t("dialogs.accounts.multipeShare.title"))+" ")])]),a("v-card-text",{staticStyle:{"max-height":"700px"}},[a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("div",[a("v-btn",{staticClass:"my-1",staticStyle:{"margin-left":"0px"},attrs:{color:"primary","x-small":"",outlined:""},on:{click:t.selectAll}},[t._v(" "+t._s(t.$t("common.selectAll"))+" ")]),a("v-btn",{staticClass:"my-1 ml-1",staticStyle:{"margin-left":"0px"},attrs:{color:"primary","x-small":"",outlined:""},on:{click:t.unselectAll}},[t._v(" "+t._s(t.$t("common.unselectAll"))+" ")])],1),a("v-treeview",{attrs:{selectable:"",dense:"","open-on-click":"","selected-color":"primary",items:t.items},scopedSlots:t._u([{key:"prepend",fn:function(e){var s=e.item;return[-1!==s.id.search("user")?a("v-icon",{staticClass:"d-block text-center",attrs:{size:"16"}},[t._v(" fas fa-user ")]):t._e(),-1!==s.id.search("view")?a("v-icon",{staticClass:"d-block text-center",attrs:{size:"16"}},[t._v(" fas fa-eye ")]):t._e(),-1!==s.id.search("actions")?a("v-icon",{staticClass:"d-block text-center",attrs:{size:"16"}},[t._v(" fas fa-bolt ")]):t._e(),-1!==s.id.search("stat")?a("v-icon",{staticClass:"d-block text-center",attrs:{size:"16"}},[t._v(" fas fa-chart-bar ")]):t._e(),-1!==s.id.search("share")?a("v-icon",{staticClass:"d-block text-center",attrs:{size:"16"}},[t._v(" fas fa-share-alt ")]):t._e()]}}]),model:{value:t.permissions,callback:function(e){t.permissions=e},expression:"permissions"}}),a("div",[a("v-radio-group",{staticClass:"mt-3",staticStyle:{"margin-top":"0px"},attrs:{row:"",dense:"","hide-details":""},model:{value:t.mode,callback:function(e){t.mode=e},expression:"mode"}},[a("v-radio",{attrs:{label:t.$t("dialogs.accounts.multipeShare.addPermissions"),value:1}}),a("v-radio",{attrs:{label:t.$t("dialogs.accounts.multipeShare.removePermissions"),value:-1}})],1)],1)],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:t.close}},[t._v(" "+t._s(t.$t("common.close"))+" ")]),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:t.savePermissions}},[t._v(" "+t._s(t.$t("common.save"))+" ")])],1)],1)],1)},Ds=[],Ss={name:"AccountsMultipleShareDialog",data:function(){return{permissions:[],mode:1,allItems:[],users:[]}},computed:Object(i["a"])(Object(i["a"])({},Object(p["c"])({accounts:"accounts_v2/selected",dialogs:"accounts_v2/dialogs",loading:"accounts_v2/loading",profile:"main/profile"})),{},{items:function(){var t=this,e=[];return this.users.forEach((function(a){if(a.id!==t.profile.id){var s={id:"user-"+a.id,name:null!==a.display_name?a.display_name:a.login};s.children=[{id:"".concat(a.id,"-view"),name:t.$t("dialogs.accounts.share.permissions.view")},{id:"".concat(a.id,"-stat"),name:t.$t("dialogs.accounts.share.permissions.stat")},{id:"".concat(a.id,"-actions"),name:t.$t("dialogs.accounts.share.permissions.actions")},{id:"".concat(a.id,"-share"),name:t.$t("dialogs.accounts.share.permissions.share")}],t.allItems=t.allItems.concat(s.children.map((function(t){return t.id}))),e.push(s)}})),e}}),created:function(){this.loadUsers()},methods:{close:function(){(0===this.permissions.length&&-1!==this.mode||(this.confirmation=confirm(this.$t("common.closeDialogConfirmation")),this.confirmation))&&this.$store.dispatch("accounts_v2/closeDialog","multipleShare")},loadUsers:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.api("/users/all");case 2:a=e.sent,"undefined"!==typeof a.data.data&&(t.users=a.data.data.filter((function(t){return 1===parseInt(t.status)})));case 4:case"end":return e.stop()}}),e)})))()},savePermissions:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$store.dispatch("accounts_v2/saveMultiplePermissions",{ids:t.accounts.map((function(t){return t.id})),permissions:t.permissions,mode:t.mode});case 2:a=e.sent,a&&t.$store.dispatch("accounts_v2/closeDialog","multipleShare");case 4:case"end":return e.stop()}}),e)})))()},selectAll:function(){this.permissions=[],this.permissions=this.permissions.concat(this.allItems)},unselectAll:function(){this.permissions=[]}}},Os=Ss,Ps=Object(f["a"])(Os,Ts,Ds,!1,null,null,null),Vs=Ps.exports;h()(Ps,{VBtn:b["a"],VCard:_["a"],VCardActions:y["a"],VCardText:y["b"],VCardTitle:y["c"],VCol:rt["a"],VContainer:yt["a"],VDialog:x["a"],VIcon:k["a"],VRadio:ws["a"],VRadioGroup:$s["a"],VRow:lt["a"],VSpacer:L["a"],VTreeview:xe["a"]});var js=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-navigation-drawer",{staticStyle:{"z-index":"9999",width:"400px"},attrs:{value:t.dialogs.permissions,temporary:"",right:"",absolute:""},on:{transitionend:function(e){return t.$store.dispatch("accounts_v2/closeDialog","permissions")}}},[a("div",{staticStyle:{padding:"16px"}},[a("div",{staticClass:"mb-3"},[a("span",[a("v-btn",{staticClass:"sidebar-collapse-button",attrs:{color:"grey",fab:"","x-small":"",outlined:""},on:{click:function(e){return t.$store.dispatch("accounts_v2/closeDialog","permissions")}}},[a("v-icon",[t._v("keyboard_arrow_right")])],1)],1),a("span",{staticClass:"title"},[t._v(" ["+t._s(t.account.name)+"] "+t._s(t.$t("common.permissions").toLowerCase())+" ")])]),a("v-row",[t.permissions?a("v-col",{staticClass:"py-0 my-2",attrs:{cols:"12"}},t._l(t.permissions,(function(e,s){return a("div",{key:"permissions-"+s,staticClass:"mb-5"},[a("span",{staticClass:"headline"},[t._v(" "+t._s(s)+" ")]),e?a("div",t._l(e,(function(e){return a("div",{key:"permission-of-"+s+"-"+e,staticClass:"pl-3"},[e.search("view")>-1?a("v-icon",{staticStyle:{width:"32px"},attrs:{size:"16"}},[t._v(" fas fa-eye ")]):t._e(),e.search("actions")>-1?a("v-icon",{staticStyle:{width:"32px"},attrs:{size:"16"}},[t._v(" fas fa-bolt ")]):t._e(),e.search("stat")>-1?a("v-icon",{staticStyle:{width:"32px"},attrs:{size:"16"}},[t._v(" fas fa-chart-bar ")]):t._e(),e.search("share")>-1?a("v-icon",{staticStyle:{width:"32px"},attrs:{size:"16"}},[t._v(" fas fa-share-alt ")]):t._e(),t._v(" "+t._s(t.$t("dialogs.accounts.share.permissions."+e))+" ")],1)})),0):t._e()])})),0):t._e()],1)],1)])},Is=[],Ls=a("3835"),Rs={name:"AccountsPermissionsSidebar",data:function(){return{permissions:{}}},computed:Object(i["a"])({},Object(p["c"])({dialogs:"accounts_v2/dialogs",account:"accounts_v2/forPermissions",users:"users/users"})),watch:{users:{deep:!0,handler:function(){this.parsePermissions()}}},created:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$store.dispatch("users/loadUsers");case 2:case"end":return e.stop()}}),e)})))()},methods:{parsePermissions:function(){var t=this;this.account.permissions&&this.users.all&&(this.permission={},this.account.permissions.forEach((function(e){var a,s,n=e.split("-"),o=Object(Ls["a"])(n,2);a=o[0],s=o[1];var i=t.users.all.find((function(t){return t.id===parseInt(a)}));if(i){var c=i.display_name||i.login;"undefined"!==typeof t.permissions[c]?-1===t.permissions[c].indexOf(s)&&t.permissions[c].push(s):t.permissions[c]=[s],t.$forceUpdate()}})))}}},Fs=Rs,Ns=a("f774"),Es=Object(f["a"])(Fs,js,Is,!1,null,null,null),zs=Es.exports;h()(Es,{VBtn:b["a"],VCol:rt["a"],VIcon:k["a"],VNavigationDrawer:Ns["a"],VRow:lt["a"]});var Ms=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-dialog",{attrs:{value:t.dialogs.share,"max-width":"500px",scrollable:"",persistent:""}},[a("v-card",{attrs:{loading:t.loading.share}},[a("v-card-title",[a("span",{staticClass:"headline"},[t._v(" "+t._s(t.$t("dialogs.accounts.share.title",{accountName:t.account.name}))+" ")])]),a("v-card-text",{staticStyle:{"max-height":"700px"}},[a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("v-treeview",{attrs:{selectable:"",dense:"","open-on-click":"","selected-color":"primary",items:t.items,open:t.openedItems},on:{"update:open":function(e){t.openedItems=e}},scopedSlots:t._u([{key:"prepend",fn:function(e){var s=e.item;return[-1!==s.id.search("user")?a("v-icon",{staticClass:"d-block text-center",attrs:{size:"16"}},[t._v(" fas fa-user ")]):t._e(),-1!==s.id.search("read")?a("v-icon",{staticClass:"d-block text-center",attrs:{size:"16"}},[t._v(" fas fa-eye ")]):t._e(),-1!==s.id.search("edit")?a("v-icon",{staticClass:"d-block text-center",attrs:{size:"16"}},[t._v(" fas fa-pencil-alt ")]):t._e(),-1!==s.id.search("stat")?a("v-icon",{staticClass:"d-block text-center",attrs:{size:"16"}},[t._v(" fas fa-chart-bar ")]):t._e(),-1!==s.id.search("share")?a("v-icon",{staticClass:"d-block text-center",attrs:{size:"16"}},[t._v(" fas fa-share-alt ")]):t._e()]}}]),model:{value:t.newAccount.permissions,callback:function(e){t.$set(t.newAccount,"permissions",e)},expression:"newAccount.permissions"}})],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(e){return t.$store.dispatch("accounts_v2/closeDialog","share")}}},[t._v(" "+t._s(t.$t("common.close"))+" ")]),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:t.savePermissions}},[t._v(" "+t._s(t.$t("common.save"))+" ")])],1)],1)],1)},Bs=[],Us={name:"AccountsShareDialog",data:function(){return{newAccount:{permissions:[]},users:[]}},computed:Object(i["a"])(Object(i["a"])({},Object(p["c"])({account:"accounts_v2/forShare",dialogs:"accounts_v2/dialogs",loading:"accounts_v2/loading",profile:"main/profile"})),{},{openedItems:function(){var t=this,e=[];return this.users.forEach((function(a){if(a.id!==t.profile.id){if(!Array.isArray(t.newAccount.permissions))return!1;var s=t.newAccount.permissions.find((function(t){return 0===t.search("".concat(a.id,"-"))}));s&&e.push("user-".concat(a.id))}})),e},items:function(){var t=this,e=[];return this.users.forEach((function(a){if(a.id!==t.profile.id){var s={id:"user-"+a.id,name:null!==a.display_name?a.display_name:a.login};s.children=[{id:"".concat(a.id,"-read"),name:t.$t("dialogs.accounts.share.permissions.read")},{id:"".concat(a.id,"-edit"),name:t.$t("dialogs.accounts.share.permissions.edit")},{id:"".concat(a.id,"-stat"),name:t.$t("dialogs.accounts.share.permissions.stat")},{id:"".concat(a.id,"-share"),name:t.$t("dialogs.accounts.share.permissions.share")}],e.push(s)}})),e}}),created:function(){this.newAccount=Object(i["a"])({},this.account),this.newAccount.permissions||(this.newAccount.permissions=[]),this.loadUsers()},methods:{loadUsers:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.api("/users/all");case 2:a=e.sent,"undefined"!==typeof a.data.data&&(t.users=a.data.data);case 4:case"end":return e.stop()}}),e)})))()},savePermissions:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$store.dispatch("accounts_v2/savePermissions",t.newAccount);case 2:a=e.sent,a&&t.$store.dispatch("accounts_v2/closeDialog","share");case 4:case"end":return e.stop()}}),e)})))()}}},qs=Us,Ys=Object(f["a"])(qs,Ms,Bs,!1,null,null,null),Hs=Ys.exports;h()(Ys,{VBtn:b["a"],VCard:_["a"],VCardActions:y["a"],VCardText:y["b"],VCardTitle:y["c"],VCol:rt["a"],VContainer:yt["a"],VDialog:x["a"],VIcon:k["a"],VRow:lt["a"],VSpacer:L["a"],VTreeview:xe["a"]});var Ws=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-dialog",{attrs:{value:t.dialogs.add,persistent:"",fullscreen:"",scrollable:""},on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"esc",27,e.key,["Esc","Escape"])?null:t.close(e)}}},[a("v-card",{attrs:{loading:t.loading.addDialog}},[a("v-toolbar",{staticClass:"white--text dialog-toolbar",attrs:{"max-height":48,color:"primary"}},[a("v-btn",{attrs:{color:"white",icon:""},on:{click:t.close}},[a("v-icon",[t._v("fas fa-times")])],1),a("v-toolbar-title",[t._v(t._s(t.$t("dialogs.accounts.singleAdd.title")))]),a("v-spacer"),a("v-toolbar-items",[a("v-btn",{attrs:{color:"white",text:"",disabled:0===t.tabs&&!t.validation.state,loading:t.loading.addDialog},on:{click:function(e){0===t.tabs?t.addAccount():1===t.tabs?t.addBulkAccounts():t.addLoginPassword()}}},[t._v(" "+t._s(t.$t("common.add"))+" ")])],1)],1),a("v-card-text",[a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("v-tabs",{attrs:{centered:""},model:{value:t.tabs,callback:function(e){t.tabs=e},expression:"tabs"}},[a("v-tab",[t._v(" "+t._s(t.$t("adsmanager.accounts.add.singleAdd"))+" ")]),a("v-tab-item",[a("dialog-form",{on:{change:function(e){t.newAccount=e},proxyChange:function(e){t.proxyState=e},useragentChange:function(e){!t.initialUseragentChanged&&t.setInitialUseragent(e)},"validation-changed":function(e){t.validation.state=e}}})],1),a("v-tab",[t._v(" "+t._s(t.$t("adsmanager.accounts.add.bulkAdd"))+" ")]),a("v-tab-item",[a("dialog-bulk-add")],1),a("v-tab-item",[a("dialog-login-password",{attrs:{"process-data":t.tab3}})],1),a("v-tab-item",[t._v(" "+t._s(t.$t("adsmanager.accounts.add.import"))+" ")])],1)],1)],1)],1)],1)],1)},Js=[],Gs=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-stepper",{staticClass:"dialog-stepper",model:{value:t.step,callback:function(e){t.step=e},expression:"step"}},[a("v-stepper-header",[a("v-stepper-step",{attrs:{step:1,editable:""}},[t._v(" "+t._s(t.$t("adsmanager.accounts.add.bulk.dataInput"))+" ")]),a("v-stepper-step",{attrs:{step:2,editable:""},on:{click:t.openStep2}},[t._v(" "+t._s(t.$t("adsmanager.accounts.add.bulk.dataCheck"))+" ")])],1),a("v-stepper-items",[a("v-stepper-content",{attrs:{step:1}},[a("data-input")],1),a("v-stepper-content",{attrs:{step:2}},[a("data-check")],1)],1),a("v-row",[a("v-col",{staticStyle:{"text-align":"center"}},[1===t.step?a("v-btn",{attrs:{color:"primary",raised:""},on:{click:function(e){t.step++,t.openStep2()}}},[t._v(" "+t._s(t.$t("common.continue"))+" ")]):t._e()],1)],1)],1)},Ks=[],Qs=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-data-table",{attrs:{headers:t.cols,"fixed-header":"",items:t.importDialog.tab2.newAccounts},scopedSlots:t._u([{key:"item.name",fn:function(e){var s=e.item;return[a("v-text-field",{staticClass:"my-2 mr-2",staticStyle:{"min-width":"250px"},attrs:{label:t.$t("common.name"),outlined:"",dense:"","hide-details":""},model:{value:s.name,callback:function(e){t.$set(s,"name",e)},expression:"accounts.name"}})]}},{key:"item.access_token",fn:function(e){var s=e.item;return[a("v-text-field",{staticClass:"my-2 mr-2",attrs:{label:t.$t("common.access_token"),outlined:"",dense:"","hide-details":""},model:{value:s.access_token,callback:function(e){t.$set(s,"access_token",e)},expression:"accounts.access_token"}})]}},{key:"item.useragent",fn:function(e){var s=e.item;return[a("v-text-field",{staticClass:"my-2 mr-2",attrs:{label:t.$t("common.useragent"),outlined:"",dense:"","hide-details":""},scopedSlots:t._u([{key:"prepend-inner",fn:function(){return[a("v-btn",{attrs:{"x-small":"",icon:""},on:{click:function(e){t.randomizeUseragent(t.importDialog.tab2.newAccounts.indexOf(s))}}},[a("v-icon",{staticStyle:{"margin-top":"3px"}},[t._v(" autorenew ")])],1)]},proxy:!0},{key:"append",fn:function(){return[a("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on;return[a("v-btn",t._g({staticStyle:{"margin-top":"2px"},attrs:{icon:"","x-small":""},on:{click:function(e){t.copyToAnotherAccounts("user_agent",t.importDialog.tab2.newAccounts.indexOf(s))}}},n),[a("v-icon",[t._v("clear_all")])],1)]}}],null,!0)},[a("span",[t._v(t._s(t.$t("adsmanager.accounts.add.copyToAnotherAccounts")))])])]},proxy:!0}],null,!0),model:{value:s.user_agent,callback:function(e){t.$set(s,"user_agent",e)},expression:"accounts.user_agent"}})]}},{key:"item.proxy",fn:function(e){var s=e.item;return[a("v-autocomplete",{staticClass:"my-2",class:{"mr-2":!t.$vuetify.breakpoint.xs},attrs:{items:t.importDialog.tab2.newProxies.concat(t.proxy.all),"item-value":function(t){return t},label:s.proxy.id?t.$t("common.existingProxy"):t.$t("common.proxyNew"),filter:t.searchExistingProxy,outlined:"",dense:"","hide-details":"",placeholder:t.$t("common.proxyNo").toLowerCase()},scopedSlots:t._u([{key:"item",fn:function(e){var a=e.item;return[t._v(" "+t._s("undefined"!==typeof a.name&&null!==a.name?"["+a.accounts_count+"] "+a.name:null===a.login&&a.free?t.$t("adsmanager.accounts.add.leastLoaded"):null===a.login?"["+a.accounts_count+"] "+a.ip+":"+a.port:"["+a.accounts_count+"] "+a.ip+":"+a.port+":"+a.login+":"+a.password)+" ")]}},{key:"selection",fn:function(e){var a=e.item;return[t._v(" "+t._s("undefined"!==typeof a.name&&null!==a.name?"["+a.accounts_count+"] "+a.name:null===a.login&&a.free?t.$t("adsmanager.accounts.add.leastLoaded"):null===a.login?"["+a.accounts_count+"] "+a.ip+":"+a.port:"["+a.accounts_count+"] "+a.ip+":"+a.port+":"+a.login+":"+a.password)+" ")]}},{key:"append-outer",fn:function(){return[a("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on;return[a("v-btn",t._g({attrs:{icon:"","x-small":""},on:{click:function(e){t.copyToAnotherAccounts("proxy",t.importDialog.tab2.newAccounts.indexOf(s))}}},n),[a("v-icon",[t._v("clear_all")])],1)]}}],null,!0)},[a("span",[t._v(t._s(t.$t("adsmanager.accounts.add.copyToAnotherAccounts")))])])]},proxy:!0}],null,!0),model:{value:s.proxy,callback:function(e){t.$set(s,"proxy",e)},expression:"accounts.proxy"}})]}},{key:"item.tags",fn:function(e){var s=e.item;return[a("v-combobox",{staticClass:"my-2",attrs:{label:t.$t("common.tags"),items:t.tags.all,"single-line":"",dense:!(s.tags&&(!s.tags||0!==s.tags.length)),"small-chips":"",multiple:"",chips:"","deletable-chips":"",clearable:"",outlined:"","hide-details":""},scopedSlots:t._u([{key:"append-outer",fn:function(){return[a("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on;return[a("v-btn",t._g({staticStyle:{"margin-top":"2px"},attrs:{icon:"","x-small":""},on:{click:function(e){t.copyToAnotherAccounts("tags",t.importDialog.tab2.newAccounts.indexOf(s))}}},n),[a("v-icon",[t._v("clear_all")])],1)]}}],null,!0)},[a("span",[t._v(t._s(t.$t("adsmanager.accounts.add.copyToAnotherAccounts")))])])]},proxy:!0}],null,!0),model:{value:s.tags,callback:function(e){t.$set(s,"tags",e)},expression:"accounts.tags"}})]}},{key:"item.cookies",fn:function(e){var s=e.item;return[a("v-textarea",{staticClass:"textarea-with-info-button mr-2",attrs:{value:t.isJsonString(s.cookies)?s.cookies:null,label:t.$t("common.cookies"),rows:1,outlined:"",dense:"",spellcheck:!1,"hide-details":""},on:{input:function(t){s.cookies=t}}})]}},{key:"item.password",fn:function(e){var s=e.item;return[a("v-text-field",{staticClass:"mr-2",attrs:{label:t.$t("common.password"),outlined:"",dense:"","hide-details":""},model:{value:s.password,callback:function(e){t.$set(s,"password",e)},expression:"account.password"}})]}}],null,!0)})],1)},Xs=[],Zs={name:"AccountsDialogBulkAddDataCheck",data:function(){return{data:[],currentAccount:null,useragents:He["a"]}},computed:Object(i["a"])(Object(i["a"])({},Object(p["c"])({proxy:"proxy/proxy",tags:"tags/tags",importDialog:"accounts_v2/importDialog"})),{},{cols:function(){var t=[];return t.push({text:this.$t("common.name"),value:"name"}),t.push({text:this.$t("common.access_token"),value:"access_token",width:250,sortable:!1}),t.push({text:this.$t("common.useragent"),value:"useragent",width:250,sortable:!1}),t.push({text:this.$t("common.proxy"),value:"proxy",width:250,sortable:!1}),t.push({text:this.$t("common.tags"),value:"tags",width:250,sortable:!1}),t.push({text:this.$t("common.cookies"),value:"cookies",width:250,sortable:!1}),t.push({text:this.$t("common.password"),value:"password",width:250,sortable:!1}),t}}),methods:{setTab2NewAccountsOptions:function(t,e,a){var s={index:t,option:e,value:a};this.$store.dispatch("accounts_v2/setTab2NewAccountsOptions",s)},searchExistingProxy:function(t,e){var a=e.toLowerCase();return!(void 0===Object(st["a"])(t.name)||!t.name||-1===t.name.toString().toLowerCase().search(a))||(!(!t.ip||-1===t.ip.toString().toLowerCase().search(a))||(!(!t.port||-1===t.port.toString().toLowerCase().search(a))||(!(!t.login||-1===t.login.toString().toLowerCase().search(a))||!(!t.password||-1===t.password.toString().toLowerCase().search(a)))))},copyToAnotherAccounts:function(t,e){for(var a in this.importDialog.tab2.newAccounts)this.importDialog.tab2.newAccounts[a][t]=this.importDialog.tab2.newAccounts[e][t]},randomizeUseragent:function(t){var e=this.useragents.length,a=1,s=Math.floor(Math.random()*(e-a+1)+a);return this.setTab2NewAccountsOptions(t,"user_agent",this.useragents[s-1])},isJsonString:function(t){try{JSON.parse(t)}catch(e){return!1}return!0}}},tn=Zs,en=(a("b299"),Object(f["a"])(tn,Qs,Xs,!1,null,null,null)),an=en.exports;h()(en,{VAutocomplete:ct["a"],VBtn:b["a"],VCombobox:ae["a"],VDataTable:j["a"],VIcon:k["a"],VTextField:dt["a"],VTextarea:It["a"],VTooltip:ta["a"]});var sn=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-row",[a("v-col",{attrs:{cols:"12",md:"8"}},[a("v-alert",{attrs:{color:"primary",text:""},domProps:{innerHTML:t._s(t.$t("adsmanager.accounts.add.bulk.formats"))}}),a("v-textarea",{attrs:{rows:"10",dense:"",outlined:"","auto-grow":"","hide-details":""},model:{value:t.importDialog.tab2.dataRaw,callback:function(e){t.$set(t.importDialog.tab2,"dataRaw",e)},expression:"importDialog.tab2.dataRaw"}})],1),a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-simple-table",{staticClass:"add-accounts-data-input-table",attrs:{height:"400","fixed-header":""},scopedSlots:t._u([{key:"default",fn:function(){return[a("thead",[a("tr",[a("th",[t._v(t._s(t.$t("common.id")))]),a("th",[t._v(t._s(t.$t("common.nameProxy")))])])]),a("tbody",t._l(t.proxy.all,(function(e,s){return a("tr",{key:"new-proxy-"+s},[a("td",[t._v(t._s(e.id))]),a("td",[t._v(t._s(e.name))])])})),0)]},proxy:!0}])})],1)],1)},nn=[],on={name:"AccountsDialogBulkAddDataInput",data:function(){return{data:[]}},computed:Object(i["a"])({},Object(p["c"])({proxy:"proxy/proxy",importDialog:"accounts_v2/importDialog"})),watch:{"importDialog.tab2.dataRaw":function(){this.parse()},data:{deep:!0,handler:function(){this.importDialog.tab2.newAccounts=this.data}}},methods:{parse:function(){var t=this,e=this.importDialog.tab2.dataRaw.split("\n");this.data=[],this.$store.dispatch("accounts_v2/setTab2NewProxies",[]);var a=this.importDialog.tab2.newProxies,s={free:!0,id:null,ip:null,port:null,login:null,password:null,name:null,accounts_count:null,type:null};if(this.proxy&&this.proxy.all&&Array.isArray(this.proxy.all)&&this.proxy.all.length>0&&a.push(s),0!==e.length){var n,o=Object(l["a"])(e);try{for(o.s();!(n=o.n()).done;){var c=n.value;if(!c.trim())return;var r=c.split("::["),u=[];if(r.length>1){u=r[0].split("::");var d=r[1].split("]::");u.push("[".concat(d[0],"]")),d.length>1&&u.push(d[1])}else u=c.split("::");var p={name:null,access_token:null,user_agent:null,proxy:{id:null,ip:null,port:null,login:null,password:null,name:null,accounts_count:0,type:null},newProxy:null,tags:null,cookies:null,password:null};u.length>1&&(p.name=u[0].trim(),p.access_token=u[1]?u[1].trim():"",p.user_agent=u[2]?u[2].trim():"",u.length>3&&function(){var e=u[3].trim();if(-1===e.indexOf(":")){var a=t.proxy.all.find((function(t){return t.id===parseInt(e)}));p.proxy=Object(i["a"])({},a),p.newProxy=null}else{p.newProxy=u[3].trim();var s=null;-1===e.indexOf("/")?s="http":e.split("://").length>1&&(s=e.split("://")[0].toLowerCase(),"https"===s&&(s="http"),"socks"===s&&(s="socks5"),e=e.split("://")[1]),e.split(":").length>1&&(2===e.split(":").length&&(p.proxy={id:null,ip:e.split(":")[0].trim(),port:e.split(":")[1].trim(),login:null,password:null,name:null,accounts_count:0,type:s}),3===e.split(":").length&&(p.proxy={id:null,ip:e.split(":")[0].trim(),port:e.split(":")[1].trim(),login:null,password:null,name:e.split(":")[2].trim(),accounts_count:0,type:s}),4===e.split(":").length&&(p.proxy={id:null,ip:e.split(":")[0].trim(),port:e.split(":")[1].trim(),login:e.split(":")[2].trim(),password:e.split(":")[3].trim(),name:null,accounts_count:0,type:s}),5===e.split(":").length&&(p.proxy={id:null,ip:e.split(":")[0].trim(),port:e.split(":")[1].trim(),login:e.split(":")[2].trim(),password:e.split(":")[3].trim(),name:e.split(":")[4].trim(),accounts_count:0,type:s}))}}(),p.cookies=u[4]?u[4].trim():"",p.password=u[5]?u[5].trim():""),p.name&&p.access_token&&this.data.push(p),null===p.proxy.id&&null!==p.proxy.ip&&null!==p.proxy.port&&(a.push(p.proxy),this.$store.dispatch("accounts_v2/setTab2NewProxies",a))}}catch(m){o.e(m)}finally{o.f()}}}}},cn=on,rn=(a("9608"),a("1f4f")),ln=Object(f["a"])(cn,sn,nn,!1,null,null,null),un=ln.exports;h()(ln,{VAlert:Q["a"],VCol:rt["a"],VRow:lt["a"],VSimpleTable:rn["a"],VTextarea:It["a"]});var dn={name:"AccountsDialogBulkAdd",components:{DataInput:un,DataCheck:an},data:function(){return{step:1,useragents:He["a"]}},computed:Object(i["a"])({},Object(p["c"])({importDialog:"accounts_v2/importDialog"})),methods:{openStep2:function(){for(var t in this.importDialog.tab2.newAccounts)if(""===this.importDialog.tab2.newAccounts[t].user_agent||null===this.importDialog.tab2.newAccounts[t].user_agent||"User agent"===this.importDialog.tab2.newAccounts[t].user_agent){var e=this.useragents.length,a=1,s=Math.floor(Math.random()*(e-a+1)+a),n={index:t,option:"user_agent",value:this.useragents[s-1]};this.$store.dispatch("accounts_v2/setTab2NewAccountsOptions",n)}}}},pn=dn,mn=a("7e85"),gn=a("e516"),fn=a("9c54"),vn=a("56a4"),hn=Object(f["a"])(pn,Gs,Ks,!1,null,null,null),bn=hn.exports;h()(hn,{VBtn:b["a"],VCol:rt["a"],VRow:lt["a"],VStepper:mn["a"],VStepperContent:gn["a"],VStepperHeader:fn["a"],VStepperItems:fn["b"],VStepperStep:vn["a"]});var _n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-stepper",{staticClass:"dialog-stepper",model:{value:t.step,callback:function(e){t.step=e},expression:"step"}},[a("v-stepper-header",[a("v-stepper-step",{attrs:{step:1,editable:""}},[t._v(" "+t._s(t.$t("adsmanager.accounts.add.bulk.dataInput"))+" ")]),a("v-stepper-step",{attrs:{step:2,editable:""},on:{click:t.openStep2}},[t._v(" "+t._s(t.$t("adsmanager.accounts.add.bulk.dataCheck"))+" ")])],1),a("v-stepper-items",[a("v-stepper-content",{attrs:{step:1}},[a("data-input")],1),a("v-stepper-content",{attrs:{step:2}},[a("data-check",{attrs:{"process-data":t.processData}})],1)],1),a("v-row",[a("v-col",{staticStyle:{"text-align":"center"}},[2!==t.step?a("v-btn",{attrs:{color:"primary",raised:""},on:{click:function(e){t.step++,t.openStep2()}}},[t._v(" "+t._s(t.$t("common.continue"))+" ")]):t._e()],1)],1)],1)},yn=[],xn=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",[a("v-dialog",{attrs:{width:"700",scrollable:""},model:{value:t.detailsDialog,callback:function(e){t.detailsDialog=e},expression:"detailsDialog"}},[a("v-card",[a("v-card-title",{staticClass:"headline"},[t._v(" "+t._s(t.$t("common.learnMore"))+" ")]),a("v-card-text",["undefined"!==typeof t.forDetails.images?a("div",[!t.forDetails.result&&t.forDetails.out?a("code",[t._v(" "+t._s(t.forDetails.out)+" ")]):t._e(),t._l(t.forDetails.images,(function(e){return a("img",{key:e,staticClass:"my-1",staticStyle:{width:"100%",height:"auto"},attrs:{src:t.baseUrl+e}})}))],2):t._e(),"api"===t.importDialog.tab3.mode?a("div",[a("code",[t._v(t._s(JSON.stringify(t.forDetails.response)))])]):t._e()]),a("v-divider"),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",text:""},on:{click:function(e){t.detailsDialog=!1}}},[t._v(" "+t._s(t.$t("common.close"))+" ")])],1)],1)],1)],1),a("div",[a("v-data-table",{attrs:{headers:t.cols,"fixed-header":"",items:t.importDialog.tab3.newAccounts},scopedSlots:t._u([{key:"item.name",fn:function(e){var s=e.item;return[a("v-text-field",{staticClass:"my-2 mr-2",attrs:{value:s.name,label:t.$t("common.name"),outlined:"",dense:"","hide-details":""},on:{input:function(e){t.setTab3NewAccountsOptions(t.importDialog.tab3.newAccounts.indexOf(s),"name",e)}}})]}},{key:"item.login",fn:function(e){var s=e.item;return[a("v-text-field",{staticClass:"my-2 mr-2",attrs:{value:s.login,label:t.$t("common.login"),outlined:"",dense:"","hide-details":""},on:{input:function(e){t.setTab3NewAccountsOptions(t.importDialog.tab3.newAccounts.indexOf(s),"login",e)}}})]}},{key:"item.password",fn:function(e){var s=e.item;return[a("v-text-field",{staticClass:"my-2 mr-2",attrs:{value:s.password,label:t.$t("common.password"),outlined:"",dense:"","hide-details":""},on:{input:function(e){t.setTab3NewAccountsOptions(t.importDialog.tab3.newAccounts.indexOf(s),"password",e)}}})]}},{key:"item.useragent",fn:function(e){var s=e.item;return[a("v-text-field",{staticClass:"my-2 mr-2",attrs:{value:s.user_agent,label:t.$t("common.useragent"),outlined:"",dense:"","hide-details":""},on:{input:function(e){t.setTab3NewAccountsOptions(t.importDialog.tab3.newAccounts.indexOf(s),"user_agent",e)}},scopedSlots:t._u([{key:"prepend-inner",fn:function(){return[a("v-btn",{attrs:{"x-small":"",icon:""},on:{click:function(e){t.randomizeUseragent(t.importDialog.tab3.newAccounts.indexOf(s))}}},[a("v-icon",{staticStyle:{"margin-top":"3px"}},[t._v(" autorenew ")])],1)]},proxy:!0},{key:"append",fn:function(){return[a("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on;return[a("v-btn",t._g({staticStyle:{"margin-top":"2px"},attrs:{icon:"","x-small":""},on:{click:function(e){t.copyToAnotherAccounts("user_agent",t.importDialog.tab3.newAccounts.indexOf(s))}}},n),[a("v-icon",[t._v("clear_all")])],1)]}}],null,!0)},[a("span",[t._v(t._s(t.$t("adsmanager.accounts.add.copyToAnotherAccounts")))])])]},proxy:!0}],null,!0)})]}},{key:"item.proxy",fn:function(e){var s=e.item;return[a("v-autocomplete",{staticClass:"my-2",class:{"mr-2":!t.$vuetify.breakpoint.xs},attrs:{value:s.proxy,items:t.importDialog.tab3.newProxies.concat(t.proxy.all),"item-value":function(t){return t},label:s.proxy.id?t.$t("common.existingProxy"):t.$t("common.proxyNew"),filter:t.searchExistingProxy,outlined:"",dense:"","hide-details":"",placeholder:t.$t("common.proxyNo").toLowerCase()},on:{input:function(e){t.setTab3NewAccountsOptions(t.importDialog.tab3.newAccounts.indexOf(s),"proxy",e)}},scopedSlots:t._u([{key:"item",fn:function(e){var a=e.item;return[t._v(" "+t._s("undefined"!==typeof a.name&&null!==a.name?"["+a.accounts_count+"] "+a.name:null===a.login&&a.free?t.$t("adsmanager.accounts.add.leastLoaded"):null===a.login?"["+a.accounts_count+"] "+a.ip+":"+a.port:"["+a.accounts_count+"] "+a.ip+":"+a.port+":"+a.login+":"+a.password)+" ")]}},{key:"selection",fn:function(e){var a=e.item;return[t._v(" "+t._s("undefined"!==typeof a.name&&null!==a.name?"["+a.accounts_count+"] "+a.name:null===a.login&&a.free?t.$t("adsmanager.accounts.add.leastLoaded"):null===a.login?"["+a.accounts_count+"] "+a.ip+":"+a.port:"["+a.accounts_count+"] "+a.ip+":"+a.port+":"+a.login+":"+a.password)+" ")]}},{key:"append-outer",fn:function(){return[a("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on;return[a("v-btn",t._g({attrs:{icon:"","x-small":""},on:{click:function(e){t.copyToAnotherAccounts("proxy",t.importDialog.tab3.newAccounts.indexOf(s))}}},n),[a("v-icon",[t._v("clear_all")])],1)]}}],null,!0)},[a("span",[t._v(t._s(t.$t("adsmanager.accounts.add.copyToAnotherAccounts")))])])]},proxy:!0}],null,!0)})]}},{key:"item.tags",fn:function(e){var s=e.item;return[a("v-combobox",{staticClass:"my-2",class:{"mr-2":!t.$vuetify.breakpoint.xs},attrs:{value:s.tags,label:t.$t("common.tags"),items:t.tags.all,"single-line":"",dense:!(s.tags&&(!s.tags||0!==s.tags.length)),"small-chips":"",multiple:"",chips:"","deletable-chips":"",clearable:"",outlined:"","hide-details":""},on:{input:function(e){t.setTab3NewAccountsOptions(t.importDialog.tab3.newAccounts.indexOf(s),"tags",e)}},scopedSlots:t._u([{key:"append-outer",fn:function(){return[a("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on;return[a("v-btn",t._g({staticStyle:{"margin-top":"2px"},attrs:{icon:"","x-small":""},on:{click:function(e){t.copyToAnotherAccounts("tags",t.importDialog.tab3.newAccounts.indexOf(s))}}},n),[a("v-icon",[t._v("clear_all")])],1)]}}],null,!0)},[a("span",[t._v(t._s(t.$t("adsmanager.accounts.add.copyToAnotherAccounts")))])])]},proxy:!0}],null,!0)})]}},{key:"item.status",fn:function(e){var s=e.item;return["undefined"!==typeof t.processData.responses[t.importDialog.tab3.newAccounts.indexOf(s)]&&t.processData.responses[t.importDialog.tab3.newAccounts.indexOf(s)]&&0!==t.processData.responses[t.importDialog.tab3.newAccounts.indexOf(s)].toString().length?t._e():a("v-progress-linear",{attrs:{indeterminate:"undefined"!==typeof t.processData.loading[t.importDialog.tab3.newAccounts.indexOf(s)]&&t.processData.loading[t.importDialog.tab3.newAccounts.indexOf(s)],value:0}}),"undefined"!==typeof t.processData.responses[t.importDialog.tab3.newAccounts.indexOf(s)]&&"undefined"!==typeof t.processData.responses[t.importDialog.tab3.newAccounts.indexOf(s)].result&&t.processData.responses[t.importDialog.tab3.newAccounts.indexOf(s)].result?a("span",[a("v-icon",{attrs:{color:"green"}},[t._v("check_box")]),a("a",{staticStyle:{"font-size":"12px"},attrs:{href:"#"},on:{click:function(e){t.openDetails(t.processData.responses[t.importDialog.tab3.newAccounts.indexOf(s)])}}},[t._v(" "+t._s(t.$t("common.learnMore"))+" ")])],1):t._e(),"undefined"===typeof t.processData.responses[t.importDialog.tab3.newAccounts.indexOf(s)]||"undefined"===typeof t.processData.responses[t.importDialog.tab3.newAccounts.indexOf(s)].result||t.processData.responses[t.importDialog.tab3.newAccounts.indexOf(s)].result?t._e():a("span",[a("v-icon",{staticClass:"mr-1",attrs:{color:"red"}},[t._v("cancel")]),a("a",{staticStyle:{"font-size":"12px"},attrs:{href:"#"},on:{click:function(e){t.openDetails(t.processData.responses[t.importDialog.tab3.newAccounts.indexOf(s)])}}},[t._v(" "+t._s(t.$t("common.learnMore"))+" ")])],1)]}}])})],1)])},kn=[],wn={name:"AccountsDialogLoginPasswordDataCheck",props:{processData:{type:Object,default:function(){return{responses:{},loading:{}}}}},data:function(){return{data:[],currentAccount:null,detailsDialog:!1,forDetails:{},useragents:He["a"]}},computed:Object(i["a"])(Object(i["a"])({},Object(p["c"])({proxy:"proxy/proxy",tags:"tags/tags",importDialog:"accounts_v2/importDialog"})),{},{cols:function(){var t=[];return t.push({text:this.$t("common.name"),value:"name",width:200}),t.push({text:this.$t("common.login"),value:"login",width:200,sortable:!1}),t.push({text:this.$t("common.password"),value:"password",width:200,sortable:!1}),t.push({text:this.$t("common.useragent"),value:"useragent",width:200,sortable:!1}),t.push({text:this.$t("common.proxy"),value:"proxy",width:200,sortable:!1}),t.push({text:this.$t("common.tags"),value:"tags",width:200,sortable:!1}),t.push({text:this.$t("common.status"),value:"status",sortable:!1}),t}}),methods:{setTab3NewAccountsOptions:function(t,e,a){var s={index:t,option:e,value:a};this.$store.dispatch("accounts_v2/setTab3NewAccountsOptions",s)},searchExistingProxy:function(t,e){var a=e.toLowerCase();return!(void 0===Object(st["a"])(t.name)||!t.name||-1===t.name.toString().toLowerCase().search(a))||(!(!t.ip||-1===t.ip.toString().toLowerCase().search(a))||(!(!t.port||-1===t.port.toString().toLowerCase().search(a))||(!(!t.login||-1===t.login.toString().toLowerCase().search(a))||!(!t.password||-1===t.password.toString().toLowerCase().search(a)))))},copyToAnotherAccounts:function(t,e){for(var a in this.importDialog.tab3.newAccounts)this.setTab3NewAccountsOptions(a,t,this.importDialog.tab3.newAccounts[e][t])},openDetails:function(t){this.forDetails=t,this.detailsDialog=!0},randomizeUseragent:function(t){var e=this.useragents.length,a=1,s=Math.floor(Math.random()*(e-a+1)+a);return this.setTab3NewAccountsOptions(t,"user_agent",this.useragents[s-1])}}},$n=wn,Cn=(a("59ef"),Object(f["a"])($n,xn,kn,!1,null,null,null)),An=Cn.exports;h()(Cn,{VAutocomplete:ct["a"],VBtn:b["a"],VCard:_["a"],VCardActions:y["a"],VCardText:y["b"],VCardTitle:y["c"],VCombobox:ae["a"],VDataTable:j["a"],VDialog:x["a"],VDivider:I["a"],VIcon:k["a"],VProgressLinear:w["a"],VSpacer:L["a"],VTextField:dt["a"],VTooltip:ta["a"]});var Tn=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-row",[a("v-col",{attrs:{cols:"12",md:"8"}},[a("v-alert",{attrs:{color:"primary",text:""},domProps:{innerHTML:t._s(t.$t("adsmanager.accounts.add.loginPassword.formats"))}}),a("v-textarea",{attrs:{value:t.importDialog.tab3.dataRaw,rows:"10",dense:"",outlined:"","auto-grow":"","hide-details":""},on:{input:function(e){return t.setImportDialogOptions("dataRaw",e)}}}),t.alertUseragent?a("v-alert",{staticClass:"mt-4",attrs:{color:"red",text:"","hide-details":""},domProps:{innerHTML:t._s(t.$t("adsmanager.accounts.add.alertUseragent"))}}):t._e()],1),a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-simple-table",{staticClass:"add-accounts-data-input-table",attrs:{height:"400","fixed-header":""},scopedSlots:t._u([{key:"default",fn:function(){return[a("thead",[a("tr",[a("th",[t._v(t._s(t.$t("common.id")))]),a("th",[t._v(t._s(t.$t("common.nameProxy")))])])]),a("tbody",t._l(t.proxy.all,(function(e,s){return a("tr",{key:"new-proxy-"+s},[a("td",[t._v(t._s(e.id))]),a("td",[t._v(t._s(e.name))])])})),0)]},proxy:!0}])})],1)],1)},Dn=[],Sn={name:"AccountsDialogLoginPasswordDataInput",data:function(){return{data:[],useragents:He["a"],alertUseragent:!1}},computed:Object(i["a"])({},Object(p["c"])({proxy:"proxy/proxy",importDialog:"accounts_v2/importDialog"})),watch:{"importDialog.tab3.dataRaw":function(){this.parse()},data:{deep:!0,handler:function(){this.setImportDialogOptions("newAccounts",this.data)}}},methods:{setImportDialogOptions:function(t,e){var a={category:"tab3",option:t,value:e};this.$store.dispatch("accounts_v2/setImportDialogOptions",a)},parse:function(){var t=this;this.alertUseragent=!1;var e=this.importDialog.tab3.dataRaw.split("\n");this.data=[],this.$store.dispatch("accounts_v2/setTab3NewProxies",[]);var a=this.importDialog.tab3.newProxies,s={free:!0,id:null,ip:null,port:null,login:null,password:null,name:null,accounts_count:null,type:null};a.push(s),0!==e.length&&e.forEach((function(e){if(e.trim()){var s={name:null,login:null,password:null,user_agent:null,proxy:{id:null,ip:null,port:null,login:null,password:null,name:null,accounts_count:0,type:null},newProxy:null,tags:null};if(e.split("::").length>1){var n=e.split("::")[0];n&&(s.name=n.trim());var o=e.split("::")[1].trim();o&&(s.login=o.trim());var c=e.split("::")[2].trim();c&&(s.password=c.trim());var r=e.split("::")[3].trim();if(r&&(s.user_agent=r.trim()),e.split("::")[3].trim().toLowerCase().indexOf("android")>-1&&(t.alertUseragent=!0),0===s.user_agent.toString().length&&(s.user_agent=He["a"][parseInt(Math.random()*He["a"].length)]),e.split("::").length>4){var l=e.split("::")[4].trim();if(-1===l.indexOf(":")){var u=t.proxy.all.find((function(t){return t.id===parseInt(l)}));s.proxy=Object(i["a"])({},u),s.newProxy=null}else{s.newProxy=e.split("::")[4].trim();var d=null;-1===l.indexOf("/")?d="http":l.split("://").length>1&&(d=l.split("://")[0].toLowerCase(),"https"===d&&(d="http"),"socks"===d&&(d="socks5"),l=l.split("://")[1]),l.split(":").length>1&&(2===l.split(":").length&&(s.proxy={id:null,ip:l.split(":")[0].trim(),port:l.split(":")[1].trim(),login:null,password:null,name:null,accounts_count:0,type:d}),3===l.split(":").length&&(s.proxy={id:null,ip:l.split(":")[0].trim(),port:l.split(":")[1].trim(),login:null,password:null,name:l.split(":")[2].trim(),accounts_count:0,type:d}),4===l.split(":").length&&(s.proxy={id:null,ip:l.split(":")[0].trim(),port:l.split(":")[1].trim(),login:l.split(":")[2].trim(),password:l.split(":")[3].trim(),name:null,accounts_count:0,type:d}),5===l.split(":").length&&(s.proxy={id:null,ip:l.split(":")[0].trim(),port:l.split(":")[1].trim(),login:l.split(":")[2].trim(),password:l.split(":")[3].trim(),name:l.split(":")[4].trim(),accounts_count:0,type:d}))}}}s.name&&s.login&&s.password&&t.data.push(s),null===s.proxy.id&&null!==s.proxy.ip&&null!==s.proxy.port&&(a.push(s.proxy),t.$store.dispatch("accounts_v2/setTab3NewProxies",a))}}))}}},On=Sn,Pn=(a("6056"),Object(f["a"])(On,Tn,Dn,!1,null,null,null)),Vn=Pn.exports;h()(Pn,{VAlert:Q["a"],VCol:rt["a"],VRow:lt["a"],VSimpleTable:rn["a"],VTextarea:It["a"]});var jn={name:"AccountsDialogLoginPassword",components:{DataInput:Vn,DataCheck:An},props:{processData:{type:Object,default:function(){return{responses:{},loading:{}}}}},data:function(){return{step:1,useragents:He["a"]}},computed:Object(i["a"])({},Object(p["c"])({importDialog:"accounts_v2/importDialog"})),methods:{openStep2:function(){for(var t in this.importDialog.tab3.newAccounts)if(""===this.importDialog.tab3.newAccounts[t].user_agent||null===this.importDialog.tab3.newAccounts[t].user_agent||"User agent"===this.importDialog.tab3.newAccounts[t].user_agent){var e=this.useragents.length,a=1,s=Math.floor(Math.random()*(e-a+1)+a),n={index:t,option:"user_agent",value:this.useragents[s-1]};this.$store.dispatch("accounts_v2/setTab3NewAccountsOptions",n)}}}},In=jn,Ln=Object(f["a"])(In,_n,yn,!1,null,null,null),Rn=Ln.exports;h()(Ln,{VBtn:b["a"],VCol:rt["a"],VRow:lt["a"],VStepper:mn["a"],VStepperContent:gn["a"],VStepperHeader:fn["a"],VStepperItems:fn["b"],VStepperStep:vn["a"]});var Fn={name:"AccountsSingleAddDialog",components:{DialogBulkAdd:bn,DialogLoginPassword:Rn,DialogForm:aa},data:function(){return{validation:{state:!1},newAccount:{},tabs:0,tab3:{responses:{},loading:{}},proxyState:!1,initialUseragent:"",initialUseragentChanged:!1}},computed:Object(i["a"])({},Object(p["c"])({dialogs:"accounts_v2/dialogs",loading:"accounts_v2/loading",importDialog:"accounts_v2/importDialog"})),created:function(){this.$store.dispatch("tags/loadTags"),this.$store.dispatch("proxy/loadProxy")},methods:{close:function(){(""===this.newAccount.access_token&&""===this.newAccount.name&&0===this.newAccount.tags.length&&this.initialUseragent===this.newAccount.useragent&&""!==this.newAccount.useragent&&null===this.newAccount.cookies&&!this.proxyState&&""===this.importDialog.tab2.dataRaw&&""===this.importDialog.tab3.dataRaw||(this.confirmation=confirm(this.$t("common.closeDialogConfirmation")),this.confirmation))&&this.$store.dispatch("accounts_v2/closeDialog","add")},setInitialUseragent:function(t){this.initialUseragent=t,this.initialUseragentChanged=!0},addAccount:function(){this.$store.dispatch("accounts_v2/addAccount",this.newAccount)},addBulkAccounts:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){var a,s,n,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$store.dispatch("accounts_v2/setCreateCabsCount",0);case 2:a=Object(l["a"])(t.importDialog.tab2.newAccounts),e.prev=3,a.s();case 5:if((s=a.n()).done){e.next=13;break}return n=s.value,o=t.$_.cloneDeep(n),o.cookies=o.cookies?JSON.parse(o.cookies):null,e.next=11,t.$store.dispatch("accounts_v2/createBulkAccounts",o);case 11:e.next=5;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e["catch"](3),a.e(e.t0);case 18:return e.prev=18,a.f(),e.finish(18);case 21:t.$store.dispatch("accounts_v2/closeDialog","add");case 22:case"end":return e.stop()}}),e,null,[[3,15,18,21]])})))()},addLoginPassword:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){var a,s,n,o,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$store.dispatch("accounts_v2/setAddDialogLoading",!0);case 2:t.$set(t.tab3,"loading",{}),t.$set(t.tab3,"responses",{}),e.t0=regeneratorRuntime.keys(t.importDialog.tab3.newAccounts);case 5:if((e.t1=e.t0()).done){e.next=30;break}return a=e.t1.value,t.$set(t.tab3.loading,a,!0),e.next=10,t.api.post("/accounts/add",t.importDialog.tab3.newAccounts[a]);case 10:if(s=e.sent,"undefined"===typeof s.data.data||"undefined"===s.data.data.account_id){e.next=27;break}n=s.data.data.account_id,o="get_token_via_emulation",e.t2=t.importDialog.tab3.mode,e.next="browser"===e.t2?17:"api"===e.t2?19:"form"===e.t2?21:23;break;case 17:return o="get_token_via_emulation",e.abrupt("break",23);case 19:return o="get_token_via_api",e.abrupt("break",23);case 21:return o="get_token_via_form",e.abrupt("break",23);case 23:return e.next=25,t.api.post("/automator/"+o,{account_id:n});case 25:i=e.sent,t.$set(t.tab3.responses,a,i.data);case 27:t.$set(t.tab3.loading,a,!1),e.next=5;break;case 30:return e.next=32,t.$store.dispatch("accounts_v2/setAddDialogLoading",!1);case 32:case"end":return e.stop()}}),e)})))()}}},Nn=Fn,En=a("71a3"),zn=a("c671"),Mn=a("fe57"),Bn=Object(f["a"])(Nn,Ws,Js,!1,null,null,null),Un=Bn.exports;h()(Bn,{VBtn:b["a"],VCard:_["a"],VCardText:y["b"],VCol:rt["a"],VDialog:x["a"],VIcon:k["a"],VRow:lt["a"],VSpacer:L["a"],VTab:En["a"],VTabItem:zn["a"],VTabs:Mn["a"],VToolbar:R["a"],VToolbarItems:F["a"],VToolbarTitle:F["b"]});var qn=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-row",{staticClass:"topbar-row"},[t.showFilters?a("filters-bar",{attrs:{show:t.showFilters,"active-filters-count":t.activeFiltersCount},on:{close:function(e){t.showFilters=!1}}}):t._e(),a("v-col",{staticStyle:{"padding-right":"0"},attrs:{cols:12,md:8}},[a("v-row",[a("v-col",{class:{"px-0":t.$vuetify.breakpoint.xs},staticStyle:{"padding-bottom":"0"},attrs:{cols:7,sm:4}},[a("topbar-actions")],1),a("v-col",{staticClass:"maintable-topbar py-0",class:{"px-0":t.$vuetify.breakpoint.xs,"justify-end":t.$vuetify.breakpoint.xs||t.$vuetify.breakpoint.sm},attrs:{cols:5,sm:8}},[t.$vuetify.breakpoint.xs||t.$vuetify.breakpoint.sm?t._e():a("div",{staticStyle:{float:"right",width:"85px"},style:t.$vuetify.breakpoint.sm||t.$vuetify.breakpoint.xs?t.$vuetify.breakpoint.sm?"margin-bottom: 8px;":"":"margin-left: 8px;"},[a("currency-selector")],1),a("refresh"),t.$vuetify.breakpoint.xs||t.$vuetify.breakpoint.sm?t._e():a("div",{staticStyle:{float:"right"}},[a("topbar-cols")],1),a("div",{staticStyle:{float:"right"}},[a("v-btn",{staticClass:"white--text",class:{"px-0":t.$vuetify.breakpoint.xs},staticStyle:{"margin-top":"1px"},attrs:{small:"",text:0===t.activeFiltersCount||t.$vuetify.breakpoint.sm||t.$vuetify.breakpoint.xs,color:0===t.activeFiltersCount?"primary":"red"},on:{click:function(e){t.showFilters=!0}}},[a("v-icon",{staticClass:"mr-1",attrs:{size:18}},[t._v(" filter_list ")]),t._v(" "+t._s(t.$t("common.filters"))+" "),t.activeFiltersCount>0?a("span",[t._v(" ("+t._s(t.activeFiltersCount)+") ")]):t._e(),t.activeFiltersCount>0?a("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on;return[a("v-btn",t._g({attrs:{"x-small":"",icon:"",dark:""},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.$store.dispatch("accounts_v2/clearFilters")}}},s),[a("v-icon",{attrs:{size:13}},[t._v(" fas fa-times ")])],1)]}}],null,!1,3155558238)},[a("span",[t._v(t._s(t.$t("common.clear"))+" "+t._s(t.$t("common.filters").toLowerCase()))])]):t._e()],1)],1),t.$vuetify.breakpoint.xs||t.$vuetify.breakpoint.sm?t._e():a("div",{staticStyle:{float:"right"}},[a("v-btn",{staticStyle:{"min-width":"0","margin-top":"1px"},style:t.$vuetify.breakpoint.sm||t.$vuetify.breakpoint.xs?"":"margin-left: 12px;",attrs:{small:"",color:"primary",text:""},on:{click:function(e){t.$store.dispatch("accounts_v2/openDialog","add"),t.$store.dispatch("accounts_v2/clearImportDialog")}}},[a("v-icon",{attrs:{size:18}},[t._v(" add ")]),t._v(" "+t._s(t.$t("common.add"))+" "+t._s(t.$t("common.account"))+" ")],1)],1)],1)],1)],1),a("v-col",{attrs:{cols:12,md:4}},[a("v-row",[a("v-col",{staticClass:"py-0",class:{"pl-0":t.$vuetify.breakpoint.xs},attrs:{cols:6}},[a("filters-date",{style:t.$vuetify.breakpoint.sm?"padding-right: 8px;":""})],1),a("v-col",{staticClass:"py-0",class:{"pr-0":t.$vuetify.breakpoint.xs},attrs:{cols:6}},[a("v-text-field",{style:t.$vuetify.breakpoint.sm?"margin-left: 8px;":"",attrs:{dense:"",clearable:"",solo:"",label:t.$t("filters.searchByName"),"single-line":"","prepend-inner-icon":"fas fa-search","hide-details":"",value:t.filters.name},on:{input:t.filterName}})],1)],1)],1)],1)},Yn=[],Hn=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-combobox",{attrs:{label:"Валюта",items:t.currencies,value:t.currency,solo:"","hide-details":"",height:30,dense:""},on:{change:t.currencyChange}})},Wn=[],Jn=a("1451"),Gn={name:"AdsManagerCurrencySelectorV2",data:function(){return{currencies:Jn["a"]}},computed:Object(i["a"])({},Object(p["c"])({currency:"adsmanager/currency"})),methods:{currencyChange:function(t){this.$store.dispatch("adsmanager/changeCurrency",t),this.$store.dispatch("accounts_v2/LOAD_ACCOUNTS")}}},Kn=Gn,Qn=Object(f["a"])(Kn,Hn,Wn,!1,null,null,null),Xn=Qn.exports;h()(Qn,{VCombobox:ae["a"]});var Zn=a("c86e"),to=a("0365"),eo=a("fc9b"),ao=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("date-range-picker",{staticClass:"adsmanager-date-range-picker",staticStyle:{width:"100%"},attrs:{"date-range":t.globalFiltersDates,ranges:t.ranges,"locale-data":t.localeData,"auto-apply":"",opens:t.$vuetify.breakpoint.xs?"right":"left","control-container-class":"form-control"},on:{select:t.changeDates},scopedSlots:t._u([{key:"input",fn:function(e){return[a("v-text-field",{staticStyle:{cursor:"pointer"},attrs:{dense:"",solo:"","single-line":"","prepend-inner-icon":"fas fa-calendar","hide-details":"",value:t.moment(e.startDate).format("YYYY-MM-DD")+" - "+t.moment(e.endDate).format("YYYY-MM-DD"),readonly:""}})]}}])})},so=[],no=a("ade3"),oo=a("c1df"),io=a.n(oo),co=a("bbf5"),ro=a.n(co),lo={name:"AdsManagerFiltersDate",components:{DateRangePicker:ro.a},data:function(){return{moment:io.a,dateRange:{startDate:"2020-04-23",endDate:"2020-04-23"},localeData:{firstDay:"ru"===localStorage.getItem("language")?1:0,direction:"ltr",format:"yyyy-mm-dd",separator:" - ",applyLabel:"Apply",cancelLabel:"Cancel",weekLabel:"W",customRangeLabel:"Custom Range",daysOfWeek:[this.$t("common.datePicker.daysOfWeek.sun"),this.$t("common.datePicker.daysOfWeek.mon"),this.$t("common.datePicker.daysOfWeek.tue"),this.$t("common.datePicker.daysOfWeek.wed"),this.$t("common.datePicker.daysOfWeek.thu"),this.$t("common.datePicker.daysOfWeek.fri"),this.$t("common.datePicker.daysOfWeek.sat")],monthNames:[this.$t("common.datePicker.monthNames.jan"),this.$t("common.datePicker.monthNames.feb"),this.$t("common.datePicker.monthNames.mar"),this.$t("common.datePicker.monthNames.apr"),this.$t("common.datePicker.monthNames.may"),this.$t("common.datePicker.monthNames.jun"),this.$t("common.datePicker.monthNames.jul"),this.$t("common.datePicker.monthNames.aug"),this.$t("common.datePicker.monthNames.sep"),this.$t("common.datePicker.monthNames.oct"),this.$t("common.datePicker.monthNames.nov"),this.$t("common.datePicker.monthNames.dec")]}}},computed:Object(i["a"])(Object(i["a"])({},Object(p["c"])({globalFilters:"adsmanager/filters",profile:"main/profile"})),{},{ranges:function(){var t,e=new Date;e.setHours(0,0,0,0);var a=new Date;a.setDate(e.getDate()-1),a.setHours(0,0,0,0);var s=new Date;s.setDate(e.getDate()-7),s.setHours(0,0,0,0);var n=new Date;n.setDate(e.getDate()-14),n.setHours(0,0,0,0);var o=new Date;return o.setDate(e.getDate()-30),o.setHours(0,0,0,0),t={},Object(no["a"])(t,this.$t("common.datePicker.ranges.today"),[e,e]),Object(no["a"])(t,this.$t("common.datePicker.ranges.yesterday"),[a,a]),Object(no["a"])(t,this.$t("common.datePicker.ranges.last7Days"),[s,e]),Object(no["a"])(t,this.$t("common.datePicker.ranges.last14Days"),[n,e]),Object(no["a"])(t,this.$t("common.datePicker.ranges.last30Days"),[o,e]),Object(no["a"])(t,this.$t("common.datePicker.ranges.thisWeek"),[io()().startOf("week").toDate(),e]),Object(no["a"])(t,this.$t("common.datePicker.ranges.lastWeek"),[io()().subtract(1,"weeks").startOf("week").toDate(),io()().subtract(1,"weeks").endOf("week").toDate()]),Object(no["a"])(t,this.$t("common.datePicker.ranges.thisMonth"),[new Date(e.getFullYear(),e.getMonth(),1),e]),Object(no["a"])(t,this.$t("common.datePicker.ranges.lastMonth"),[new Date(e.getFullYear(),e.getMonth()-1,1),new Date(e.getFullYear(),e.getMonth(),0)]),Object(no["a"])(t,this.$t("common.datePicker.ranges.thisYear"),[new Date(e.getFullYear(),0,1),new Date(e.getFullYear(),11,31)]),t},globalFiltersDates:function(){var t={startDate:this.moment().startOf("day").format("YYYY-MM-DD HH:mm:ss"),endDate:this.moment().endOf("day").format("YYYY-MM-DD HH:mm:ss")};if(this.globalFilters.dates&&this.globalFilters.dates.startDate&&this.globalFilters.dates.endDate){var e=this.moment(this.globalFilters.dates.startDate).startOf("day").format("YYYY-MM-DDTHH:mm:ss"),a=this.moment(this.globalFilters.dates.endDate).endOf("day").format("YYYY-MM-DDTHH:mm:ss");t.startDate=new Date(e),t.endDate=new Date(a)}return t}}),methods:{changeDates:function(t){this.$store.dispatch("adsmanager/setFiltersDates",{startDate:this.moment(t.startDate).format("YYYY-MM-DD"),endDate:this.moment(t.endDate).format("YYYY-MM-DD")}),this.$store.dispatch("accounts_v2/LOAD_ACCOUNTS")}}},uo=lo,po=Object(f["a"])(uo,ao,so,!1,null,null,null),mo=po.exports;h()(po,{VTextField:dt["a"]});var go=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-navigation-drawer",{staticStyle:{"z-index":"9999",width:"400px"},attrs:{value:t.show,temporary:"",right:"",absolute:""},on:{transitionend:function(e){return t.$emit("close")}}},[a("div",{staticStyle:{padding:"16px"}},[a("div",{staticClass:"mb-3"},[a("span",[a("v-btn",{staticClass:"sidebar-collapse-button",attrs:{color:"grey",fab:"","x-small":"",outlined:""},on:{click:function(e){return t.$emit("close")}}},[a("v-icon",[t._v("keyboard_arrow_right")])],1)],1),a("span",{staticClass:"title"},[t._v(" "+t._s(t.$t("common.filters"))+" ")])]),a("v-row",[a("v-col",{staticClass:"py-0 my-2",attrs:{cols:"12"}},[a("v-combobox",{attrs:{label:t.$t("filters.status"),items:t.accountsStatuses,value:t.filters.statuses,multiple:"",chips:"","deletable-chips":"",clearable:"",dense:"","small-chips":"","single-line":"",solo:"","prepend-inner-icon":"fas fa-code","hide-details":""},on:{change:t.filterStatus}})],1),a("v-col",{staticClass:"py-0 mt-2",attrs:{cols:"12"}},[a("v-combobox",{attrs:{label:t.$t("common.tags"),items:t.currentLevelTags.all,value:t.filters.tags,multiple:"",chips:"","deletable-chips":"",clearable:"",dense:"","small-chips":"",solo:"","prepend-inner-icon":"fas fa-tags","hide-details":""},on:{change:t.filterTags}})],1),a("v-col",{staticClass:"py-0 mt-2",attrs:{cols:"12"}},[a("h5",[t._v(" "+t._s(t.$t("adsmanager.accounts.filters.archived"))+" ")]),a("v-checkbox",{attrs:{label:t.$t("adsmanager.accounts.filters.showArchivedAccounts")},on:{change:function(e){return t.$store.dispatch("accounts_v2/setSpecificFilter",{filter:"showArchived",data:!!e})}},model:{value:t.filters.showArchived,callback:function(e){t.$set(t.filters,"showArchived",e)},expression:"filters.showArchived"}})],1),a("v-col",{staticClass:"py-0 mt-2",attrs:{cols:"12"}},[a("h5",[t._v(" "+t._s(t.$t("common.spend"))+" ")]),a("v-checkbox",{attrs:{label:t.$t("common.withSpend")},on:{change:function(e){return t.$store.dispatch("accounts_v2/setSpecificFilter",{filter:"withSpend",data:!!e})}},model:{value:t.filters.withSpend,callback:function(e){t.$set(t.filters,"withSpend",e)},expression:"filters.withSpend"}})],1)],1),t.$vuetify.breakpoint.xs||t.$vuetify.breakpoint.sm?a("v-col",{staticClass:"py-0 mt-2",attrs:{cols:"12"}},[t.activeFiltersCount>0?a("v-btn",{staticClass:"mr-1",attrs:{text:"",block:"",color:"primary",small:""},on:{click:function(e){return t.$store.dispatch("accounts_v2/clearFilters")}}},[a("v-icon",{staticClass:"mr-1",attrs:{size:18}},[t._v(" close ")]),t._v(" "+t._s(t.$t("common.clear"))+" "+t._s(t.$t("common.filters"))+" ")],1):t._e()],1):t._e(),t.$vuetify.breakpoint.xs||t.$vuetify.breakpoint.sm?a("v-col",{staticClass:"py-0 mt-2",attrs:{cols:"12"}},[a("topbar-cols")],1):t._e()],1)])},fo=[],vo=(a("a9e3"),{name:"AccountsFiltersBar",components:{TopbarCols:eo["a"]},props:{show:{type:Boolean,default:!1},activeFiltersCount:{type:Number,default:0}},data:function(){return{loadCurrentLevelTagsInterval:0,accountsStatuses:to["a"]}},computed:Object(i["a"])({},Object(p["c"])({accounts:"accounts_v2/ACCOUNTS",filters:"accounts_v2/FILTERS",currentLevelTags:"tags/currentLevelTags"})),watch:{"filters.withSpend":{handler:function(){this.$store.dispatch("accounts_v2/LOAD_ACCOUNTS")},deep:!1},"filters.showArchived":{handler:function(){this.$store.dispatch("accounts_v2/LOAD_ACCOUNTS")},deep:!1}},created:function(){var t=this;this.filters.newVersion=!0,this.$store.dispatch("tags/loadItems",{only_from:"accounts",exclude_tags:0}),this.loadCurrentLevelTagsInterval=setInterval((function(){t.$store.dispatch("tags/loadItems",{only_from:"accounts",exclude_tags:0})}),6e4)},beforeDestroy:function(){this.filters.newVersion=!1,clearInterval(this.loadCurrentLevelTagsInterval)},methods:{filterStatus:function(t){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return t&&e.$store.dispatch("accounts_v2/clearSelected"),a.next=3,e.$store.dispatch("accounts_v2/setFiltersStatuses",t.map((function(t){return"undefined"!==typeof t.value?t.value:t})));case 3:localStorage.setItem("adsmanager-accounts-filters",JSON.stringify(e.filters)),e.$store.dispatch("accounts_v2/LOAD_ACCOUNTS");case 5:case"end":return a.stop()}}),a)})))()},filterTags:function(t){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){var s;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return t&&t.length>0&&e.$store.dispatch("accounts_v2/clearSelected"),s={filter:"tags",data:t},a.next=4,e.$store.dispatch("accounts_v2/setSpecificFilter",s);case 4:e.$store.dispatch("accounts_v2/LOAD_ACCOUNTS");case 5:case"end":return a.stop()}}),a)})))()}}}),ho=vo,bo=Object(f["a"])(ho,go,fo,!1,null,null,null),_o=bo.exports;h()(bo,{VBtn:b["a"],VCheckbox:V["a"],VCol:rt["a"],VCombobox:ae["a"],VIcon:k["a"],VNavigationDrawer:Ns["a"],VRow:lt["a"]});var yo=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticStyle:{float:"left"}},[a("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on;return[a("v-btn",t._g({staticStyle:{"min-width":"0",width:"30px","margin-top":"1px"},attrs:{small:"",disabled:0===t.accounts.selected.length,color:"primary",text:""},on:{click:function(e){return t.$store.dispatch("accounts_v2/openDialog","multipleAssignTags")}}},s),[a("v-icon",{attrs:{size:12}},[t._v(" fas fa-tags ")])],1)]}}])},[a("span",[t._v(t._s(t.$t("common.tags")))])])],1),t.$vuetify.breakpoint.xs||t.$vuetify.breakpoint.sm?t._e():a("div",{staticStyle:{float:"left"}},[a("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on;return[a("v-btn",t._g({staticStyle:{"min-width":"0",width:"30px","margin-top":"1px"},attrs:{small:"",disabled:0===t.accounts.selected.length,color:"primary",text:""},on:{click:function(e){return t.$store.dispatch("accounts_v2/openDialog","multipleShare")}}},s),[a("v-icon",{attrs:{size:12}},[t._v(" fas fa-share-alt ")])],1)]}}],null,!1,413531814)},[a("span",[t._v(t._s(t.$t("common.share")))])])],1),t.$vuetify.breakpoint.xs||t.$vuetify.breakpoint.sm?t._e():a("div",{staticStyle:{float:"left"}},[a("multiple-tokens-check")],1),a("div",{staticStyle:{float:"left"}},[a("v-menu",{attrs:{"offset-y":"","open-on-hover":!t.$vuetify.breakpoint.sm&&!t.$vuetify.breakpoint.xs,"close-on-click":"","close-on-content-click":!t.$vuetify.breakpoint.xs&&!t.$vuetify.breakpoint.sm,"content-class":"adsmanager-topbar-actions-menu"},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on;return[a("v-btn",t._g({staticStyle:{"min-width":"0",width:"30px","margin-top":"1px"},attrs:{disabled:0===t.accounts.selected.length,small:"",color:"primary",text:""}},s),[a("v-icon",{attrs:{size:12}},[t._v(" fas fa-ellipsis-v ")])],1)]}}])},[a("v-list",[t.$vuetify.breakpoint.xs||t.$vuetify.breakpoint.sm?a("v-list-item",{attrs:{dense:""},on:{click:function(e){return t.$store.dispatch("accounts_v2/openDialog","multipleShare")}}},[a("v-list-item-title",[t._v(t._s(t.$t("common.share")))])],1):t._e(),a("v-list-item",{attrs:{dense:""},on:{click:function(e){return t.$store.dispatch("accounts_v2/openDialog","initPersonalCab")}}},[a("v-list-item-title",[t._v(t._s(t.$t("adsmanager.accounts.initPersonalCab.actionText")))])],1),a("v-list-item",{attrs:{dense:""},on:{click:function(e){return t.$store.dispatch("accounts_v2/openDialog","acceptRules")}}},[a("v-list-item-title",[t._v(t._s(t.$t("common.acceptRules")))])],1),a("v-list-item",{attrs:{dense:""},on:{click:function(e){return t.$store.dispatch("accounts_v2/openDialog","changeProxy")}}},[a("v-list-item-title",[t._v(t._s(t.$t("proxy.changeProxy")))])],1),a("v-list-item",{attrs:{dense:""},on:{click:function(e){return t.$store.dispatch("accounts_v2/openDialog","adAccountsManagement")}}},[a("v-list-item-title",[t._v(t._s(t.$t("adsmanager.accounts.adAccountsManagement")))])],1),a("v-divider"),a("v-list-item",{attrs:{dense:""},on:{click:function(e){return t.$store.dispatch("accounts_v2/openDialog","createFanPage")}}},[a("v-list-item-title",[t._v(t._s(t.$t("common.createFanPage")))])],1),a("v-list-item",{attrs:{dense:""},on:{click:function(e){return t.$store.dispatch("accounts_v2/openDialog","createBm")}}},[a("v-list-item-title",[t._v(t._s(t.$t("common.createBm")))])],1),a("v-list-item",{attrs:{dense:""},on:{click:function(e){return t.$store.dispatch("accounts_v2/openDialog","shareFanPage")}}},[a("v-list-item-title",[t._v(t._s(t.$t("adsmanager.accounts.shareFanPage")))])],1),a("v-list-item",{attrs:{dense:""},on:{click:function(e){return t.$store.dispatch("accounts_v2/openDialog","pageAppeal")}}},[a("v-list-item-title",[t._v(t._s(t.$t("adsmanager.accounts.pageAppeal")))])],1),a("v-list-item",{attrs:{dense:""},on:{click:function(e){return t.$store.dispatch("accounts_v2/openDialog","turnOffPageNotifications")}}},[a("v-list-item-title",[t._v(t._s(t.$t("adsmanager.accounts.turnOffPageNotifications")))])],1),a("v-divider"),a("v-list-item",{attrs:{dense:""},on:{click:function(e){return t.$store.dispatch("accounts_v2/openDialog","moveAccountsToAnotherUser")}}},[a("v-list-item-title",[t._v(t._s(t.$t("adsmanager.accounts.moveAccountsToAnotherUser")))])],1),a("accounts-dialog-archive"),a("v-list-item",{attrs:{dense:""},on:{click:t.unarchive}},[a("v-list-item-title",[t._v(t._s(t.$t("common.unarchive")))])],1),a("multiple-delete"),a("action-export"),t.$vuetify.breakpoint.xs||t.$vuetify.breakpoint.sm?a("v-list-item",{attrs:{dense:""},on:{click:function(e){t.$store.dispatch("accounts_v2/openDialog","add"),t.$store.dispatch("accounts_v2/clearImportDialog")}}},[a("v-list-item-title",[t._v(" "+t._s(t.$t("common.add"))+" "+t._s(t.$t("common.account"))+" ")])],1):t._e(),t.$vuetify.breakpoint.xs||t.$vuetify.breakpoint.sm?a("v-list-item",{attrs:{dense:""}},[a("v-list-item-title",[a("multiple-tokens-check")],1)],1):t._e()],1)],1)],1),a("div",{staticStyle:{float:"left"}},[a("div",{staticClass:"body-2 ml-1",style:{color:t.accounts.selected.length>0?"":"gray",paddingTop:"5px",fontSize:t.$vuetify.breakpoint.xs?"12px !important":""}},[t._v(" "+t._s(t.$t("common.selected"))+": "+t._s(t.accounts.selected.length)+" ")])])])},xo=[],ko=a("0895"),wo=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-list-item",{attrs:{dense:""},on:{click:t.archive}},[a("v-list-item-title",[t._v(t._s(t.$t("common.archive")))])],1)},$o=[],Co={name:"AccountsDialogArchive",computed:Object(i["a"])({},Object(p["c"])({accounts:"accounts_v2/accounts"})),methods:{archive:function(){if(confirm(this.$t("common.confirmPlease"))){var t={ids:this.accounts.selected.map((function(t){return t.id}))};this.$store.dispatch("accounts_v2/archive",t)}}}},Ao=Co,To=Object(f["a"])(Ao,wo,$o,!1,null,null,null),Do=To.exports;h()(To,{VListItem:Mt["a"],VListItemTitle:Bt["c"]});var So=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-list-item",{attrs:{dense:""},on:{click:t.multipleDelete}},[a("v-list-item-title",[t._v(t._s(t.$t("common.delete")))])],1)},Oo=[],Po={name:"AccountsMultipleDelete",computed:Object(i["a"])({},Object(p["c"])({accounts:"accounts_v2/ACCOUNTS"})),methods:{multipleDelete:function(){this.$store.dispatch("accounts_v2/openDialog","approveDeletion")}}},Vo=Po,jo=Object(f["a"])(Vo,So,Oo,!1,null,null,null),Io=jo.exports;h()(jo,{VListItem:Mt["a"],VListItemTitle:Bt["c"]});var Lo=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-dialog",{attrs:{"hide-overlay":"",persistent:"",width:"300"},model:{value:t.checkTokenLoading.loading,callback:function(e){t.$set(t.checkTokenLoading,"loading",e)},expression:"checkTokenLoading.loading"}},[a("v-card",{staticClass:"pr-4",attrs:{color:"primary"}},[a("v-card-text",[a("div",{staticStyle:{display:"flex","justify-content":"space-between","align-items":"center","min-height":"40px",color:"white"}},[a("div",[t._v(" "+t._s(t.$t("dialogs.accounts.multipleTokensCheck.title"))+" ")]),a("div",[t._v(" "+t._s(t.checkTokenLoading.done)+" / "+t._s(t.checkTokenLoading.accounts.length)+" ")])]),a("v-progress-linear",{staticClass:"mb-0",attrs:{indeterminate:"",color:"white"}}),a("v-btn",{staticStyle:{position:"absolute",right:"2px",top:"2px"},attrs:{icon:"",small:""},on:{click:function(e){return t.$store.dispatch("accounts_v2/setLoadingOptions",{dialog:"checkTokenLoading",option:"stopRequest",value:!0})}}},[a("v-icon",{attrs:{size:14,color:"white"}},[t._v(" fas fa-times-circle ")])],1)],1)],1)],1),t.$vuetify.breakpoint.xs||t.$vuetify.breakpoint.sm?t._e():a("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on;return[a("v-btn",t._g({staticStyle:{"min-width":"0",width:"30px","margin-top":"1px"},attrs:{small:"",disabled:0===t.accounts.selected.length,color:"primary",text:""},on:{click:t.multipleCheckTokens}},s),[a("v-icon",{attrs:{size:12}},[t._v(" fas fa-code ")])],1)]}}],null,!1,67478116)},[a("span",[t._v(t._s(t.$t("common.checkTokens")))])]),t.$vuetify.breakpoint.xs||t.$vuetify.breakpoint.sm?a("v-btn",{attrs:{color:"primary",text:"",block:"",small:""},on:{click:t.multipleCheckTokens}},[t._v(" "+t._s(t.$t("dialogs.accounts.multipleTokensCheck.title"))+" ")]):t._e()],1)},Ro=[],Fo={name:"AccountsMultipleTokensCheck",computed:Object(i["a"])({},Object(p["c"])({accounts:"accounts_v2/ACCOUNTS",checkTokenLoading:"accounts_v2/checkTokenLoading"})),watch:{"checkTokenLoading.stopRequest":{handler:function(){if(this.checkTokenLoading.stopRequest){var t,e=Object(l["a"])(this.checkTokenLoading.source);try{for(e.s();!(t=e.n()).done;){var a=t.value;a.cancel()}}catch(s){e.e(s)}finally{e.f()}this.$store.dispatch("accounts_v2/setLoadingOptions",{dialog:"checkTokenLoading",option:"showLoading",value:!1})}}}},methods:{multipleCheckTokens:function(){var t=this;this.checkTokenLoading.requestStatus||confirm(this.$t("common.confirmPlease"))&&(this.$store.dispatch("accounts_v2/setLoadingOptions",{dialog:"checkTokenLoading",option:"requestStatus",value:!0}),this.$store.dispatch("accounts_v2/setLoadingOptions",{dialog:"checkTokenLoading",option:"stopRequest",value:!1}),this.$store.dispatch("accounts_v2/setLoadingOptions",{dialog:"checkTokenLoading",option:"loading",value:!0}),this.accounts.selected&&this.accounts.selected.length>0&&(this.$store.dispatch("accounts_v2/setLoadingOptions",{dialog:"checkTokenLoading",option:"accounts",value:this.accounts.selected}),this.checkTokenLoading.accounts.forEach((function(e,a){var s=d.a.CancelToken,n={dialog:"checkTokenLoading",index:a,source:s.source()};t.$store.dispatch("accounts_v2/setLoadingSource",n),t.api("/accounts/check_token/".concat(e.id),{cancelToken:t.checkTokenLoading.source[a].token}).catch((function(){return!0})).then((function(e){console.log(JSON.stringify(e.data)),t.$store.dispatch("accounts_v2/setLoadingOptions",{dialog:"checkTokenLoading",option:"done",value:t.checkTokenLoading.done+1}),t.checkTokenLoading.done===t.checkTokenLoading.accounts.length&&(t.$store.dispatch("accounts_v2/setLoadingOptions",{dialog:"checkTokenLoading",option:"done",value:0}),t.$store.dispatch("accounts_v2/setLoadingOptions",{dialog:"checkTokenLoading",option:"requestStatus",value:!1}),t.$store.dispatch("accounts_v2/setLoadingOptions",{dialog:"checkTokenLoading",option:"loading",value:!1}),t.$store.dispatch("accounts_v2/LOAD_ACCOUNTS"))}))}))))}}},No=Fo,Eo=(a("b741"),Object(f["a"])(No,Lo,Ro,!1,null,"7739afb3",null)),zo=Eo.exports;h()(Eo,{VBtn:b["a"],VCard:_["a"],VCardText:y["b"],VDialog:x["a"],VIcon:k["a"],VProgressLinear:w["a"],VTooltip:ta["a"]});var Mo={name:"AccountsTopbarActions",components:{AccountsDialogArchive:Do,MultipleTokensCheck:zo,MultipleDelete:Io,ActionExport:ko["a"]},computed:Object(i["a"])({},Object(p["c"])({accounts:"accounts_v2/ACCOUNTS",profile:"main/profile"})),methods:{unarchive:function(){this.$store.dispatch("accounts_v2/openDialog","unarchive")}}},Bo=Mo,Uo=a("8860"),qo=a("e449"),Yo=Object(f["a"])(Bo,yo,xo,!1,null,null,null),Ho=Yo.exports;h()(Yo,{VBtn:b["a"],VDivider:I["a"],VIcon:k["a"],VList:Uo["a"],VListItem:Mt["a"],VListItemTitle:Bt["c"],VMenu:qo["a"],VTooltip:ta["a"]});var Wo={name:"AccountsTopbar",components:{CurrencySelector:Xn,Refresh:Zn["a"],FiltersBar:_o,FiltersDate:mo,TopbarActions:Ho,TopbarCols:eo["a"]},data:function(){return{nameSearchText:"",accountsStatuses:to["a"],showFilters:!1}},computed:Object(i["a"])(Object(i["a"])({},Object(p["c"])({accounts:"accounts_v2/ACCOUNTS",filters:"accounts_v2/FILTERS",tags:"tags/tags"})),{},{activeFiltersCount:function(){var t=0;return this.filters?("undefined"!==typeof this.filters.statuses&&this.filters.statuses&&this.filters.statuses.length>0&&t++,"undefined"!==typeof this.filters.tags&&this.filters.tags&&this.filters.tags.length>0&&t++,"undefined"!==typeof this.filters.showArchived&&this.filters.showArchived&&t++,"undefined"!==typeof this.filters.withSpend&&this.filters.withSpend&&t++,t):0}}),methods:{filterName:function(t){var e=this;localStorage.setItem("adsmanager-accounts-filters",JSON.stringify(this.filters)),this.$store.dispatch("accounts_v2/LOAD_ACCOUNTS"),this.nameSearchText=t,setTimeout(Object(o["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(t!==e.nameSearchText){a.next=3;break}return a.next=3,e.$store.dispatch("accounts_v2/setFiltersName",t);case 3:case"end":return a.stop()}}),a)}))),500)}}},Jo=Wo,Go=Object(f["a"])(Jo,qn,Yn,!1,null,"2580e9a2",null),Ko=Go.exports;h()(Go,{VBtn:b["a"],VCol:rt["a"],VIcon:k["a"],VRow:lt["a"],VTextField:dt["a"],VTooltip:ta["a"]});var Qo={name:"Accounts",components:{DialogAcceptRules:C,DialogChangeProxy:mt,DialogCreateBm:kt,DialogCreateFanPage:Rt,DialogInitPersonalCab:Yt,DialogMainInfo:Qt,DialogMoveAccountsToAnotherUser:ne,DialogNoFacebookIdInfo:ue,DialogUnarchive:Le,DialogApproveDeletion:tt,Topbar:Ko,MainTable:vs,AssignTagsDialog:Me,ShareDialog:Hs,SingleAddDialog:Un,EditDialog:ia,MultipleShareDialog:Vs,MultipleAssignTagsDialog:As,PermissionsSidebar:zs,DialogShareFanPage:we,DialogAdditionalTokensInfo:Y,DialogAdAccountsManagement:E,DialogPageAppeal:ve,DialogTurnOffPageNotifications:Se},data:function(){return{updateStatInterval:0,scrollSetted:!1,table:null,scrollPosition:0}},computed:Object(i["a"])({},Object(p["c"])({dialogs:"accounts_v2/dialogs",globalFilters:"adsmanager/filters",accounts:"accounts_v2/accounts"})),watch:{globalFilters:{deep:!0,handler:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$store.dispatch("accounts_v2/filterAccounts");case 2:case"end":return e.stop()}}),e)})))()}},"accounts.filtered":{deep:!0,handler:function(){this.table=document.querySelector(".stat-table-accounts .v-data-table__wrapper"),this.table&&this.table.scrollHeight>this.table.clientHeight&&!this.scrollSetted&&(localStorage.getItem("adsmanager-accounts-table-scroll-position")&&(this.table.scrollTop=parseInt(localStorage.getItem("adsmanager-accounts-table-scroll-position"))),this.table.addEventListener("scroll",this.tableScrollHandler),this.scrollSetted=!0)}}},created:function(){var t=this;this.$store.dispatch("accounts_v2/LOAD_ACCOUNTS"),this.$store.dispatch("users/loadUsers"),this.updateStatInterval=setInterval((function(){t.$store.dispatch("accounts_v2/LOAD_ACCOUNTS"),t.$store.dispatch("users/loadUsers")}),6e4)},mounted:function(){this.$store.dispatch("accounts_v2/filterAccounts")},beforeDestroy:function(){clearInterval(this.updateStatInterval)},methods:{tableScrollHandler:function(t){var e=this;t&&t.target&&(this.scrollPosition=t.target.scrollTop,setTimeout((function(){t&&t.target&&t.target.scrollTop===e.scrollPosition&&localStorage.setItem("adsmanager-accounts-table-scroll-position",t.target.scrollTop)}),1e3))}}},Xo=Qo,Zo=Object(f["a"])(Xo,s,n,!1,null,null,null);e["default"]=Zo.exports},beb9:function(t,e,a){"use strict";a("457d")},c857:function(t,e,a){"use strict";t.exports=function(t){return"object"===typeof t&&null!==t}},ce35:function(t,e,a){"use strict";t.exports=9007199254740991},d1a8:function(t,e,a){},d25b:function(t,e,a){"use strict";var s=a("5bc1"),n=a("6274"),o=s.fixme;t.exports=function(t){return t?t.inspected||(t.min=o(t.min,0,n,!0),t.max=o(t.max,0,n,!1)):t={min:0,max:n},t.inspected=!0,s(t)}},dc95:function(t,e,a){},de4d:function(t,e,a){"use strict";var s=a("14bd"),n=a("fec5"),o=a("c857"),i=a("8362");t.exports=function(t){if("string"===typeof t)return t;if(s(t))return"";if(n(t))return Symbol.prototype.toString.call(t);if(o(t)&&i(t.toString))return t.toString();var e=""+t;return"0"===e&&1/t===-1/0?"-0":e}},e58a:function(t,e,a){"use strict";a("2379")},e8ee:function(t,e,a){},eb94:function(t,e,a){"use strict";t.exports=function(t){if(null==t)return!1;var e=Object(t);return e===e.window}},fd15:function(t,e,a){"use strict";var s=a("1945"),n=a("6d47");t.exports=function(){return n(s)}},fec5:function(t,e,a){"use strict";var s=Object.prototype.toString,n=a("5156")();if(n){var o=Symbol.prototype.toString,i=/^Symbol\(.*\)$/,c=function(t){return"symbol"===typeof t.valueOf()&&i.test(o.call(t))};t.exports=function(t){if("symbol"===typeof t)return!0;if("[object Symbol]"!==s.call(t))return!1;try{return c(t)}catch(e){return!1}}}else t.exports=function(t){return!1}}}]);
//# sourceMappingURL=chunk-0f0e84e6-legacy.bea00bef.js.map