(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["news"],{"05ea":function(t,e,n){},"657d":function(t,e,n){"use strict";n("05ea")},"7b3d":function(t,e,n){},"7d4d":function(t,e,n){"use strict";n.r(e);var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-row",[n("v-col",{staticClass:"pa-4",attrs:{cols:"12",md:"6","offset-md":"3"}},[n("v-card",[n("v-card-text",[n("v-text-field",{staticClass:"anty-token-textfield",attrs:{value:t.antyToken,label:t.$t("browserExtension.token"),outlined:"",dense:"","hide-details":""},on:{click:function(e){return t.selectInput(e)}},scopedSlots:t._u([{key:"append",fn:function(){return[n("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var o=e.on;return[n("v-btn",t._g({attrs:{icon:"","x-small":""},on:{click:function(e){return t.copyToClipboard(t.antyToken)}}},o),[n("v-icon",[t._v("content_copy")])],1)]}}])},[n("span",[t._v(t._s(t.$t("common.copy")))])])]},proxy:!0}])})],1)],1)],1)],1)},s=[],a=n("f168"),i=n("a78e"),c=n.n(i),l={name:"Anty",mixins:[a["a"]],computed:{antyToken(){const t={url:location.protocol+"//"+location.hostname+"/new",authorization:`${c.a.get("user_id")}-${c.a.get("hash")}`};return btoa(JSON.stringify(t))}},methods:{selectInput(t){t.path[0].select()}}},r=l,d=(n("c898"),n("2877")),u=n("6544"),p=n.n(u),f=n("8336"),m=n("b0af"),h=n("99d9"),v=n("62ad"),w=n("132d"),k=n("0fd9"),b=n("8654"),_=n("3a2f"),y=Object(d["a"])(r,o,s,!1,null,null,null);e["default"]=y.exports;p()(y,{VBtn:f["a"],VCard:m["a"],VCardText:h["b"],VCol:v["a"],VIcon:w["a"],VRow:k["a"],VTextField:b["a"],VTooltip:_["a"]})},a2f9:function(t,e,n){"use strict";n.r(e);var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("v-row",{staticClass:"mb-7"},[t._l(t.news.data,(function(e,o){return n("v-col",{key:"news-"+e.id,staticClass:"my-1 col-12 col-sm-6 offset-sm-3"},[n("v-card",{staticClass:"mx-2 elevation-3"},[n("v-card-title",{staticClass:"d-flex justify-space-between"},[n("div",{domProps:{innerHTML:t._s(t.newsTitle(e.title))}}),n("div",{staticStyle:{color:"#9E9E9E","font-size":"12px"}},[n("v-icon",{staticStyle:{"font-size":"12px"}},[t._v(" far fa-clock ")]),t._v(" "+t._s(e.time)+" ")],1)]),n("v-card-text",{domProps:{innerHTML:t._s(t.newsMessage(e.message))}}),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{color:!1===e.liked?"grey":"pink",icon:""},on:{click:function(n){return t.setLike(e,o)}}},[n("v-icon",[t._v(" "+t._s(!1===e.liked?"far fa-heart":"fas fa-heart")+" ")])],1),n("span",{style:!1===e.liked?"color: #9E9E9E;":"color: #E91E63;"},[t._v(" "+t._s(e.likes&&e.likes>0?e.likes:"")+" ")])],1)],1)],1)})),null!==!t.news.next?n("v-col",{staticStyle:{"text-align":"center"},attrs:{cols:"12"}},[n("v-btn",{attrs:{color:"primary"},on:{click:function(e){return t.loadMore(t.news.next)}}},[t._v(" "+t._s(t.$t("common.loadMore"))+" ")])],1):t._e()],2)],1)},s=[],a=n("2f62"),i={name:"News",computed:{...Object(a["c"])({profile:"main/profile",news:"news/news"})},async created(){await this.$store.dispatch("main/loadProfile");let t={language:this.profile.language,lic:this.profile.lic,id:this.profile.id};await this.$store.dispatch("news/loadNews",t)},methods:{newsTitle(t){return decodeURIComponent(atob(t).split("").map((function(t){return"%"+("00"+t.charCodeAt(0).toString(16)).slice(-2)})).join(""))},newsMessage(t){return decodeURIComponent(atob(t).split("").map((function(t){return"%"+("00"+t.charCodeAt(0).toString(16)).slice(-2)})).join(""))},setLike(t,e){!1===t.liked&&(this.$set(this.news.data[e],"liked",!0),this.$set(this.news.data[e],"likes",t.likes+1),this.api.get(`https://panel.dolphin.ru.com/?c=news&m=like&lic=${this.profile.lic}&dolphin_user_id=${this.profile.id}&news_id=${t.id}`))},async loadMore(t){await this.$store.dispatch("news/loadMore",t)}}},c=i,l=(n("657d"),n("2877")),r=n("6544"),d=n.n(r),u=n("8336"),p=n("b0af"),f=n("99d9"),m=n("62ad"),h=n("132d"),v=n("0fd9"),w=n("2fa4"),k=Object(l["a"])(c,o,s,!1,null,null,null);e["default"]=k.exports;d()(k,{VBtn:u["a"],VCard:p["a"],VCardActions:f["a"],VCardText:f["b"],VCardTitle:f["c"],VCol:m["a"],VIcon:h["a"],VRow:v["a"],VSpacer:w["a"]})},c898:function(t,e,n){"use strict";n("7b3d")},f168:function(t,e,n){"use strict";e["a"]={methods:{clipboard(t){this.$clipboard(t),this.$message.success("Скопировано",1)},copyToClipboard(t){const e=document.createElement("textarea");e.addEventListener("focusin",t=>t.stopPropagation()),e.value=t,document.body.appendChild(e),e.select(),document.execCommand("copy"),document.body.removeChild(e),this.$store.dispatch("main/alert",{color:"success",message:this.$t("common.copied")})}}}}}]);
//# sourceMappingURL=news.7b07ed68.js.map