(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["autorules"],{1451:function(e,t,a){"use strict";t["a"]=["AED","AFN","ALL","AMD","ANG","AOA","ARS","AUD","AWG","AZN","BAM","BBD","BDT","BGN","BHD","BIF","BMD","BND","BOB","BRL","BSD","BTC","BTN","BWP","BYN","BZD","CAD","CDF","CHF","CLF","CLP","CNH","CNY","COP","CRC","CUC","CUP","CVE","CZK","DJF","DKK","DOP","DZD","EGP","ERN","ETB","EUR","FJD","FKP","GBP","GEL","GGP","GHS","GIP","GMD","GNF","GTQ","GYD","HKD","HNL","HRK","HTG","HUF","IDR","ILS","IMP","INR","IQD","IRR","ISK","JEP","JMD","JOD","JPY","KES","KGS","KHR","KMF","KPW","KRW","KWD","KYD","KZT","LAK","LBP","LKR","LRD","LSL","LYD","MAD","MDL","MGA","MKD","MMK","MNT","MOP","MRO","MRU","MUR","MVR","MWK","MXN","MYR","MZN","NAD","NGN","NIO","NOK","NPR","NZD","OMR","PAB","PEN","PGK","PHP","PKR","PLN","PYG","QAR","RON","RSD","RUB","RWF","SAR","SBD","SCR","SDG","SEK","SGD","SHP","SLL","SOS","SRD","SSP","STD","STN","SVC","SYP","SZL","THB","TJS","TMT","TND","TOP","TRY","TTD","TWD","TZS","UAH","UGX","USD","UYU","UZS","VEF","VES","VND","VUV","WST","XAF","XAG","XAU","XCD","XDR","XOF","XPD","XPF","XPT","YER","ZAR","ZMW","ZWL"]},"1abd":function(e,t,a){},"2b5d":function(e,t,a){"use strict";a("2bfd");var s=a("b974"),i=a("c6a6"),o=a("80d2");t["a"]=i["a"].extend({name:"v-combobox",props:{delimiters:{type:Array,default:()=>[]},returnObject:{type:Boolean,default:!0}},data:()=>({editingIndex:-1}),computed:{computedCounterValue(){return this.multiple?this.selectedItems.length:(this.internalSearch||"").toString().length},hasSlot(){return s["a"].options.computed.hasSlot.call(this)||this.multiple},isAnyValueAllowed(){return!0},menuCanShow(){return!!this.isFocused&&(this.hasDisplayedItems||!!this.$slots["no-data"]&&!this.hideNoData)}},methods:{onInternalSearchChanged(e){if(e&&this.multiple&&this.delimiters.length){const t=this.delimiters.find(t=>e.endsWith(t));null!=t&&(this.internalSearch=e.slice(0,e.length-t.length),this.updateTags())}this.updateMenuDimensions()},genInput(){const e=i["a"].options.methods.genInput.call(this);return delete e.data.attrs.name,e.data.on.paste=this.onPaste,e},genChipSelection(e,t){const a=s["a"].options.methods.genChipSelection.call(this,e,t);return this.multiple&&(a.componentOptions.listeners={...a.componentOptions.listeners,dblclick:()=>{this.editingIndex=t,this.internalSearch=this.getText(e),this.selectedIndex=-1}}),a},onChipInput(e){s["a"].options.methods.onChipInput.call(this,e),this.editingIndex=-1},onEnterDown(e){e.preventDefault(),this.getMenuIndex()>-1||this.$nextTick(this.updateSelf)},onFilteredItemsChanged(e,t){this.autoSelectFirst&&i["a"].options.methods.onFilteredItemsChanged.call(this,e,t)},onKeyDown(e){const t=e.keyCode;s["a"].options.methods.onKeyDown.call(this,e),this.multiple&&t===o["w"].left&&0===this.$refs.input.selectionStart?this.updateSelf():t===o["w"].enter&&this.onEnterDown(e),this.changeSelectedIndex(t)},onTabDown(e){if(this.multiple&&this.internalSearch&&-1===this.getMenuIndex())return e.preventDefault(),e.stopPropagation(),this.updateTags();i["a"].options.methods.onTabDown.call(this,e)},selectItem(e){this.editingIndex>-1?this.updateEditing():i["a"].options.methods.selectItem.call(this,e)},setSelectedItems(){null==this.internalValue||""===this.internalValue?this.selectedItems=[]:this.selectedItems=this.multiple?this.internalValue:[this.internalValue]},setValue(e){s["a"].options.methods.setValue.call(this,null!=e?e:this.internalSearch)},updateEditing(){const e=this.internalValue.slice();e[this.editingIndex]=this.internalSearch,this.setValue(e),this.editingIndex=-1},updateCombobox(){const e=Boolean(this.$scopedSlots.selection)||this.hasChips;e&&!this.searchIsDirty||(this.internalSearch!==this.getText(this.internalValue)&&this.setValue(),e&&(this.internalSearch=void 0))},updateSelf(){this.multiple?this.updateTags():this.updateCombobox()},updateTags(){const e=this.getMenuIndex();if(e<0&&!this.searchIsDirty)return;if(this.editingIndex>-1)return this.updateEditing();const t=this.selectedItems.indexOf(this.internalSearch);if(t>-1){const e=this.internalValue.slice();e.splice(t,1),this.setValue(e)}if(e>-1)return this.internalSearch=null;this.selectItem(this.internalSearch),this.internalSearch=null},onPaste(e){if(!this.multiple||this.searchIsDirty)return;const t=e.clipboardData.getData("text/vnd.vuetify.autocomplete.item+plain");t&&-1===this.findExistingIndex(t)&&(e.preventDefault(),s["a"].options.methods.selectItem.call(this,t))}}})},4367:function(e,t,a){"use strict";t["a"]={methods:{customSorts(e,t,a,s,i,o){let l=t[0];"undefined"===typeof l?l="none":"ad"===l&&(l="name");const r=a[0]?"asc":"desc";return localStorage.getItem(s)===l&&localStorage.getItem(i)===r||(localStorage.setItem(s,l),localStorage.setItem(i,r),this.$store.dispatch(o,{key:l,value:r})),e},customSortsAds(e,t,a){return this.customSorts(e,t,a,"sort-ads-key","sort-ads-value","ads/sortAds")},customSortsAdsets(e,t,a){return this.customSorts(e,t,a,"sort-adsets-key","sort-adsets-value","adsets/sortAdsets")},customSortsCampaigns(e,t,a){return this.customSorts(e,t,a,"sort-campaigns-key","sort-campaigns-value","campaigns/sortCampaigns")},customSortsAccounts(e,t,a){return this.customSorts(e,t,a,"sort-accounts-key","sort-accounts-value","accounts/sortAccounts")},customSortsBms(e,t,a){return this.customSorts(e,t,a,"sort-bms-key","sort-bms-value","bms/sortBms")},customSortsAdAccounts(e,t,a){return this.customSorts(e,t,a,"sort-cabs-key","sort-cabs-value","cabs/sortCabs")},customSortsTiktokAccounts(e,t,a){return this.customSorts(e,t,a,"sort-accounts-key","sort-accounts-value","tiktokAdsmanagerAccounts/sortAccounts")},customSortsTiktokAdAccounts(e,t,a){return this.customSorts(e,t,a,"sort-ad_accounts-key","sort-ad_accounts-value","tiktokAdsmanagerAdAccounts/sortAdAccounts")},customSortsTiktokCampaigns(e,t,a){return this.customSorts(e,t,a,"sort-campaigns-key","sort-campaigns-value","tiktokAdsmanagerCampaigns/sortCampaigns")},customSortsTiktokAdsets(e,t,a){return this.customSorts(e,t,a,"sort-adsets-key","sort-adsets-value","tiktokAdsmanagerAdsets/sortAdsets")},customSortsTiktokAds(e,t,a){return this.customSorts(e,t,a,"sort-ad-key","sort-ad-value","tiktokAdsmanagerAds/sortAds")},customSortsUsers(e,t,a){return this.customSorts(e,t,a,"sort-users-key","sort-users-value","users/sortUsers")},customSortsRules(e,t,a){return this.customSorts(e,t,a,"sort-rules-key","sort-rules-value","rules/sortRules")},customSortsProxies(e,t,a){return this.customSorts(e,t,a,"sort-proxies-key","sort-proxies-value","proxy/sortProxies")}}}},de5a:function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("tabs"),a("div",[a(e.componentName,{tag:"component"})],1)],1)},i=[],o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-tabs",{attrs:{centered:"",grow:"",value:e.tabNumber,height:32}},[a("v-tab",{key:"tab-rules",attrs:{value:0},on:{click:function(t){return e.selectTab("rules")}}},[e._v(" "+e._s(e.$t("autoRules.tabs.facebookRules"))+" ")]),a("v-tab",{key:"tab-groups",attrs:{value:1},on:{click:function(t){return e.selectTab("groups")}}},[e._v(" "+e._s(e.$t("autoRules.tabs.rulesGroups"))+" ")]),a("v-tab",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],key:"tab-roi",on:{click:function(t){return e.selectTab("roi")}}},[e._v(" "+e._s(e.$t("autoRules.tabs.roiBasedRules"))+" ")])],1)},l=[],r=a("2f62"),n={name:"AutoRulesTabs",data:()=>({tabs:["rules","groups","roi"]}),computed:{...Object(r["c"])({activeTab:"autorules/activeTab"}),tabNumber(){return"undefined"===typeof this.$route.params.tab||"rules"===this.$route.params.tab?0:"groups"===this.$route.params.tab?1:"roi"===this.$route.params.tab?2:0}},methods:{changeTab(e){this.$store.dispatch("autorules/setActiveTab",{tab:e,component:this.tabs[e]})},selectTab(e){return this.$route.params.tab===e||this.$router.push({path:"/fbrules/"+e,params:{tab:e}})}}},c=n,u=a("2877"),d=a("6544"),p=a.n(d),m=a("71a3"),_=a("fe57"),h=Object(u["a"])(c,o,l,!1,null,null,null),v=h.exports;p()(h,{VTab:m["a"],VTabs:_["a"]});var f=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticStyle:{padding:"8px"}},[e.dialogs.rulesGroupDialog?a("rules-group-dialog"):e._e(),e.dialogs.share?a("dialog-share"):e._e(),a("topbar"),a("main-table")],1)},g=[],b=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-dialog",{attrs:{value:e.dialogs.share,"max-width":"500px",scrollable:""},on:{"click:outside":e.close,keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"])?null:e.close(t)}}},[a("v-card",{attrs:{loading:e.loading.share}},[a("v-card-title",{staticClass:"pb-0"},[a("span",{staticClass:"headline"},[e._v(" "+e._s(e.$t("common.share"))+" ")])]),a("v-card-text",{staticStyle:{"max-height":"700px"}},[a("v-row",[a("v-col",{attrs:{cols:12}},[a("div",[a("v-btn",{staticClass:"my-1",staticStyle:{"margin-left":"0px"},attrs:{color:"primary","x-small":"",outlined:""},on:{click:e.selectAll}},[e._v(" "+e._s(e.$t("common.selectAll"))+" ")]),a("v-btn",{staticClass:"my-1 ml-1",staticStyle:{"margin-left":"0px"},attrs:{color:"primary","x-small":"",outlined:""},on:{click:e.unselectAll}},[e._v(" "+e._s(e.$t("common.unselectAll"))+" ")])],1),a("v-treeview",{attrs:{selectable:"",dense:"","open-on-click":"","selected-color":"primary",items:e.items},scopedSlots:e._u([{key:"prepend",fn:function(t){var s=t.item;return[-1!==s.id.search("user")?a("v-icon",{staticClass:"d-block text-center",attrs:{size:"16"}},[e._v(" fas fa-user ")]):e._e(),-1!==s.id.search("view")?a("v-icon",{staticClass:"d-block text-center",attrs:{size:"16"}},[e._v(" fas fa-eye ")]):e._e(),-1!==s.id.search("edit")?a("v-icon",{staticClass:"d-block text-center",attrs:{size:"16"}},[e._v(" fas fa-edit ")]):e._e(),-1!==s.id.search("share")?a("v-icon",{staticClass:"d-block text-center",attrs:{size:"16"}},[e._v(" fas fa-share-alt ")]):e._e()]}}]),model:{value:e.permissions,callback:function(t){e.permissions=t},expression:"permissions"}}),a("div",[a("v-radio-group",{staticClass:"mt-3",staticStyle:{"margin-top":"0px"},attrs:{row:"",dense:"","hide-details":""},model:{value:e.mode,callback:function(t){e.mode=t},expression:"mode"}},[a("v-radio",{attrs:{label:e.$t("dialogs.accounts.multipeShare.addPermissions"),value:1}}),a("v-radio",{attrs:{label:e.$t("dialogs.accounts.multipeShare.removePermissions"),value:-1}})],1)],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.close}},[e._v(" "+e._s(e.$t("common.close"))+" ")]),a("v-btn",{attrs:{color:"blue darken-1",text:"",loading:e.loading.share,disabled:e.$_.isEmpty(e.permissions)},on:{click:e.savePermissions}},[e._v(" "+e._s(e.$t("common.save"))+" ")])],1)],1)],1)},x=[],y={name:"GroupsDialogShare",data(){return{permissions:[],mode:1,allItems:[],users:[]}},computed:{...Object(r["c"])({profile:"main/profile",groups:"groups/groups",dialogs:"groups/dialogs",loading:"groups/loading"}),items(){let e=[];return this.users.forEach(t=>{if(t.id===this.profile.id)return;const a={id:"user-"+t.id,name:null!==t.display_name?t.display_name:t.login};a.children=[{id:t.id+"-view",name:this.$t("dialogs.accounts.share.permissions.view")},{id:t.id+"-edit",name:this.$t("common.edit")},{id:t.id+"-share",name:this.$t("dialogs.accounts.share.permissions.share")}],this.allItems=this.allItems.concat(a.children.map(e=>e.id)),e.push(a)}),e}},created(){this.loadUsers()},methods:{close(){(0===this.permissions.length&&-1!==this.mode||(this.confirmation=confirm(this.$t("common.closeDialogConfirmation")),this.confirmation))&&this.$store.dispatch("groups/closeDialog","share")},async loadUsers(){try{const e=await this.api("/users/all");e&&e.data&&e.data.data&&(this.users=e.data.data.filter(e=>1===parseInt(e.status)))}catch(e){console.error(e),this.$store.dispatch("main/alert",{color:"error",message:this.$t("common.somethingWentWrong")})}},async savePermissions(){await this.$store.dispatch("groups/setLoading",{param:"share",value:!0});try{const e={ids:this.groups.selected.map(e=>e.id),permissions:this.permissions,mode:this.mode},t=await this.api.post("/fb_rules/update_groups_permissions",e);if(!(t&&t.data&&t.data.success))throw t;this.$store.dispatch("groups/closeDialog","share"),this.$store.dispatch("main/alert",{color:"success",message:this.$t("common.success")})}catch(e){console.error(e),this.$store.dispatch("main/alert",{color:"error",message:this.$t("common.somethingWentWrong")})}this.$store.dispatch("groups/setLoading",{param:"share",value:!1})},selectAll(){this.permissions=[],this.permissions=this.permissions.concat(this.allItems)},unselectAll(){this.permissions=[]}}},R=y,$=a("8336"),S=a("b0af"),w=a("99d9"),C=a("62ad"),D=a("169a"),k=a("132d"),T=a("67b6"),M=a("43a6"),A=a("0fd9"),V=a("2fa4"),O=a("eb2a"),P=Object(u["a"])(R,b,x,!1,null,null,null),E=P.exports;p()(P,{VBtn:$["a"],VCard:S["a"],VCardActions:w["a"],VCardText:w["b"],VCardTitle:w["c"],VCol:C["a"],VDialog:D["a"],VIcon:k["a"],VRadio:T["a"],VRadioGroup:M["a"],VRow:A["a"],VSpacer:V["a"],VTreeview:O["a"]});var G=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-card",[a("v-card-text",{staticStyle:{padding:"0px 8px 0px 8px"}},[a("v-data-table",{attrs:{value:e.groups.selected,headers:e.cols,items:e.groups.filtered,"loading-text":e.$t("common.loading"),"fixed-header":"","items-per-page":50,"footer-props":{"items-per-page-options":[10,30,50,100,-1]},height:e.innerHeight-50-48-36,"show-select":""},on:{input:e.selectItem},scopedSlots:e._u([{key:"item.name",fn:function(e){var t=e.item;return[a("main-table-name",{attrs:{item:t}})]}},{key:"item.rules",fn:function(e){var t=e.item;return[a("main-table-rules",{attrs:{item:t}})]}}])})],1)],1)],1)},I=[],N=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("span",{staticStyle:{cursor:"pointer",color:"#2196F3","text-decoration":"underline"},on:{click:function(t){return e.editGroup(e.item)}}},[e._v(" "+e._s(e.item.name)+" ")])])},j=[],W={name:"GroupsMainTableName",props:{item:{type:Object,default:()=>({})}},methods:{async editGroup(e){let t={id:e.id,name:e.name,rules:e.rules.map(e=>e.id)};await this.$store.dispatch("groups/setRulesGroupDialogMode","edit"),await this.$store.dispatch("groups/setGroup",{...t}),this.$store.dispatch("groups/openDialog","rulesGroupDialog")}}},B=W,L=Object(u["a"])(B,N,j,!1,null,null,null),F=L.exports,U=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",e._l(e.item.rules,(function(t){return a("v-chip",{key:"item-"+t.id+"-tag-"+t,staticClass:"mr-1",attrs:{color:"grey",outlined:"",small:"",label:""}},[e._v(" "+e._s(t.name)+" ")])})),1)},H=[],z={name:"GroupsMainTableRules",props:{item:{type:Object,default:()=>({})}}},K=z,Y=a("cc20"),q=Object(u["a"])(K,U,H,!1,null,null,null),Z=q.exports;p()(q,{VChip:Y["a"]});var X={name:"GroupsMainTable",components:{MainTableName:F,MainTableRules:Z},data(){return{cols:[{text:this.$t("common.name"),value:"name",width:300},{text:this.$t("common.rules"),value:"rules",width:300}]}},computed:{...Object(r["c"])({groups:"groups/groups",innerHeight:"main/innerHeight"})},methods:{selectItem(e){this.$store.dispatch("groups/setSelected",e)}}},J=X,Q=a("8fea"),ee=Object(u["a"])(J,G,I,!1,null,null,null),te=ee.exports;p()(ee,{VCard:S["a"],VCardText:w["b"],VDataTable:Q["a"]});var ae=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-dialog",{attrs:{value:e.dialogs.rulesGroupDialog,"max-width":"500px",scrollable:""},on:{"click:outside":e.close,keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"])?null:e.close(t)}}},[a("v-card",[a("v-card-title",[a("span",[e._v(" "+e._s("create"===e.rulesGroupDialogMode?e.$t("autoRules.createRulesGroup"):e.$t("autoRules.ediGroup")+" "+e.groupName)+" ")])]),a("v-card-text",{staticStyle:{"max-height":"700px"}},[a("v-text-field",{staticClass:"pt-2",attrs:{value:e.group.name,error:!e.group.name&&e.showWarnings,label:e.$t("common.name"),outlined:"",dense:"","hide-details":""},on:{input:function(t){return e.changeGroupName(t)}}}),a("v-combobox",{staticClass:"pt-2",attrs:{value:e.localRules,label:e.$t("common.rules"),"item-text":function(e){return e.name},"item-value":function(e){return e.id},items:e.rules,error:!e.group.rules.length>0&&e.showWarnings,multiple:"",chips:"","deletable-chips":"",clearable:"","small-chips":"",outlined:"","hide-details":""},on:{change:function(t){e.group.rules=t.map((function(e){return e.id}))}}})],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{text:"",color:"grey"},on:{click:e.close}},[e._v(" "+e._s(e.$t("common.close"))+" ")]),"create"===e.rulesGroupDialogMode?a("v-btn",{attrs:{color:"blue darken-1",text:"",loading:e.loading.createRulesGroup},on:{click:e.createOrSave}},[e._v(" "+e._s(e.$t("common.create"))+" ")]):e._e(),"edit"===e.rulesGroupDialogMode?a("v-btn",{attrs:{color:"blue darken-1",text:"",loading:e.loading.editRulesGroup},on:{click:e.createOrSave}},[e._v(" "+e._s(e.$t("common.save"))+" ")]):e._e()],1)],1)],1)],1)},se=[],ie=a("5935"),oe={name:"GroupsRulesGroupDialog",data(){return{localRules:[],initial:{},groupName:""}},computed:{...Object(r["c"])({dialogs:"groups/dialogs",rulesGroupDialogMode:"groups/rulesGroupDialogMode",rules:"groups/rules",showWarnings:"groups/showWarnings",loading:"groups/loading"}),...Object(ie["b"])("groups",["group"])},created(){this.localRules=this.rules.filter(e=>this.group.rules.indexOf(e.id)>-1),this.initial=this.$_.cloneDeep(this.group)},destroyed(){this.group.name=null,this.group.rules=[],this.group.name&&(this.groupName=this.group.name)},methods:{close(){(this.$_.isEqual(this.group,this.initial)||(this.confirmation=confirm(this.$t("common.closeDialogConfirmation")),this.confirmation))&&(this.$store.dispatch("groups/closeDialog","rulesGroupDialog"),this.$store.dispatch("groups/setWarning",!1))},changeGroupName(e){this.group.name=""===e?null:e},async createOrSave(){return this.group.name&&this.group.rules&&this.group.rules.length>0?("create"===this.rulesGroupDialogMode?(await this.$store.dispatch("groups/createRulesGroup",{rule_ids:this.group.rules,name:this.group.name}),this.$store.dispatch("groups/clearGroup"),this.$store.dispatch("groups/closeDialog","rulesGroupDialog")):(await this.$store.dispatch("groups/editRulesGroup",{...this.group}),this.$store.dispatch("groups/clearGroup"),this.$store.dispatch("groups/closeDialog","rulesGroupDialog")),this.$store.dispatch("groups/setWarning",!1)):this.$store.dispatch("groups/setWarning",!0)}}},le=oe,re=a("2b5d"),ne=a("8654"),ce=Object(u["a"])(le,ae,se,!1,null,null,null),ue=ce.exports;p()(ce,{VBtn:$["a"],VCard:S["a"],VCardActions:w["a"],VCardText:w["b"],VCardTitle:w["c"],VCombobox:re["a"],VDialog:D["a"],VSpacer:V["a"],VTextField:ne["a"]});var de=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-row",{staticClass:"topbar-row"},[a("v-col",{attrs:{cols:"12",sm:"9"}},[a("div",[a("topbar-actions")],1),a("div",{staticClass:"pt-0 pb-2 mr-8",staticStyle:{float:"right",width:"170px","text-align":"center"}},[a("v-btn",{staticClass:"white--text",staticStyle:{"margin-top":"2px"},attrs:{small:"",text:"",color:"primary"},on:{click:e.createRulesGroup}},[a("v-icon",{staticClass:"mr-1",attrs:{size:18}},[e._v(" add ")]),e._v(" "+e._s(e.$t("autoRules.createRulesGroup"))+" ")],1)],1)]),a("v-col",{attrs:{cols:"12",sm:"3"}},[a("v-row",[a("v-col",{staticClass:"pt-0 pb-2",attrs:{cols:"12"}},[a("v-text-field",{attrs:{dense:"",clearable:"",solo:"",label:e.$t("filters.searchByName"),"single-line":"","prepend-inner-icon":"fas fa-search","hide-details":"",value:e.filters.search},on:{input:e.search}})],1)],1)],1)],1)},pe=[],me=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"pt-0 pb-2",staticStyle:{float:"left"}},[a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var s=t.on;return[a("v-btn",e._g({staticStyle:{"min-width":"0",width:"30px","margin-top":"1px"},attrs:{small:"",disabled:0===e.groups.selected.length,color:"primary",text:""},on:{click:e.multipleDuplicate}},s),[a("v-icon",{attrs:{size:12}},[e._v(" fas fa-copy ")])],1)]}}])},[a("span",[e._v(e._s(e.$t("common.duplicate")))])])],1),a("div",{staticClass:"pt-0 pb-2",staticStyle:{float:"left"}},[a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var s=t.on;return[a("v-btn",e._g({staticStyle:{"min-width":"0",width:"30px","margin-top":"1px"},attrs:{small:"",disabled:0===e.groups.selected.length,color:"primary",text:"",loading:e.loading.deleteGroup},on:{click:e.deleteGroup}},s),[a("v-icon",{attrs:{size:12}},[e._v(" fas fa-trash ")])],1)]}}])},[a("span",[e._v(e._s(e.$t("common.delete")))])])],1),a("div",{staticClass:"pt-0 pb-2",staticStyle:{float:"left"}},[a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var s=t.on;return[a("v-btn",e._g({staticStyle:{"min-width":"0",width:"30px","margin-top":"1px"},attrs:{small:"",disabled:0===e.groups.selected.length,color:"primary",text:"",loading:e.loading.shareGroup},on:{click:e.shareGroup}},s),[a("v-icon",{attrs:{size:12}},[e._v(" fas fa-share-alt ")])],1)]}}])},[a("span",[e._v(e._s(e.$t("common.share")))])])],1),a("div",{staticClass:"pt-0 pb-2",staticStyle:{float:"left"}},[a("div",{staticClass:"body-2 ml-3",staticStyle:{"padding-bottom":"3px"},style:{color:e.groups.selected.length>0?"":"grey",paddingTop:"5px"}},[e._v(" "+e._s(e.$t("common.selected"))+": "+e._s(e.groups.selected.length)+" ")])])])},_e=[],he={name:"GroupsTopbarActions",computed:{...Object(r["c"])({loading:"groups/loading",groups:"groups/groups"})},methods:{deleteGroup(){confirm(this.$t("common.confirmPlease"))&&this.$store.dispatch("groups/deleteGroup",{ids:this.groups.selected.map(e=>e.id)})},shareGroup(){this.$store.dispatch("groups/openDialog","share")},async multipleDuplicate(){if(confirm(this.$t("common.confirmPlease"))){for(let e of this.groups.selected)await this.$store.dispatch("groups/multipleDuplicate",e.id);this.$store.dispatch("groups/loadGroups"),this.$store.dispatch("groups/clearSelected")}}}},ve=he,fe=a("3a2f"),ge=Object(u["a"])(ve,me,_e,!1,null,null,null),be=ge.exports;p()(ge,{VBtn:$["a"],VIcon:k["a"],VTooltip:fe["a"]});var xe={name:"GroupsTopbar",components:{TopbarActions:be},data(){return{searchText:""}},computed:{...Object(r["c"])({filters:"groups/filters"})},methods:{search(e){this.searchText=e;const t={filter:"search",data:e};setTimeout(async()=>{e===this.searchText&&await this.$store.dispatch("groups/setSpecificFilter",t)},500)},async createRulesGroup(){await this.$store.dispatch("groups/setRulesGroupDialogMode","create"),this.$store.dispatch("groups/openDialog","rulesGroupDialog")}}},ye=xe,Re=Object(u["a"])(ye,de,pe,!1,null,null,null),$e=Re.exports;p()(Re,{VBtn:$["a"],VCol:C["a"],VIcon:k["a"],VRow:A["a"],VTextField:ne["a"]});var Se={name:"Groups",components:{MainTable:te,Topbar:$e,RulesGroupDialog:ue,DialogShare:E},data(){return{updateInterval:null}},computed:{...Object(r["c"])({dialogs:"groups/dialogs"})},created(){this.$store.dispatch("groups/loadGroups"),this.$store.dispatch("groups/loadFilters"),this.$store.dispatch("groups/loadRules"),this.updateInterval=setInterval(()=>{this.$store.dispatch("groups/loadGroups")},6e4)},beforeDestroy(){clearInterval(this.updateInterval)}},we=Se,Ce=Object(u["a"])(we,f,g,!1,null,null,null),De=Ce.exports,ke=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("h1",[e._v("roi")])},Te=[],Me={},Ae=Object(u["a"])(Me,ke,Te,!1,null,null,null),Ve=Ae.exports,Oe=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticStyle:{padding:"8px"}},[e.dialogs.mainDialog?a("main-dialog"):e._e(),e.dialogs.share?a("dialog-share"):e._e(),a("topbar"),a("main-table")],1)},Pe=[],Ee=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-dialog",{attrs:{value:e.dialogs.share,"max-width":"500px",scrollable:""},on:{"click:outside":e.close,keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"])?null:e.close(t)}}},[a("v-card",{attrs:{loading:e.loading.share}},[a("v-card-title",{staticClass:"pb-0"},[a("span",{staticClass:"headline"},[e._v(" "+e._s(e.$t("common.share"))+" ")])]),a("v-card-text",{staticStyle:{"max-height":"700px"}},[a("v-row",[a("v-col",{attrs:{cols:12}},[a("div",[a("v-btn",{staticClass:"my-1",staticStyle:{"margin-left":"0px"},attrs:{color:"primary","x-small":"",outlined:""},on:{click:e.selectAll}},[e._v(" "+e._s(e.$t("common.selectAll"))+" ")]),a("v-btn",{staticClass:"my-1 ml-1",staticStyle:{"margin-left":"0px"},attrs:{color:"primary","x-small":"",outlined:""},on:{click:e.unselectAll}},[e._v(" "+e._s(e.$t("common.unselectAll"))+" ")])],1),a("v-treeview",{attrs:{selectable:"",dense:"","open-on-click":"","selected-color":"primary",items:e.items},scopedSlots:e._u([{key:"prepend",fn:function(t){var s=t.item;return[-1!==s.id.search("user")?a("v-icon",{staticClass:"d-block text-center",attrs:{size:"16"}},[e._v(" fas fa-user ")]):e._e(),-1!==s.id.search("view")?a("v-icon",{staticClass:"d-block text-center",attrs:{size:"16"}},[e._v(" fas fa-eye ")]):e._e(),-1!==s.id.search("edit")?a("v-icon",{staticClass:"d-block text-center",attrs:{size:"16"}},[e._v(" fas fa-edit ")]):e._e(),-1!==s.id.search("share")?a("v-icon",{staticClass:"d-block text-center",attrs:{size:"16"}},[e._v(" fas fa-share-alt ")]):e._e()]}}]),model:{value:e.permissions,callback:function(t){e.permissions=t},expression:"permissions"}}),a("div",[a("v-radio-group",{staticClass:"mt-3",staticStyle:{"margin-top":"0px"},attrs:{row:"",dense:"","hide-details":""},model:{value:e.mode,callback:function(t){e.mode=t},expression:"mode"}},[a("v-radio",{attrs:{label:e.$t("dialogs.accounts.multipeShare.addPermissions"),value:1}}),a("v-radio",{attrs:{label:e.$t("dialogs.accounts.multipeShare.removePermissions"),value:-1}})],1)],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.close}},[e._v(" "+e._s(e.$t("common.close"))+" ")]),a("v-btn",{attrs:{color:"blue darken-1",text:"",loading:e.loading.share,disabled:e.$_.isEmpty(e.permissions)},on:{click:e.savePermissions}},[e._v(" "+e._s(e.$t("common.save"))+" ")])],1)],1)],1)},Ge=[],Ie={name:"RulesDialogShare",data(){return{permissions:[],mode:1,allItems:[],users:[]}},computed:{...Object(r["c"])({profile:"main/profile",rules:"rules/rules",dialogs:"rules/dialogs",loading:"rules/loading"}),items(){let e=[];return this.users.forEach(t=>{if(t.id===this.profile.id)return;const a={id:"user-"+t.id,name:null!==t.display_name?t.display_name:t.login};a.children=[{id:t.id+"-view",name:this.$t("dialogs.accounts.share.permissions.view")},{id:t.id+"-edit",name:this.$t("common.edit")},{id:t.id+"-share",name:this.$t("dialogs.accounts.share.permissions.share")}],this.allItems=this.allItems.concat(a.children.map(e=>e.id)),e.push(a)}),e}},created(){this.loadUsers()},methods:{close(){(0===this.permissions.length&&-1!==this.mode||(this.confirmation=confirm(this.$t("common.closeDialogConfirmation")),this.confirmation))&&this.$store.dispatch("rules/closeDialog","share")},async loadUsers(){try{const e=await this.api("/users/all");e&&e.data&&e.data.data&&(this.users=e.data.data.filter(e=>1===parseInt(e.status)))}catch(e){console.error(e),this.$store.dispatch("main/alert",{color:"error",message:this.$t("common.somethingWentWrong")})}},async savePermissions(){await this.$store.dispatch("rules/setLoading",{param:"share",value:!0});try{const e={ids:this.rules.selected.map(e=>e.id),permissions:this.permissions,mode:this.mode},t=await this.api.post("/fb_rules/update_permissions",e);if(!(t&&t.data&&t.data.success))throw t;this.$store.dispatch("rules/closeDialog","share"),this.$store.dispatch("main/alert",{color:"success",message:this.$t("common.success")})}catch(e){console.error(e),this.$store.dispatch("main/alert",{color:"error",message:this.$t("common.somethingWentWrong")})}this.$store.dispatch("rules/setLoading",{param:"share",value:!1})},selectAll(){this.permissions=[],this.permissions=this.permissions.concat(this.allItems)},unselectAll(){this.permissions=[]}}},Ne=Ie,je=Object(u["a"])(Ne,Ee,Ge,!1,null,null,null),We=je.exports;p()(je,{VBtn:$["a"],VCard:S["a"],VCardActions:w["a"],VCardText:w["b"],VCardTitle:w["c"],VCol:C["a"],VDialog:D["a"],VIcon:k["a"],VRadio:T["a"],VRadioGroup:M["a"],VRow:A["a"],VSpacer:V["a"],VTreeview:O["a"]});var Be=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-dialog",{attrs:{value:e.dialogs.mainDialog,persistent:"",fullscreen:"",transition:"dialog-bottom-transition"},on:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"])?null:e.close(t)}}},[a("v-card",[a("v-toolbar",{staticClass:"white--text main-dialog-header",attrs:{color:"primary",flat:""}},[a("v-btn",{attrs:{color:"white",icon:""},on:{click:e.close}},[a("v-icon",[e._v("fas fa-times")])],1),a("v-toolbar-title",[e._v(" "+e._s(e.$t("autoRules.mainDialog."+e.mainDialogMode))+" "),a("span",{directives:[{name:"show",rawName:"v-show",value:"edit"===e.mainDialogMode,expression:"mainDialogMode === 'edit'"}]},[e._v(" "+e._s(" ["+e.rules.forMainDialog.name+"]")+" ")])]),a("v-spacer"),a("v-toolbar-items",[e.$vuetify.breakpoint.sm||e.$vuetify.breakpoint.xs?e._e():a("v-btn",{staticClass:"white--text",attrs:{text:""},on:{click:e.close}},[e._v(" "+e._s(e.$t("common.cancel"))+" ")]),a("v-btn",{staticClass:"white--text",attrs:{text:"",loading:e.loading.createOrSaveRule},on:{click:e.createOrSaveRule}},[e._v(" "+e._s("edit"==e.mainDialogMode?e.$t("common.save"):e.$t("common.create"))+" ")])],1)],1),a("v-row",{staticClass:"autorules-main-dialog"},[a("v-col",{attrs:{cols:"12",md:"6","offset-md":"3",xl:"4","offset-xl":"4"}},[a("v-card",{staticClass:"ma-4 pa-2 px-5 pb-3"},[a("v-card-title",{staticStyle:{padding:"0"}},[e._v(" "+e._s(e.$t("autoRules.fbRules.static.cards.settings"))+" ")]),a("main-dialog-name",{attrs:{"local-rule":e.rules.forMainDialog}}),a("main-dialog-convert-currency",{attrs:{"local-rule":e.rules.forMainDialog}}),a("v-row",[a("main-dialog-rule-type",{attrs:{"local-rule":e.rules.forMainDialog}}),a("main-dialog-frequency",{attrs:{"local-rule":e.rules.forMainDialog}})],1),a("v-row",[a("main-dialog-what-to-work-with",{attrs:{"local-rule":e.rules.forMainDialog}}),a("main-dialog-which-statuses",{attrs:{"local-rule":e.rules.forMainDialog}})],1),a("v-row",[a("main-dialog-what-to-do",{attrs:{"local-rule":e.rules.forMainDialog}}),a("main-dialog-stat-period",{attrs:{"local-rule":e.rules.forMainDialog}})],1)],1),"CHANGE_BUDGET"===e.rules.forMainDialog.execution_type||"CHANGE_CAMPAIGN_BUDGET"===e.rules.forMainDialog.execution_type?a("v-card",{staticClass:"ma-4 pa-2 px-5 pb-3"},[a("v-card-title",{staticStyle:{padding:"0"}},[e._v(" "+e._s(e.$t("autoRules.fbRules.static.cards.budgetChange"))+" ")]),a("main-dialog-budget",{attrs:{"local-rule":e.rules.forMainDialog}})],1):e._e(),"CHANGE_BID"===e.rules.forMainDialog.execution_type?a("v-card",{staticClass:"ma-4 pa-2 px-5 pb-3"},[a("v-card-title",{staticStyle:{padding:"0"}},[e._v(" "+e._s(e.$t("autoRules.fbRules.static.cards.changeBid"))+" ")]),a("main-dialog-bid",{attrs:{"local-rule":e.rules.forMainDialog}})],1):e._e(),"CUSTOM"===e.rules.forMainDialog.schedule_type?a("v-card",{staticClass:"ma-4 pa-2 px-5 pb-3"},[a("v-card-title",{staticStyle:{padding:"0"}},[e._v(" "+e._s(e.$t("autoRules.fbRules.static.cards.customSchedule"))+" ")]),a("main-dialog-custom-schedule",{attrs:{"local-rule":e.rules.forMainDialog}})],1):e._e(),a("v-card",{staticClass:"ma-4 pa-2 px-5 pb-3"},[a("v-card-title",{staticStyle:{padding:"0"}},[e._v(" "+e._s(e.$t("autoRules.fbRules.static.cards.condition"))+" ")]),a("main-dialog-conditions",{attrs:{"local-rule":e.rules.forMainDialog}})],1)],1)],1)],1)],1)},Le=[],Fe=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-col",{attrs:{cols:"12"}},[a("v-row",[a("v-col",{staticClass:"py-0",staticStyle:{"text-align":"left"},style:e.$vuetify.breakpoint.xs?"padding-left: 0 !important;":"",attrs:{cols:12,sm:3}},[a("v-btn-toggle",{staticClass:"py-2",attrs:{color:"primary",borderless:"",mandatory:""},model:{value:e.localRule.execution.bid_operator,callback:function(t){e.$set(e.localRule.execution,"bid_operator",t)},expression:"localRule.execution.bid_operator"}},[a("v-btn",{staticStyle:{"font-size":"12px",height:"24px"},attrs:{value:"+"}},[a("span",[e._v("+")])]),a("v-btn",{staticStyle:{"font-size":"12px",height:"24px"},attrs:{value:"-"}},[a("span",[e._v("-")])])],1)],1),a("v-col",{staticClass:"py-0 pl-0",attrs:{cols:12,sm:3}},[a("v-text-field",{attrs:{value:Math.abs(e.localRule.execution.bid_percents),maxlength:"4",outlined:"",dense:"","hide-details":"","append-icon":"fas fa-percent",error:!e.localRule.execution.bid_percents&&e.showWarnings},on:{input:function(t){return e.bidPercentsChanged(t)}}})],1),a("v-col",{staticClass:"py-0",style:e.$vuetify.breakpoint.xs?"margin-top: 16px; padding-left: 0 !important;":"",attrs:{cols:12,sm:6}},[a("v-text-field",{directives:[{name:"show",rawName:"v-show",value:"+"===e.localRule.execution.bid_operator,expression:"localRule.execution.bid_operator === '+'"}],attrs:{value:e.localRule.execution.bid_max,label:e.$t("autoRules.fbRules.static.bidMax"),outlined:"",dense:"","hide-details":""},on:{input:function(t){return e.bidMax(t)}}}),a("v-text-field",{directives:[{name:"show",rawName:"v-show",value:"-"===e.localRule.execution.bid_operator,expression:"localRule.execution.bid_operator === '-'"}],attrs:{value:e.localRule.execution.bid_min,label:e.$t("autoRules.fbRules.static.bidMin"),outlined:"",dense:"","hide-details":""},on:{input:function(t){return e.bidMin(t)}}})],1)],1)],1)},Ue=[],He={name:"RulesMainDialogBid",props:{localRule:{type:Object,default:()=>({})}},data(){return{bidOperator:["+","-"]}},computed:{...Object(r["c"])({showWarnings:"rules/showWarnings"}),...Object(ie["b"])("rules",["rules"])},created(){this.localRule.execution.bid_change_amount&&this.$store.dispatch("rules/setForMainDialogExecutionOptions",{option:"bid_percents",value:this.localRule.execution.bid_change_amount})},methods:{bidPercentsChanged(e){let t=parseFloat(e);isFinite(t)&&t>1e3?t=1e3:isFinite(t)||(t=null),this.rules.forMainDialog.execution.bid_percents=t},bidMax(e){this.localRule.execution.bid_max=e.toString().trim().replace(",",".")},bidMin(e){this.localRule.execution.bid_min=e.toString().trim().replace(",",".")}}},ze=He,Ke=a("a609"),Ye=Object(u["a"])(ze,Fe,Ue,!1,null,null,null),qe=Ye.exports;p()(Ye,{VBtn:$["a"],VBtnToggle:Ke["a"],VCol:C["a"],VRow:A["a"],VTextField:ne["a"]});var Ze=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-col",{attrs:{cols:"12"}},[a("v-row",[a("v-col",{staticClass:"py-0 mb-2",staticStyle:{"text-align":"left"},style:e.$vuetify.breakpoint.xs?"padding-left: 0 !important;":"",attrs:{cols:12}},[a("v-btn-toggle",{staticClass:"py-2",attrs:{color:"primary",borderless:"",mandatory:""},model:{value:e.localRule.budget_type,callback:function(t){e.$set(e.localRule,"budget_type",t)},expression:"localRule.budget_type"}},[a("v-btn",{staticStyle:{"font-size":"12px",height:"24px"},attrs:{value:"daily"}},[a("span",[e._v(e._s(e.$t("common.budgetDaily")))])]),a("v-btn",{staticStyle:{"font-size":"12px",height:"24px"},attrs:{value:"lifetime"}},[a("span",[e._v(e._s(e.$t("common.budgetLifetime")))])])],1)],1),a("v-col",{staticClass:"py-0",staticStyle:{"text-align":"left"},style:e.$vuetify.breakpoint.xs?"padding-left: 0 !important;":"",attrs:{cols:12,sm:3}},[a("v-btn-toggle",{staticClass:"py-2",attrs:{color:"primary",borderless:"",mandatory:""},model:{value:e.localRule.execution.budget_operator,callback:function(t){e.$set(e.localRule.execution,"budget_operator",t)},expression:"localRule.execution.budget_operator"}},[a("v-btn",{staticStyle:{"font-size":"12px",height:"24px"},attrs:{value:"+"}},[a("span",[e._v("+")])]),a("v-btn",{staticStyle:{"font-size":"12px",height:"24px"},attrs:{value:"-"}},[a("span",[e._v("-")])])],1)],1),a("v-col",{staticClass:"py-0 pl-0",attrs:{cols:12,sm:3}},[a("v-text-field",{attrs:{value:e.localRule.execution.budget_percents,maxlength:"4",outlined:"",dense:"","hide-details":"","append-icon":"fas fa-percent",error:!e.localRule.execution.budget_percents&&e.showWarnings},on:{input:function(t){return e.budgetPercentsChanged(t)}}})],1),a("v-col",{staticClass:"py-0",style:e.$vuetify.breakpoint.xs?"margin-top: 16px; padding-left: 0 !important;":"",attrs:{cols:12,sm:6}},[a("v-text-field",{directives:[{name:"show",rawName:"v-show",value:"+"===e.localRule.execution.budget_operator,expression:"localRule.execution.budget_operator === '+'"}],attrs:{value:e.localRule.execution.budget_max,label:e.$t("autoRules.fbRules.static.budgetMax"),outlined:"",dense:"","hide-details":""},on:{input:function(t){return e.budgetMax(t)}}}),a("v-text-field",{directives:[{name:"show",rawName:"v-show",value:"-"===e.localRule.execution.budget_operator,expression:"localRule.execution.budget_operator === '-'"}],attrs:{value:e.localRule.execution.budget_min,label:e.$t("autoRules.fbRules.static.budgetMin"),outlined:"",dense:"","hide-details":""},on:{input:function(t){return e.budgetMin(t)}}})],1)],1)],1)},Xe=[],Je={name:"RulesMainDialogBudget",props:{localRule:{type:Object,default:()=>({})}},data(){return{budgetOperator:["+","-"]}},computed:{...Object(r["c"])({showWarnings:"rules/showWarnings"}),...Object(ie["b"])("rules",["rules"])},created(){this.localRule.execution.budget_change_amount&&this.$store.dispatch("rules/setForMainDialogExecutionOptions",{option:"budget_percents",value:this.localRule.execution.budget_change_amount})},methods:{budgetPercentsChanged(e){let t=parseFloat(e);isFinite(t)&&t>1e3?t=1e3:isFinite(t)||(t=null),this.rules.forMainDialog.execution.budget_percents=t},budgetMax(e){this.localRule.execution.budget_max=e.toString().trim().replace(",",".")},budgetMin(e){this.localRule.execution.budget_min=e.toString().trim().replace(",",".")}}},Qe=Je,et=Object(u["a"])(Qe,Ze,Xe,!1,null,null,null),tt=et.exports;p()(et,{VBtn:$["a"],VBtnToggle:Ke["a"],VCol:C["a"],VRow:A["a"],VTextField:ne["a"]});var at=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-col",{staticClass:"px-0",staticStyle:{display:"flex","flex-direction":"column","justify-content":"center","align-items":"center"},attrs:{cols:12}},[e.localRule.conditions?a("div",{staticStyle:{width:"100%"}},e._l(e.localRule.conditions.length,(function(t,s){return a("div",{key:"rules-conditions-"+t,staticClass:"d-flex align-center",style:e.$vuetify.breakpoint.xs?"flex-wrap: wrap; justify-content: space-between !important;":""},[a("v-autocomplete",{staticClass:"my-2",staticStyle:{width:"100%"},attrs:{"item-text":function(t){return t.value.startsWith("title-")||t.value.startsWith("divider-")?null:e.$t("autoRules.fbRules.static.parameter."+t.text)},"item-value":function(e){return e.value},items:e.computedConditionsParameter,outlined:"",dense:"","hide-details":"","menu-props":{auto:!0},error:!e.localRule.conditions[s].parameter&&e.showWarnings},on:{change:e.parameterChanged},scopedSlots:e._u([{key:"selection",fn:function(t){return[e._v(" "+e._s(e.$t("autoRules.fbRules.static.parameter."+t.item.text))+" ")]}},{key:"item",fn:function(t){return[a("v-list-item-content",[t.item.divider?a("v-divider"):a("v-list-item-title",{style:t.item.value.startsWith("title-")?"font-size: 16px;":null},[e._v(" "+e._s(e.$t("autoRules.fbRules.static.parameter."+t.item.text))+" ")])],1)]}}],null,!0),model:{value:e.localRule.conditions[s].parameter,callback:function(t){e.$set(e.localRule.conditions[s],"parameter",t)},expression:"localRule.conditions[conditionIndex].parameter"}}),a("v-select",{staticClass:"mx-4 my-2",staticStyle:{"max-width":"100px"},style:e.$vuetify.breakpoint.xs?"max-width: 40%; margin: 0 12px 0 0 !important;":"",attrs:{"item-text":function(e){return e.text},"item-value":function(e){return e.value},items:e.conditionsOperator,outlined:"",dense:"","hide-details":""},model:{value:e.localRule.conditions[s].operator,callback:function(t){e.$set(e.localRule.conditions[s],"operator",t)},expression:"localRule.conditions[conditionIndex].operator"}}),a("v-text-field",{staticClass:"my-2",style:e.$vuetify.breakpoint.xs?"max-width: 40%; !important;":"",attrs:{value:e.localRule.conditions[s].value,outlined:"",dense:"","hide-details":"",error:!e.localRule.conditions[s].value&&e.showWarnings},on:{input:function(t){return e.valueChanged(t,s)}}}),a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on;return[a("v-btn",e._g({staticStyle:{"min-width":"0",width:"30px"},attrs:{small:"",color:"red",text:""},on:{click:function(t){return e.deleteCondition(s)}}},i),[a("v-icon",{attrs:{size:12}},[e._v(" fas fa-trash ")])],1)]}}],null,!0)},[a("span",[e._v(e._s(e.$t("common.delete")))])])],1)})),0):e._e(),a("v-btn",{staticClass:"white--text",staticStyle:{"align-content":"center"},attrs:{small:"",text:"",color:"primary"},on:{click:e.addCondition}},[e._v(" "+e._s(e.$t("autoRules.createCondition"))+" ")]),e.checkConditions?a("v-btn",{staticClass:"white--text",staticStyle:{"align-content":"center"},attrs:{small:"",text:"",color:"primary"},on:{click:e.noConditionsRule}},[e._v(" "+e._s(e.$t("autoRules.noConditionsRule"))+" ")]):e._e()],1)},st=[],it=[{text:"=",value:"EQUAL"},{text:">",value:"GREATER_THAN"},{text:"<",value:"LESS_THAN"}],ot=[{text:"mostСommon"},{text:"spent",value:"spent"},{text:"lifetime_spent",value:"lifetime_spent"},{text:"frequency",value:"frequency"},{text:"results",value:"result"},{text:"cost_per",value:"cost_per"},{text:"mobile_app_install",value:"mobile_app_install"},{text:"cost_per_mobile_app_install",value:"cost_per_mobile_app_install"},{text:"mobile_app_purchase_roas",value:"mobile_app_purchase_roas"},{text:"website_purchase_roas",value:"website_purchase_roas"},{text:"daily_ratio_spent",value:"daily_ratio_spent"},{text:"lifetime_ratio_spent",value:"lifetime_ratio_spent"},{text:"audience_reached_percentage",value:"audience_reached_percentage"},{divider:!0},{text:"settings"},{text:"campaign.name",value:"campaign.name"},{text:"objective",value:"objective"},{text:"buying_type",value:"buying_type"},{text:"spend_cap",value:"spend_cap"},{divider:!0},{text:"time"},{text:"hours_since_creation",value:"hours_since_creation"},{text:"active_time",value:"active_time"},{text:"current_time",value:"current_time"},{text:"created_time",value:"created_time"},{text:"updated_time",value:"updated_time"},{text:"start_time",value:"start_time"},{text:"stop_time",value:"stop_time"},{divider:!0},{text:"websiteConversions"},{text:"offsite_conversion.offsite_conversion",value:"offsite_conversion"},{text:"offsite_conversion.fb_pixel_add_payment_info",value:"offsite_conversion.fb_pixel_add_payment_info"},{text:"offsite_conversion.fb_pixel_add_to_cart",value:"offsite_conversion.fb_pixel_add_to_cart"},{text:"offsite_conversion.fb_pixel_add_to_wishlist",value:"offsite_conversion.fb_pixel_add_to_wishlist"},{text:"offsite_conversion.fb_pixel_complete_registration",value:"offsite_conversion.fb_pixel_complete_registration"},{text:"offsite_conversion.fb_pixel_initiate_checkout",value:"offsite_conversion.fb_pixel_initiate_checkout"},{text:"offsite_conversion.fb_pixel_lead",value:"offsite_conversion.fb_pixel_lead"},{text:"offsite_conversion.fb_pixel_purchase",value:"offsite_conversion.fb_pixel_purchase"},{text:"offsite_conversion.fb_pixel_search",value:"offsite_conversion.fb_pixel_search"},{text:"offsite_conversion.fb_pixel_view_content",value:"offsite_conversion.fb_pixel_view_content"},{text:"offsite_conversion.fb_pixel_other",value:"offsite_conversion.fb_pixel_other"},{divider:!0},{text:"costPerWebsiteConversion"},{text:"cost_per_add_payment_info_fb",value:"cost_per_add_payment_info_fb"},{text:"cost_per_add_to_cart_fb",value:"cost_per_add_to_cart_fb"},{text:"cost_per_add_to_wishlist_fb",value:"cost_per_add_to_wishlist_fb"},{text:"cost_per_complete_registration_fb",value:"cost_per_complete_registration_fb"},{text:"cost_per_initiate_checkout_fb",value:"cost_per_initiate_checkout_fb"},{text:"cost_per_lead_fb",value:"cost_per_lead_fb"},{text:"cost_per_purchase_fb",value:"cost_per_purchase_fb"},{text:"cost_per_search_fb",value:"cost_per_search_fb"},{text:"cost_per_view_content_fb",value:"cost_per_view_content_fb"},{divider:!0},{text:"mobileAppEvents"},{text:"app_custom_event.app_custom_event",value:"app_custom_event"},{text:"app_custom_event.fb_mobile_achievement_unlocked",value:"app_custom_event.fb_mobile_achievement_unlocked"},{text:"app_custom_event.fb_mobile_activate_app",value:"app_custom_event.fb_mobile_activate_app"},{text:"app_custom_event.fb_mobile_add_payment_info",value:"app_custom_event.fb_mobile_add_payment_info"},{text:"app_custom_event.fb_mobile_add_to_cart",value:"app_custom_event.fb_mobile_add_to_cart"},{text:"app_custom_event.fb_mobile_add_to_wishlist",value:"app_custom_event.fb_mobile_add_to_wishlist"},{text:"app_custom_event.fb_mobile_complete_registration",value:"app_custom_event.fb_mobile_complete_registration"},{text:"app_custom_event.fb_mobile_content_view",value:"app_custom_event.fb_mobile_content_view"},{text:"app_custom_event.fb_mobile_initiated_checkout",value:"app_custom_event.fb_mobile_initiated_checkout"},{text:"app_custom_event.fb_mobile_level_achieved",value:"app_custom_event.fb_mobile_level_achieved"},{text:"app_custom_event.fb_mobile_purchase",value:"app_custom_event.fb_mobile_purchase"},{text:"app_custom_event.fb_mobile_rate",value:"app_custom_event.fb_mobile_rate"},{text:"app_custom_event.fb_mobile_search",value:"app_custom_event.fb_mobile_search"},{text:"app_custom_event.fb_mobile_spent_credits",value:"app_custom_event.fb_mobile_spent_credits"},{text:"app_custom_event.fb_mobile_tutorial_completion",value:"app_custom_event.fb_mobile_tutorial_completion"},{text:"app_custom_event.other",value:"app_custom_event.other"},{divider:!0},{text:"costPerMobileAppEvent"},{text:"cost_per_mobile_achievement_unlocked",value:"cost_per_mobile_achievement_unlocked"},{text:"cost_per_mobile_activate_app",value:"cost_per_mobile_activate_app"},{text:"cost_per_mobile_add_payment_info",value:"cost_per_mobile_add_payment_info"},{text:"cost_per_mobile_add_to_cart",value:"cost_per_mobile_add_to_cart"},{text:"cost_per_mobile_add_to_wishlist",value:"cost_per_mobile_add_to_wishlist"},{text:"cost_per_mobile_complete_registration",value:"cost_per_mobile_complete_registration"},{text:"cost_per_mobile_content_view",value:"cost_per_mobile_content_view"},{text:"cost_per_mobile_initiated_checkout",value:"cost_per_mobile_initiated_checkout"},{text:"cost_per_mobile_level_achieved",value:"cost_per_mobile_level_achieved"},{text:"cost_per_mobile_purchase",value:"cost_per_mobile_purchase"},{text:"cost_per_mobile_rate",value:"cost_per_mobile_rate"},{text:"cost_per_mobile_search",value:"cost_per_mobile_search"},{text:"cost_per_mobile_spent_credits",value:"cost_per_mobile_spent_credits"},{text:"cost_per_mobile_tutorial_completion",value:"cost_per_mobile_tutorial_completion"},{divider:!0},{text:"offlineConversions"},{text:"offline_conversion.offline_conversion",value:"offline_conversion"},{text:"offline_conversion.add_payment_info",value:"offline_conversion.add_payment_info"},{text:"offline_conversion.add_to_cart",value:"offline_conversion.add_to_cart"},{text:"offline_conversion.add_to_wishlist",value:"offline_conversion.add_to_wishlist"},{text:"offline_conversion.complete_registration",value:"offline_conversion.complete_registration"},{text:"offline_conversion.initiate_checkout",value:"offline_conversion.initiate_checkout"},{text:"offline_conversion.lead",value:"offline_conversion.lead"},{text:"offline_conversion.other",value:"offline_conversion.other"},{text:"offline_conversion.purchase",value:"offline_conversion.purchase"},{text:"offline_conversion.search",value:"offline_conversion.search"},{text:"offline_conversion.view_content",value:"offline_conversion.view_content"},{divider:!0},{text:"costPerOfflineConversion"},{text:"cost_per_offline_conversion",value:"cost_per_offline_conversion"},{text:"cost_per_offline_add_payment_info",value:"cost_per_offline_add_payment_info"},{text:"cost_per_offline_add_to_cart",value:"cost_per_offline_add_to_cart"},{text:"cost_per_offline_complete_registration",value:"cost_per_offline_complete_registration"},{text:"cost_per_offline_initiate_checkout",value:"cost_per_offline_initiate_checkout"},{text:"cost_per_offline_lead",value:"cost_per_offline_lead"},{text:"cost_per_offline_other",value:"cost_per_offline_other"},{text:"cost_per_offline_purchase",value:"cost_per_offline_purchase"},{text:"cost_per_offline_view_content",value:"cost_per_offline_view_content"},{divider:!0},{text:"otherParameters"},{text:"impressions",value:"impressions"},{text:"reach",value:"reach"},{text:"link_click",value:"link_click"},{text:"lifetime_impressions",value:"lifetime_impressions"},{text:"leadgen",value:"leadgens"},{text:"actions",value:"actions"},{text:"clicks",value:"clicks"},{text:"cpa",value:"cpa"},{text:"cpc",value:"cpc"},{text:"cpp",value:"cpp"},{text:"ctr",value:"ctr"},{text:"result_rate",value:"result_rate"},{text:"cost_per_unique_click",value:"cost_per_unique_click"},{text:"unique_clicks",value:"unique_clicks"},{text:"today_spent",value:"today_spent"},{text:"yesterday_spent",value:"yesterday_spent"},{text:"post_engagement",value:"post_engagement"},{text:"cost_per_post_engagement",value:"cost_per_post_engagement"},{text:"video_view",value:"video_view"},{text:"cost_per_video_view",value:"cost_per_video_view"},{text:"offsite_engagement",value:"offsite_engagement"},{text:"post",value:"post"},{text:"post_comment",value:"post_comment"},{text:"post_like",value:"post_like"},{text:"post_reaction",value:"post_reaction"},{text:"view_content",value:"view_content"},{text:"video_play",value:"video_play"},{text:"vote",value:"vote"},{text:"onsite_conversion.messaging_first_reply",value:"onsite_conversion.messaging_first_reply"},{text:"cost_per_messaging_first_reply",value:"cost_per_messaging_first_reply"},{text:"onsite_conversion.messaging_reply",value:"onsite_conversion.messaging_reply"},{text:"cost_per_messaging_reply",value:"cost_per_messaging_reply"},{text:"adset.estimated_budget_spending_percentage",value:"adset.estimated_budget_spending_percentage"},{text:"cpm",value:"cpm"},{text:"cost_per_link_click",value:"cost_per_link_click"},{text:"link_ctr",value:"link_ctr"},{text:"other",value:"other"},{text:"landing_page_view",value:"landing_page_view"},{text:"like",value:"like"},{text:"fb_mobile_achievement_unlocked",value:"fb_mobile_achievement_unlocked"},{text:"fb_mobile_activate_app",value:"fb_mobile_activate_app"},{text:"fb_mobile_add_payment_info",value:"fb_mobile_add_payment_info"},{text:"fb_mobile_add_to_cart",value:"fb_mobile_add_to_cart"},{text:"fb_mobile_add_to_wishlist",value:"fb_mobile_add_to_wishlist"},{text:"fb_mobile_complete_registration",value:"fb_mobile_complete_registration"},{text:"fb_mobile_content_view",value:"fb_mobile_content_view"},{text:"fb_mobile_initiated_checkout",value:"fb_mobile_initiated_checkout"},{text:"fb_mobile_level_achieved",value:"fb_mobile_level_achieved"},{text:"fb_mobile_purchase",value:"fb_mobile_purchase"},{text:"fb_mobile_rate",value:"fb_mobile_rate"},{text:"fb_mobile_search",value:"fb_mobile_search"},{text:"fb_mobile_spent_credits",value:"fb_mobile_spent_credits"},{text:"fb_mobile_tutorial_completion",value:"fb_mobile_tutorial_completion"},{text:"fb_pixel_add_payment_info",value:"fb_pixel_add_payment_info"},{text:"fb_pixel_add_to_cart",value:"fb_pixel_add_to_cart"},{text:"fb_pixel_add_to_wishlist",value:"fb_pixel_add_to_wishlist"},{text:"fb_pixel_complete_registration",value:"fb_pixel_complete_registration"},{text:"fb_pixel_initiate_checkout",value:"fb_pixel_initiate_checkout"},{text:"fb_pixel_lead",value:"fb_pixel_lead"},{text:"fb_pixel_purchase",value:"fb_pixel_purchase"},{text:"fb_pixel_search",value:"fb_pixel_search"},{text:"fb_pixel_view_content",value:"fb_pixel_view_content"}],lt={name:"RulesMainDialogConditions",props:{localRule:{type:Object,default:()=>({})}},data(){return{conditionsParameter:ot,conditionsOperator:it,selectedParameters:[]}},computed:{...Object(r["c"])({showWarnings:"rules/showWarnings"}),checkConditions(){for(let e of this.localRule.conditions)if(null!==e.value&&""!==e.value)return!1;return!0},computedConditionsParameter(){const e=this.localRule.conditions.map(e=>e.parameter);return ot.map((t,a)=>t.divider?{divider:!0,text:"divider",value:"divider-"+a,disabled:!0}:void 0===t.value?{text:t.text,value:"title-"+t.text,disabled:!0}:{text:t.text,value:t.value,disabled:e.includes(t.value)})}},methods:{parameterChanged(){this.selectedParameters=this.localRule.conditions.map(e=>e.parameter)},addCondition(){let e={operator:"EQUAL",value:null};this.localRule.conditions.push(e)},noConditionsRule(){if(this.localRule.conditions&&this.localRule.conditions.length>0)this.localRule.conditions[0].operator="LESS_THAN",this.localRule.conditions[0].parameter="spent",this.localRule.conditions[0].value="999999";else{let e={parameter:"spent",operator:"LESS_THAN",value:"999999"};this.localRule.conditions.push(e)}},deleteCondition(e){this.localRule.conditions=this.localRule.conditions.filter((t,a)=>a!==e)},valueChanged(e,t){this.localRule.conditions[t].value=""===e?null:e.toString().trim().replace(",",".")}}},rt=lt,nt=a("c6a6"),ct=a("ce7e"),ut=a("5d23"),dt=a("b974"),pt=Object(u["a"])(rt,at,st,!1,null,null,null),mt=pt.exports;p()(pt,{VAutocomplete:nt["a"],VBtn:$["a"],VCol:C["a"],VDivider:ct["a"],VIcon:k["a"],VListItemContent:ut["a"],VListItemTitle:ut["c"],VSelect:dt["a"],VTextField:ne["a"],VTooltip:fe["a"]});var _t=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-row",[a("v-col",{attrs:{cols:12,sm:6}},[a("v-switch",{staticClass:"mt-1",attrs:{label:e.$t("autoRules.fbRules.static.convertCurrency"),dense:"","hide-details":""},model:{value:e.localRule.convert_currency,callback:function(t){e.$set(e.localRule,"convert_currency",t)},expression:"localRule.convert_currency"}})],1),a("v-col",{attrs:{cols:12,sm:6}},[a("v-autocomplete",{directives:[{name:"show",rawName:"v-show",value:e.localRule.convert_currency,expression:"localRule.convert_currency"}],attrs:{value:e.localRule.currency?e.localRule.currency:"USD",items:e.currencies,label:e.$t("autoRules.fbRules.static.ruleCurrency"),dense:"","hide-details":"",outlined:""},on:{change:function(t){return e.$store.dispatch("rules/setForMainDialogOptions",{option:"currency",value:t})}}})],1)],1)},ht=[],vt=a("1451"),ft={name:"RulesMainDialogConvertCurrency",props:{localRule:{type:Object,default:()=>({})}},data(){return{currencies:vt["a"]}},methods:{handleSwitch(e){this.$store.dispatch("rules/setForMainDialogOptions",{option:"convert_currency",value:e})}}},gt=ft,bt=a("b73d"),xt=Object(u["a"])(gt,_t,ht,!1,null,null,null),yt=xt.exports;p()(xt,{VAutocomplete:nt["a"],VCol:C["a"],VRow:A["a"],VSwitch:bt["a"]});var Rt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-col",{staticClass:"pa-0",attrs:{cols:"12"}},[a("v-btn-toggle",{staticClass:"py-2",attrs:{color:"primary",borderless:"",multiple:""},model:{value:e.localRule.custom_rasp.days,callback:function(t){e.$set(e.localRule.custom_rasp,"days",t)},expression:"localRule.custom_rasp.days"}},[a("v-btn",{staticStyle:{"font-size":"12px",height:"24px"},attrs:{value:1,color:e.localRule.custom_rasp.days&&0===e.localRule.custom_rasp.days.length&&e.showWarnings?"red":"default"}},[a("span",[e._v(e._s(e.$t("autoRules.fbRules.static.scheduleDays.monday")))])]),a("v-btn",{staticStyle:{"font-size":"12px",height:"24px"},attrs:{value:2,color:e.localRule.custom_rasp.days&&0===e.localRule.custom_rasp.days.length&&e.showWarnings?"red":"default"}},[a("span",[e._v(e._s(e.$t("autoRules.fbRules.static.scheduleDays.tuesday")))])]),a("v-btn",{staticStyle:{"font-size":"12px",height:"24px"},attrs:{value:3,color:e.localRule.custom_rasp.days&&0===e.localRule.custom_rasp.days.length&&e.showWarnings?"red":"default"}},[a("span",[e._v(e._s(e.$t("autoRules.fbRules.static.scheduleDays.wednesday")))])]),a("v-btn",{staticStyle:{"font-size":"12px",height:"24px"},attrs:{value:4,color:e.localRule.custom_rasp.days&&0===e.localRule.custom_rasp.days.length&&e.showWarnings?"red":"default"}},[a("span",[e._v(e._s(e.$t("autoRules.fbRules.static.scheduleDays.thursday")))])]),a("v-btn",{staticStyle:{"font-size":"12px",height:"24px"},attrs:{value:5,color:e.localRule.custom_rasp.days&&0===e.localRule.custom_rasp.days.length&&e.showWarnings?"red":"default"}},[a("span",[e._v(e._s(e.$t("autoRules.fbRules.static.scheduleDays.friday")))])]),a("v-btn",{staticStyle:{"font-size":"12px",height:"24px"},attrs:{value:6,color:e.localRule.custom_rasp.days&&0===e.localRule.custom_rasp.days.length&&e.showWarnings?"red":"default"}},[a("span",[e._v(e._s(e.$t("autoRules.fbRules.static.scheduleDays.saturday")))])]),a("v-btn",{staticStyle:{"font-size":"12px",height:"24px"},attrs:{value:0,color:e.localRule.custom_rasp.days&&0===e.localRule.custom_rasp.days.length&&e.showWarnings?"red":"default"}},[a("span",[e._v(e._s(e.$t("autoRules.fbRules.static.scheduleDays.sunday")))])])],1),a("div",{staticStyle:{cursor:"pointer",color:"#2196F3","text-decoration":"underline"},on:{click:function(t){return e.allDays()}}},[e._v(" "+e._s(e.localRule.custom_rasp.days&&e.localRule.custom_rasp.days.length>0?e.$t("autoRules.fbRules.static.scheduleDays.removeSelection"):e.$t("autoRules.fbRules.static.scheduleDays.selectAll"))+" ")]),a("v-row",[a("v-col",{attrs:{cols:"6",sm:"3"}},[a("v-select",{attrs:{items:e.hours,outlined:"",dense:"","hide-details":""},model:{value:e.localRule.custom_rasp.main_time.hours,callback:function(t){e.$set(e.localRule.custom_rasp.main_time,"hours",t)},expression:"localRule.custom_rasp.main_time.hours"}})],1),a("v-col",{attrs:{cols:"6",sm:"3"}},[a("v-select",{attrs:{items:e.mins,outlined:"",dense:"","hide-details":""},model:{value:e.localRule.custom_rasp.main_time.mins,callback:function(t){e.$set(e.localRule.custom_rasp.main_time,"mins",t)},expression:"localRule.custom_rasp.main_time.mins"}})],1)],1)],1)},$t=[],St={name:"RulesMainDialogCustomSchedule",props:{localRule:{type:Object,default:()=>({})}},data(){return{hours:["00","01","02","03","04","05","06","07","08","09","10","11","12","13","14","15","16","17","18","19","20","21","22","23"],mins:["00","30"]}},computed:{...Object(r["c"])({mainDialogMode:"rules/mainDialogMode",showWarnings:"rules/showWarnings"})},created(){this.localRule.custom_rasp&&this.localRule.custom_rasp.days[0]?this.localRule.custom_rasp={days:this.localRule.custom_rasp.days.map(e=>e.index),main_time:{mins:0!==this.localRule.custom_rasp.days[0].minute?this.localRule.custom_rasp.days[0].minute%60<10?"0"+(this.localRule.custom_rasp.days[0].minute%60).toString():(this.localRule.custom_rasp.days[0].minute%60).toString():"00",hours:1===Math.floor(this.localRule.custom_rasp.days[0].hour).toString().length?"0"+Math.floor(this.localRule.custom_rasp.days[0].hour):Math.floor(this.localRule.custom_rasp.days[0].hour).toString()}}:this.localRule.custom_rasp={days:[],main_time:{hours:"00",mins:"00"}}},methods:{allDays(){this.localRule.custom_rasp.days&&this.localRule.custom_rasp.days.length>0?this.localRule.custom_rasp.days=[]:this.localRule.custom_rasp.days=[1,2,3,4,5,6,0]}}},wt=St,Ct=Object(u["a"])(wt,Rt,$t,!1,null,null,null),Dt=Ct.exports;p()(Ct,{VBtn:$["a"],VBtnToggle:Ke["a"],VCol:C["a"],VRow:A["a"],VSelect:dt["a"]});var kt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-col",{attrs:{cols:12,sm:6}},[a("v-select",{attrs:{label:e.$t("autoRules.fbRules.static.frequency"),"item-text":function(t){return e.$t("autoRules.fbRules.static.frequencyTypes."+t.text)},"item-value":function(e){return e.value},items:e.scheduleType,outlined:"",dense:"","hide-details":""},model:{value:e.localRule.schedule_type,callback:function(t){e.$set(e.localRule,"schedule_type",t)},expression:"localRule.schedule_type"}})],1)},Tt=[],Mt=[{text:"semi-hourly",value:"SEMI-HOURLY"},{text:"hourly",value:"HOURLY"},{text:"daily",value:"DAILY"},{text:"custom",value:"CUSTOM"}],At={name:"RulesMainDialogFrequency",props:{localRule:{type:Object,default:()=>({})}},data(){return{scheduleType:Mt}}},Vt=At,Ot=Object(u["a"])(Vt,kt,Tt,!1,null,null,null),Pt=Ot.exports;p()(Ot,{VCol:C["a"],VSelect:dt["a"]});var Et=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-col",{staticClass:"px-0",attrs:{cols:"12"}},[a("v-text-field",{attrs:{label:e.$t("autoRules.fbRules.static.nameRule"),outlined:"",dense:"","hide-details":"",error:!e.localRule.name&&e.showWarnings},model:{value:e.localRule.name,callback:function(t){e.$set(e.localRule,"name",t)},expression:"localRule.name"}})],1)},Gt=[],It={name:"RulesMainDialogName",props:{localRule:{type:Object,default:()=>({})}},computed:{...Object(r["c"])({showWarnings:"rules/showWarnings"})}},Nt=It,jt=Object(u["a"])(Nt,Et,Gt,!1,null,null,null),Wt=jt.exports;p()(jt,{VCol:C["a"],VTextField:ne["a"]});var Bt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-col",{attrs:{cols:12,sm:6}},[a("v-select",{attrs:{label:e.$t("autoRules.fbRules.static.typeRule"),"item-text":function(t){return e.$t("autoRules.fbRules.static."+t.text)},"item-value":function(e){return e.value},items:e.ruleType,outlined:"",dense:"","hide-details":""},model:{value:e.localRule.evaluation_type,callback:function(t){e.$set(e.localRule,"evaluation_type",t)},expression:"localRule.evaluation_type"}})],1)},Lt=[],Ft={name:"RulesMainDialogRuleType",props:{localRule:{type:Object,default:()=>({})}},data(){return{ruleType:[{text:"schedule",value:"SCHEDULE"}]}}},Ut=Ft,Ht=Object(u["a"])(Ut,Bt,Lt,!1,null,null,null),zt=Ht.exports;p()(Ht,{VCol:C["a"],VSelect:dt["a"]});var Kt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-col",{attrs:{cols:12,sm:6}},[a("v-select",{attrs:{label:e.$t("autoRules.fbRules.static.statPeriod"),"item-text":function(t){return e.$t("autoRules.fbRules.static.statPeriods."+t.text)},"item-value":function(e){return e.value},items:e.timePreset,outlined:"",dense:"","hide-details":""},model:{value:e.localRule.time_preset,callback:function(t){e.$set(e.localRule,"time_preset",t)},expression:"localRule.time_preset"}})],1)},Yt=[],qt=[{text:"lifetime",value:"LIFETIME"},{text:"today",value:"TODAY"},{text:"yesterday",value:"YESTERDAY"},{text:"last_2_days",value:"LAST_2_DAYS"},{text:"last_3_days",value:"LAST_3_DAYS"},{text:"last_7_days",value:"LAST_7_DAYS"},{text:"last_14_days",value:"LAST_14_DAYS"},{text:"last_28_days",value:"LAST_28_DAYS"},{text:"last_30_days",value:"LAST_30_DAYS"},{text:"this_month",value:"THIS_MONTH"}],Zt={name:"RulesMainDialogStatPeriod",props:{localRule:{type:Object,default:()=>({})}},data(){return{timePreset:qt}}},Xt=Zt,Jt=Object(u["a"])(Xt,Kt,Yt,!1,null,null,null),Qt=Jt.exports;p()(Jt,{VCol:C["a"],VSelect:dt["a"]});var ea=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-col",{attrs:{cols:12,sm:6}},[a("v-select",{attrs:{label:e.$t("autoRules.fbRules.static.whatToDo"),"item-text":function(t){return e.$t("autoRules.fbRules.static.whatToDoType."+t.text)},"item-value":function(e){return e.value},items:e.executionType,outlined:"",dense:"","hide-details":""},model:{value:e.localRule.execution_type,callback:function(t){e.$set(e.localRule,"execution_type",t)},expression:"localRule.execution_type"}})],1)},ta=[],aa=[{text:"unpause",value:"UNPAUSE"},{text:"pause",value:"PAUSE"},{text:"changeBudget",value:"CHANGE_BUDGET"},{text:"changeCampaignBudget",value:"CHANGE_CAMPAIGN_BUDGET"},{text:"changeBid",value:"CHANGE_BID"}],sa={name:"RulesMainDialogWhatToDo",props:{localRule:{type:Object,default:()=>({})}},data(){return{executionType:aa}},watch:{"localRule.execution_type":{handler(){"CHANGE_BUDGET"===this.localRule.execution_type&&this.$store.dispatch("rules/setForMainDialogOptions",{option:"entity_type",value:"ADSET"}),"CHANGE_CAMPAIGN_BUDGET"===this.localRule.execution_type&&this.$store.dispatch("rules/setForMainDialogOptions",{option:"entity_type",value:"CAMPAIGN"})}}}},ia=sa,oa=Object(u["a"])(ia,ea,ta,!1,null,null,null),la=oa.exports;p()(oa,{VCol:C["a"],VSelect:dt["a"]});var ra=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-col",{attrs:{cols:12,sm:6}},[a("v-select",{attrs:{label:e.$t("autoRules.fbRules.static.whatToWorkWith"),"item-text":function(t){return e.$t("autoRules.fbRules.static.whatToWorkWithType."+t.text)},"item-value":function(e){return e.value},items:e.entityType,outlined:"",dense:"","hide-details":""},model:{value:e.localRule.entity_type,callback:function(t){e.$set(e.localRule,"entity_type",t)},expression:"localRule.entity_type"}})],1)},na=[],ca=[{text:"ad",value:"AD"},{text:"adset",value:"ADSET"},{text:"campaign",value:"CAMPAIGN"}],ua={name:"RulesMainDialogWhatToWorkWith",props:{localRule:{type:Object,default:()=>({})}},data(){return{entityType:ca}}},da=ua,pa=Object(u["a"])(da,ra,na,!1,null,null,null),ma=pa.exports;p()(pa,{VCol:C["a"],VSelect:dt["a"]});var _a=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-col",{attrs:{cols:12,sm:6}},[a("v-select",{attrs:{label:e.$t("autoRules.fbRules.static.whichStatuses"),"item-text":function(t){return e.$t("autoRules.fbRules.static.whichStatusesType."+t.text)},"item-value":function(e){return e.value},items:e.effectiveStatus,outlined:"",dense:"","hide-details":""},model:{value:e.localRule.effective_status,callback:function(t){e.$set(e.localRule,"effective_status",t)},expression:"localRule.effective_status"}})],1)},ha=[],va=[{text:"active",value:"ACTIVE"},{text:"paused",value:"PAUSED"}],fa={name:"RulesMainDialogWhichStatuses",props:{localRule:{type:Object,default:()=>({})}},data(){return{effectiveStatus:va}}},ga=fa,ba=Object(u["a"])(ga,_a,ha,!1,null,null,null),xa=ba.exports;p()(ba,{VCol:C["a"],VSelect:dt["a"]});var ya={name:"RulesMainDialog",components:{MainDialogBudget:tt,MainDialogBid:qe,MainDialogConditions:mt,MainDialogConvertCurrency:yt,MainDialogCustomSchedule:Dt,MainDialogName:Wt,MainDialogRuleType:zt,MainDialogFrequency:Pt,MainDialogStatPeriod:Qt,MainDialogWhatToDo:la,MainDialogWhatToWorkWith:ma,MainDialogWhichStatuses:xa},data(){return{initial:{}}},computed:{...Object(r["c"])({rules:"rules/rules",dialogs:"rules/dialogs",mainDialogMode:"rules/mainDialogMode",loading:"rules/loading"})},watch:{"rules.forMainDialog":{deep:!0,handler(){this.$store.dispatch("rules/setWarning",!1)}}},created(){this.initial=this.$_.cloneDeep(this.rules.forMainDialog)},methods:{async createRule(){await this.$store.dispatch("rules/createRule"),this.$store.dispatch("rules/closeDialog","mainDialog")},close(){(this.$_.isEqual(this.rules.forMainDialog,this.initial)||(this.confirmation=confirm(this.$t("common.closeDialogConfirmation")),this.confirmation))&&(this.$store.dispatch("rules/closeDialog","mainDialog"),this.$store.dispatch("rules/setWarning",!1),this.$store.dispatch("rules/clearRule"))},createOrSaveRule(){let e=!0;this.rules.forMainDialog.conditions.forEach(t=>{t.value||(e=!1),t.parameter||(e=!1)});let t=!0;"CUSTOM"!==this.rules.forMainDialog.schedule_type||this.rules.forMainDialog.custom_rasp.days&&0!==this.rules.forMainDialog.custom_rasp.days.length||(t=!1);let a=!0;return"CHANGE_BUDGET"!==this.rules.forMainDialog.execution_type&&"CHANGE_CAMPAIGN_BUDGET"!==this.rules.forMainDialog.execution_type||this.rules.forMainDialog.execution.budget_percents||(a=!1),this.rules.forMainDialog.name&&e&&t&&a?("edit"===this.mainDialogMode?this.$store.dispatch("rules/editRule"):this.$store.dispatch("rules/createRule"),this.$store.dispatch("rules/setWarning",!1)):this.$store.dispatch("rules/setWarning",!0)}}},Ra=ya,$a=(a("e799"),a("71d9")),Sa=a("2a7f"),wa=Object(u["a"])(Ra,Be,Le,!1,null,null,null),Ca=wa.exports;p()(wa,{VBtn:$["a"],VCard:S["a"],VCardTitle:w["c"],VCol:C["a"],VDialog:D["a"],VIcon:k["a"],VRow:A["a"],VSpacer:V["a"],VToolbar:$a["a"],VToolbarItems:Sa["a"],VToolbarTitle:Sa["b"]});var Da=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-card",[a("v-card-text",{staticStyle:{padding:"0px 8px 0px 8px"}},[a("v-data-table",{attrs:{value:e.rules.selected,headers:e.cols,items:e.rules.filtered,loading:e.loading.mainTable,"loading-text":e.$t("common.loading"),"fixed-header":"",height:e.innerHeight-50-48-36,page:e.page,"items-per-page":e.itemsPerPage,"custom-sort":e.customSortsRules,"hide-default-footer":"","mobile-breakpoint":0,"header-props":{"sort-icon":"arrow_downward"},"show-select":""},on:{"update:page":[function(t){e.page=t},e.updatePage],"page-count":function(t){e.pageCount=t},input:e.selectItem,"update:items-per-page":function(t){return e.setItemsPerPage(t)}},scopedSlots:e._u([{key:"item.name",fn:function(e){var t=e.item;return[a("main-table-name",{attrs:{item:t}})]}},{key:"item.data",fn:function(e){var t=e.item;return[a("main-table-data",{attrs:{item:t}})]}},{key:"item.conditions",fn:function(e){var t=e.item;return[a("main-table-conditions",{attrs:{item:t}})]}}])}),a("div",{staticClass:"d-flex justify-end align-center dolphin-main-table-footer",class:{"justify-center":e.$vuetify.breakpoint.xs||e.$vuetify.breakpoint.sm,"justify-space-between":!e.$vuetify.breakpoint.xs&&!e.$vuetify.breakpoint.sm}},[e.$vuetify.breakpoint.xs||e.$vuetify.breakpoint.sm?e._e():a("div",{staticClass:"dolphin-main-table-footer-tags",staticStyle:{overflow:"hidden","white-space":"nowrap","overflow-x":"auto","scroll-direction":"horizontal",width:"auto","margin-right":"auto"}}),a("div",{staticClass:"mx-2",staticStyle:{"white-space":"nowrap"}},[e._v(" "+e._s(e.currentTableItems+" "+e.$t("common.of").toLowerCase()+" "+e.itemsCount)+" ")]),a("div",{staticStyle:{"white-space":"nowrap"}},[a("v-btn",{attrs:{icon:"","x-small":"",disabled:1===e.page},on:{click:function(t){return e.changePage(!1)}}},[a("v-icon",{attrs:{size:12}},[e._v(" fas fa-chevron-left ")])],1),a("v-chip",{staticClass:"mx-2",attrs:{label:"",color:"primary",small:""}},[e._v(" "+e._s(e.page)+" ")]),a("v-btn",{attrs:{icon:"","x-small":"",disabled:e.page===e.pageCount},on:{click:function(t){return e.changePage(!0)}}},[a("v-icon",{attrs:{size:12}},[e._v(" fas fa-chevron-right ")])],1)],1),a("v-select",{staticClass:"dolphin-main-table-footer-items-per-page",class:{"dolphin-main-table-footer-items-per-page-mobile":e.$vuetify.breakpoint.sm||e.$vuetify.breakpoint.xs},staticStyle:{"max-width":"60px"},attrs:{value:e.itemsPerPage,items:[10,30,50,100,-1],"hide-details":"",dense:"",solo:""},on:{change:function(t){return e.setItemsPerPage(t)}},scopedSlots:e._u([{key:"item",fn:function(t){var a=t.item;return[e._v(" "+e._s(-1===a?e.$t("common.all"):a)+" ")]}},{key:"selection",fn:function(t){var a=t.item;return[e._v(" "+e._s(-1===a?e.$t("common.all"):a)+" ")]}}])})],1)],1)],1)],1)},ka=[],Ta=a("4367"),Ma=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"py-2"},e._l(e.item.conditions,(function(t,s){return a("v-chip",{key:"condition-"+s+"-"+t.parameter+"-"+t.value,staticClass:"mr-1",attrs:{color:"primary",outlined:"",small:"",label:""}},[e._v(" "+e._s(e.$t("autoRules.fbRules.static.parameter."+t.parameter)+" "+e.$t("autoRules.fbRules.static.operator."+t.operator.toLowerCase())+" "+t.value)+" ")])})),1)},Aa=[],Va={name:"RulesMainTableConditions",props:{item:{type:Object,default:()=>({})}}},Oa=Va,Pa=Object(u["a"])(Oa,Ma,Aa,!1,null,null,null),Ea=Pa.exports;p()(Pa,{VChip:Y["a"]});var Ga=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"py-2"},["PAUSE"===e.item.execution_type?a("div",[a("v-chip",{staticClass:"mr-1",attrs:{color:"red",outlined:"",small:"",label:""}},[e._v(" "+e._s(e.$t("autoRules.fbRules.static.whatToDoType."+e.item.execution_type.toLowerCase())+" "+e.$t("autoRules.fbRules.static.whatToWorkWithType."+e.item.entity_type.toLowerCase()).toLowerCase())+" ")])],1):e._e(),"UNPAUSE"===e.item.execution_type?a("div",[a("v-chip",{staticClass:"mr-1",attrs:{color:"green",outlined:"",small:"",label:""}},[e._v(" "+e._s(e.$t("autoRules.fbRules.static.whatToDoType."+e.item.execution_type.toLowerCase())+" "+e.$t("autoRules.fbRules.static.whatToWorkWithType."+e.item.entity_type.toLowerCase()).toLowerCase())+" ")])],1):e._e(),"CHANGE_BUDGET"===e.item.execution_type||"CHANGE_CAMPAIGN_BUDGET"===e.item.execution_type?a("div",[a("v-chip",{staticClass:"mr-1",attrs:{color:e.item.execution.budget_change_amount>0?"green":"red",outlined:"",small:"",label:""}},[e._v(" "+e._s(("en"===e.profile.language?(e.item.execution.budget_change_amount>0?e.$t("common.increase"):e.$t("common.decrease"))+" "+("daily"===e.item.budget_type?e.$t("common.daily").toLowerCase()+" ":e.$t("common.lifetime").toLowerCase()+" ")+e.$t("common.budget").toLowerCase()+" ":(e.item.execution.budget_change_amount>0?e.$t("autoRules.fbRules.static.budgetIncrease"):e.$t("autoRules.fbRules.static.budgetDecrease"))+" ("+("daily"===e.item.budget_type?e.$t("common.daily").toLowerCase():e.$t("common.lifetime").toLowerCase())+") ")+e.$t("autoRules.fbRules.static.whatToWorkWithType."+("AD"===e.item.entity_type?"ofAd":"ADSET"===e.item.entity_type?"ofAdset":"ofCampaign")).toLowerCase()+" "+e.$t("autoRules.fbRules.static.by").toLowerCase()+" "+(e.item.execution.budget_change_amount||0)+"%")+" ")])],1):e._e(),a("div",[e._v(" "+e._s(e.$t("autoRules.fbRules.static.statPeriod")+": "+e.$t("autoRules.fbRules.static.statPeriods."+e.item.time_preset.toLowerCase()))+" ")]),a("div",[e._v(" "+e._s(e.$t("autoRules.fbRules.static.frequency")+": "+e.$t("autoRules.fbRules.static.frequencyTypes."+e.item.schedule_type.toLowerCase()))+" ")])])},Ia=[],Na={name:"RulesMainTableData",props:{item:{type:Object,default:()=>({})}},computed:{...Object(r["c"])({profile:"main/profile"})}},ja=Na,Wa=Object(u["a"])(ja,Ga,Ia,!1,null,null,null),Ba=Wa.exports;p()(Wa,{VChip:Y["a"]});var La=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("span",{staticStyle:{cursor:"pointer",color:"#2196F3","text-decoration":"underline"},on:{click:function(t){return e.editRule(e.item)}}},[e._v(" "+e._s(e.item.name)+" ")])])},Fa=[],Ua={name:"RulesMainTableName",props:{item:{type:Object,default:()=>({})}},methods:{async editRule(e){await this.$store.dispatch("rules/setMainDialogMode","edit");const t=this.$_.cloneDeep(e);t.convert_currency=1===t.convert_currency,t.conditions.forEach(e=>{""===e.value&&(e.value=null)}),await this.$store.dispatch("rules/setForMainDialog",t),this.$store.dispatch("rules/openDialog","mainDialog")}}},Ha=Ua,za=Object(u["a"])(Ha,La,Fa,!1,null,null,null),Ka=za.exports,Ya={name:"RulesMainTable",components:{MainTableConditions:Ea,MainTableData:Ba,MainTableName:Ka},mixins:[Ta["a"]],data(){return{cols:[{text:this.$t("common.name"),value:"name",width:300},{text:this.$t("common.data"),value:"data",width:300},{text:this.$t("autoRules.fbRules.static.conditions"),value:"conditions",width:200}],itemsPerPage:50}},computed:{...Object(r["c"])({rules:"rules/rules",selected:"rules/selected",innerHeight:"main/innerHeight",loading:"rules/loading",filters:"rules/filters",pageCount:"rules/count",itemsCount:"rules/itemsCount",page:"rules/page",profile:"main/profile"}),currentTableItems(){return-1===this.itemsPerPage||this.itemsPerPage>this.rules.filtered.length?this.rules.filtered.length:1===this.page?"1 - "+this.itemsPerPage:this.page===this.pageCount?`${this.page*this.itemsPerPage-(this.itemsPerPage-1)} - ${this.rules.filtered.length}`:`${this.page*this.itemsPerPage-(this.itemsPerPage-1)} - ${this.page*this.itemsPerPage}`}},created(){this.$store.dispatch("rules/loadRules")},methods:{selectItem(e){this.$store.dispatch("rules/setSelected",e)},setItemsPerPage(e){setTimeout(()=>{this.setWidths("Rules")},100),localStorage.setItem("autorules-per-page-count",e),localStorage.setItem("autorules-page","1"),this.$store.dispatch("rules/loadRules"),this.itemsPerPage=e,this.page=1},updatePage(){setTimeout(()=>{this.setWidths("Rules")},100)},changePage(e){let t=1;t=this.page=e?this.page+1:this.page-1,this.$store.dispatch("rules/setPage",t),this.$store.dispatch("rules/loadRules")}}},qa=Ya,Za=Object(u["a"])(qa,Da,ka,!1,null,null,null),Xa=Za.exports;p()(Za,{VBtn:$["a"],VCard:S["a"],VCardText:w["b"],VChip:Y["a"],VDataTable:Q["a"],VIcon:k["a"],VSelect:dt["a"]});var Ja=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-row",{staticClass:"topbar-row"},[a("v-col",{attrs:{cols:"12",sm:"9"}},[a("div",[a("topbar-actions")],1),a("div",{staticClass:"pt-0 pb-2 mr-8",staticStyle:{float:"right",width:"134px","text-align":"center"}},[a("v-btn",{staticClass:"white--text",staticStyle:{"margin-top":"2px"},attrs:{small:"",text:"",color:"primary"},on:{click:e.createRule}},[a("v-icon",{staticClass:"mr-1",attrs:{size:18}},[e._v(" add ")]),e._v(" "+e._s(e.$t("autoRules.createRule"))+" ")],1)],1)]),a("v-col",{attrs:{cols:"12",sm:"3"}},[a("v-row",[a("v-col",{staticClass:"pt-0 pb-2",attrs:{cols:"12"}},[a("v-text-field",{attrs:{dense:"",clearable:"",solo:"",label:e.$t("filters.searchByName"),"single-line":"","prepend-inner-icon":"fas fa-search","hide-details":"",value:e.filters.search},on:{input:e.filterSearch}})],1)],1)],1)],1)},Qa=[],es=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"pt-0 pb-2",staticStyle:{float:"left"}},[a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var s=t.on;return[a("v-btn",e._g({staticStyle:{"min-width":"0",width:"30px","margin-top":"1px"},attrs:{small:"",disabled:0===e.rules.selected.length,color:"primary",text:""},on:{click:e.multipleDuplicate}},s),[a("v-icon",{attrs:{size:12}},[e._v(" fas fa-copy ")])],1)]}}])},[a("span",[e._v(e._s(e.$t("common.duplicate")))])])],1),a("div",{staticClass:"pt-0 pb-2",staticStyle:{float:"left"}},[a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var s=t.on;return[a("v-btn",e._g({staticStyle:{"min-width":"0",width:"30px","margin-top":"1px"},attrs:{small:"",disabled:0===e.rules.selected.length,color:"primary",text:"",loading:e.loading.deleteRule},on:{click:e.deleteRule}},s),[a("v-icon",{attrs:{size:12}},[e._v(" fas fa-trash ")])],1)]}}])},[a("span",[e._v(e._s(e.$t("common.delete")))])])],1),a("div",{staticClass:"pt-0 pb-2",staticStyle:{float:"left"}},[a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var s=t.on;return[a("v-btn",e._g({staticStyle:{"min-width":"0",width:"30px","margin-top":"1px"},attrs:{small:"",disabled:0===e.rules.selected.length,color:"primary",text:"",loading:e.loading.shareRule},on:{click:e.shareRule}},s),[a("v-icon",{attrs:{size:12}},[e._v(" fas fa-share-alt ")])],1)]}}])},[a("span",[e._v(e._s(e.$t("common.share")))])])],1),a("div",{staticClass:"pt-0 pb-2",staticStyle:{float:"left"}},[a("div",{staticClass:"body-2 ml-3",staticStyle:{"padding-bottom":"3px"},style:{color:e.rules.selected.length>0?"":"gray",paddingTop:"5px"}},[e._v(" "+e._s(e.$t("common.selected"))+": "+e._s(e.rules.selected.length)+" ")])])])},ts=[],as={name:"RulesTopbarActions",computed:{...Object(r["c"])({loading:"rules/loading",rules:"rules/rules"})},methods:{deleteRule(){if(!confirm(this.$t("common.confirmPlease")))return;let e=this.rules.selected.map(e=>e.id);this.$store.dispatch("rules/deleteRule",e)},shareRule(){this.$store.dispatch("rules/openDialog","share")},async multipleDuplicate(){if(!confirm(this.$t("common.confirmPlease")))return;let e={param:"mainTable",value:!0};await this.$store.dispatch("rules/setLoading",e);for(let t of this.rules.selected)await this.$store.dispatch("rules/multipleDuplicate",t.id);e={param:"mainTable",value:!1},await this.$store.dispatch("rules/setLoading",e),this.$store.dispatch("rules/loadRules"),this.$store.dispatch("rules/clearSelected")}}},ss=as,is=Object(u["a"])(ss,es,ts,!1,null,null,null),os=is.exports;p()(is,{VBtn:$["a"],VIcon:k["a"],VTooltip:fe["a"]});var ls={name:"RulesTopbar",components:{TopbarActions:os},data(){return{searchText:""}},computed:{...Object(r["c"])({filters:"rules/filters"})},methods:{filterSearch(e){e&&e.length>0&&this.$store.dispatch("rules/clearSelected"),this.searchText=e;const t={filter:"search",data:e};setTimeout(async()=>{e===this.searchText&&await this.$store.dispatch("rules/setSpecificFilter",t)},500)},async createRule(){await this.$store.dispatch("rules/setMainDialogMode","create"),this.$store.dispatch("rules/openDialog","mainDialog")}}},rs=ls,ns=Object(u["a"])(rs,Ja,Qa,!1,null,null,null),cs=ns.exports;p()(ns,{VBtn:$["a"],VCol:C["a"],VIcon:k["a"],VRow:A["a"],VTextField:ne["a"]});var us={name:"Rules",components:{MainDialog:Ca,MainTable:Xa,DialogShare:We,Topbar:cs},data(){return{updateInterval:null}},computed:{...Object(r["c"])({dialogs:"rules/dialogs"})},created(){this.$store.dispatch("rules/loadFilters"),this.$store.dispatch("rules/loadRules"),this.updateInterval=setInterval(()=>{this.$store.dispatch("rules/loadRules")},6e4)},beforeDestroy(){clearInterval(this.updateInterval)}},ds=us,ps=Object(u["a"])(ds,Oe,Pe,!1,null,null,null),ms=ps.exports,_s={name:"AutoRules",components:{Tabs:v,Rules:ms,Groups:De,Roi:Ve},computed:{componentName(){return"undefined"!==typeof this.$route.params.tab?this.$route.params.tab:"rules"}}},hs=_s,vs=Object(u["a"])(hs,s,i,!1,null,null,null);t["default"]=vs.exports},e799:function(e,t,a){"use strict";a("1abd")}}]);
//# sourceMappingURL=autorules.dedcd474.js.map