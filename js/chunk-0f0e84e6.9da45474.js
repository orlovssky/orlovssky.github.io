(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0f0e84e6"],{"033b":function(t,e,a){},"04ca":function(t,e,a){"use strict";var s=a("457de"),o=a("eb94"),n=a("8362");t.exports=function(t){if(!t)return!1;if(s(t))return!0;if(n(t)||o(t))return!1;t=Object(t);var e="length"in t&&t.length;return!(1!==t.nodeType||!e)||(0===e||"number"===typeof e&&e>0&&e-1 in t)}},"11bf":function(t,e,a){"use strict";var s=a("14bd"),o=a("fec5"),n=a("c857"),i=a("8362"),c=NaN;t.exports=function(t){if(s(t))return 0;var e=typeof t;if("number"===e)return t;if("boolean"===e)return t?1:0;if(o(t))return c;if(n(t)){var a=i(t.valueOf)?t.valueOf():t;t=n(a)?a+"":a}return e=typeof t,"string"!==e?"number"===e?t:parseInt(t,10):(t=t.replace(/^\s+|\s+$/g,""),/^0b[01]+$/i.test(t)?parseInt(t.slice(2),2):/^0o[0-7]+$/i.test(t)?parseInt(t.slice(2),8):/^0x[0-9a-f]+$/i.test(t)?parseInt(t.slice(2),16):/^0b/i.test(t)||/^0o/i.test(t)||/^[\+\-]?0x/i.test(t)?c:parseInt(t,10))}},"14bd":function(t,e,a){"use strict";t.exports=function(t){return null==t}},1696:function(t,e,a){"use strict";t.exports=function(){if("function"!==typeof Symbol||"function"!==typeof Object.getOwnPropertySymbols)return!1;if("symbol"===typeof Symbol.iterator)return!0;var t={},e=Symbol("test"),a=Object(e);if("string"===typeof e)return!1;if("[object Symbol]"!==Object.prototype.toString.call(e))return!1;if("[object Symbol]"!==Object.prototype.toString.call(a))return!1;var s=42;for(e in t[e]=s,t)return!1;if("function"===typeof Object.keys&&0!==Object.keys(t).length)return!1;if("function"===typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(t).length)return!1;var o=Object.getOwnPropertySymbols(t);if(1!==o.length||o[0]!==e)return!1;if(!Object.prototype.propertyIsEnumerable.call(t,e))return!1;if("function"===typeof Object.getOwnPropertyDescriptor){var n=Object.getOwnPropertyDescriptor(t,e);if(n.value!==s||!0!==n.enumerable)return!1}return!0}},1945:function(t,e){t.exports=["aaa","aarp","abarth","abb","abbott","abbvie","abc","able","abogado","abudhabi","ac","academy","accenture","accountant","accountants","aco","actor","ad","adac","ads","adult","ae","aeg","aero","aetna","af","afl","africa","ag","agakhan","agency","ai","aig","airbus","airforce","airtel","akdn","al","alfaromeo","alibaba","alipay","allfinanz","allstate","ally","alsace","alstom","am","amazon","americanexpress","americanfamily","amex","amfam","amica","amsterdam","analytics","android","anquan","anz","ao","aol","apartments","app","apple","aq","aquarelle","ar","arab","aramco","archi","army","arpa","art","arte","as","asda","asia","associates","at","athleta","attorney","au","auction","audi","audible","audio","auspost","author","auto","autos","avianca","aw","aws","ax","axa","az","azure","ba","baby","baidu","banamex","bananarepublic","band","bank","bar","barcelona","barclaycard","barclays","barefoot","bargains","baseball","basketball","bauhaus","bayern","bb","bbc","bbt","bbva","bcg","bcn","bd","be","beats","beauty","beer","bentley","berlin","best","bestbuy","bet","bf","bg","bh","bharti","bi","bible","bid","bike","bing","bingo","bio","biz","bj","black","blackfriday","blockbuster","blog","bloomberg","blue","bm","bms","bmw","bn","bnpparibas","bo","boats","boehringer","bofa","bom","bond","boo","book","booking","bosch","bostik","boston","bot","boutique","box","br","bradesco","bridgestone","broadway","broker","brother","brussels","bs","bt","bugatti","build","builders","business","buy","buzz","bv","bw","by","bz","bzh","ca","cab","cafe","cal","call","calvinklein","cam","camera","camp","cancerresearch","canon","capetown","capital","capitalone","car","caravan","cards","care","career","careers","cars","casa","case","cash","casino","cat","catering","catholic","cba","cbn","cbre","cbs","cc","cd","center","ceo","cern","cf","cfa","cfd","cg","ch","chanel","channel","charity","chase","chat","cheap","chintai","christmas","chrome","church","ci","cipriani","circle","cisco","citadel","citi","citic","city","cityeats","ck","cl","claims","cleaning","click","clinic","clinique","clothing","cloud","club","clubmed","cm","cn","co","coach","codes","coffee","college","cologne","com","comcast","commbank","community","company","compare","computer","comsec","condos","construction","consulting","contact","contractors","cooking","cookingchannel","cool","coop","corsica","country","coupon","coupons","courses","cpa","cr","credit","creditcard","creditunion","cricket","crown","crs","cruise","cruises","cu","cuisinella","cv","cw","cx","cy","cymru","cyou","cz","dabur","dad","dance","data","date","dating","datsun","day","dclk","dds","de","deal","dealer","deals","degree","delivery","dell","deloitte","delta","democrat","dental","dentist","desi","design","dev","dhl","diamonds","diet","digital","direct","directory","discount","discover","dish","diy","dj","dk","dm","dnp","do","docs","doctor","dog","domains","dot","download","drive","dtv","dubai","dunlop","dupont","durban","dvag","dvr","dz","earth","eat","ec","eco","edeka","edu","education","ee","eg","email","emerck","energy","engineer","engineering","enterprises","epson","equipment","er","ericsson","erni","es","esq","estate","et","etisalat","eu","eurovision","eus","events","exchange","expert","exposed","express","extraspace","fage","fail","fairwinds","faith","family","fan","fans","farm","farmers","fashion","fast","fedex","feedback","ferrari","ferrero","fi","fiat","fidelity","fido","film","final","finance","financial","fire","firestone","firmdale","fish","fishing","fit","fitness","fj","fk","flickr","flights","flir","florist","flowers","fly","fm","fo","foo","food","foodnetwork","football","ford","forex","forsale","forum","foundation","fox","fr","free","fresenius","frl","frogans","frontdoor","frontier","ftr","fujitsu","fun","fund","furniture","futbol","fyi","ga","gal","gallery","gallo","gallup","game","games","gap","garden","gay","gb","gbiz","gd","gdn","ge","gea","gent","genting","george","gf","gg","ggee","gh","gi","gift","gifts","gives","giving","gl","glass","gle","global","globo","gm","gmail","gmbh","gmo","gmx","gn","godaddy","gold","goldpoint","golf","goo","goodyear","goog","google","gop","got","gov","gp","gq","gr","grainger","graphics","gratis","green","gripe","grocery","group","gs","gt","gu","guardian","gucci","guge","guide","guitars","guru","gw","gy","hair","hamburg","hangout","haus","hbo","hdfc","hdfcbank","health","healthcare","help","helsinki","here","hermes","hgtv","hiphop","hisamitsu","hitachi","hiv","hk","hkt","hm","hn","hockey","holdings","holiday","homedepot","homegoods","homes","homesense","honda","horse","hospital","host","hosting","hot","hoteles","hotels","hotmail","house","how","hr","hsbc","ht","hu","hughes","hyatt","hyundai","ibm","icbc","ice","icu","id","ie","ieee","ifm","ikano","il","im","imamat","imdb","immo","immobilien","in","inc","industries","infiniti","info","ing","ink","institute","insurance","insure","int","international","intuit","investments","io","ipiranga","iq","ir","irish","is","ismaili","ist","istanbul","it","itau","itv","jaguar","java","jcb","je","jeep","jetzt","jewelry","jio","jll","jm","jmp","jnj","jo","jobs","joburg","jot","joy","jp","jpmorgan","jprs","juegos","juniper","kaufen","kddi","ke","kerryhotels","kerrylogistics","kerryproperties","kfh","kg","kh","ki","kia","kids","kim","kinder","kindle","kitchen","kiwi","km","kn","koeln","komatsu","kosher","kp","kpmg","kpn","kr","krd","kred","kuokgroup","kw","ky","kyoto","kz","la","lacaixa","lamborghini","lamer","lancaster","lancia","land","landrover","lanxess","lasalle","lat","latino","latrobe","law","lawyer","lb","lc","lds","lease","leclerc","lefrak","legal","lego","lexus","lgbt","li","lidl","life","lifeinsurance","lifestyle","lighting","like","lilly","limited","limo","lincoln","linde","link","lipsy","live","living","lk","llc","llp","loan","loans","locker","locus","loft","lol","london","lotte","lotto","love","lpl","lplfinancial","lr","ls","lt","ltd","ltda","lu","lundbeck","luxe","luxury","lv","ly","ma","macys","madrid","maif","maison","makeup","man","management","mango","map","market","marketing","markets","marriott","marshalls","maserati","mattel","mba","mc","mckinsey","md","me","med","media","meet","melbourne","meme","memorial","men","menu","merckmsd","mg","mh","miami","microsoft","mil","mini","mint","mit","mitsubishi","mk","ml","mlb","mls","mm","mma","mn","mo","mobi","mobile","moda","moe","moi","mom","monash","money","monster","mormon","mortgage","moscow","moto","motorcycles","mov","movie","mp","mq","mr","ms","msd","mt","mtn","mtr","mu","museum","music","mutual","mv","mw","mx","my","mz","na","nab","nagoya","name","natura","navy","nba","nc","ne","nec","net","netbank","netflix","network","neustar","new","news","next","nextdirect","nexus","nf","nfl","ng","ngo","nhk","ni","nico","nike","nikon","ninja","nissan","nissay","nl","no","nokia","northwesternmutual","norton","now","nowruz","nowtv","np","nr","nra","nrw","ntt","nu","nyc","nz","obi","observer","office","okinawa","olayan","olayangroup","oldnavy","ollo","om","omega","one","ong","onl","online","ooo","open","oracle","orange","org","organic","origins","osaka","otsuka","ott","ovh","pa","page","panasonic","paris","pars","partners","parts","party","passagens","pay","pccw","pe","pet","pf","pfizer","pg","ph","pharmacy","phd","philips","phone","photo","photography","photos","physio","pics","pictet","pictures","pid","pin","ping","pink","pioneer","pizza","pk","pl","place","play","playstation","plumbing","plus","pm","pn","pnc","pohl","poker","politie","porn","post","pr","pramerica","praxi","press","prime","pro","prod","productions","prof","progressive","promo","properties","property","protection","pru","prudential","ps","pt","pub","pw","pwc","py","qa","qpon","quebec","quest","racing","radio","re","read","realestate","realtor","realty","recipes","red","redstone","redumbrella","rehab","reise","reisen","reit","reliance","ren","rent","rentals","repair","report","republican","rest","restaurant","review","reviews","rexroth","rich","richardli","ricoh","ril","rio","rip","ro","rocher","rocks","rodeo","rogers","room","rs","rsvp","ru","rugby","ruhr","run","rw","rwe","ryukyu","sa","saarland","safe","safety","sakura","sale","salon","samsclub","samsung","sandvik","sandvikcoromant","sanofi","sap","sarl","sas","save","saxo","sb","sbi","sbs","sc","sca","scb","schaeffler","schmidt","scholarships","school","schule","schwarz","science","scot","sd","se","search","seat","secure","security","seek","select","sener","services","ses","seven","sew","sex","sexy","sfr","sg","sh","shangrila","sharp","shaw","shell","shia","shiksha","shoes","shop","shopping","shouji","show","showtime","si","silk","sina","singles","site","sj","sk","ski","skin","sky","skype","sl","sling","sm","smart","smile","sn","sncf","so","soccer","social","softbank","software","sohu","solar","solutions","song","sony","soy","spa","space","sport","spot","sr","srl","ss","st","stada","staples","star","statebank","statefarm","stc","stcgroup","stockholm","storage","store","stream","studio","study","style","su","sucks","supplies","supply","support","surf","surgery","suzuki","sv","swatch","swiss","sx","sy","sydney","systems","sz","tab","taipei","talk","taobao","target","tatamotors","tatar","tattoo","tax","taxi","tc","tci","td","tdk","team","tech","technology","tel","temasek","tennis","teva","tf","tg","th","thd","theater","theatre","tiaa","tickets","tienda","tiffany","tips","tires","tirol","tj","tjmaxx","tjx","tk","tkmaxx","tl","tm","tmall","tn","to","today","tokyo","tools","top","toray","toshiba","total","tours","town","toyota","toys","tr","trade","trading","training","travel","travelchannel","travelers","travelersinsurance","trust","trv","tt","tube","tui","tunes","tushu","tv","tvs","tw","tz","ua","ubank","ubs","ug","uk","unicom","university","uno","uol","ups","us","uy","uz","va","vacations","vana","vanguard","vc","ve","vegas","ventures","verisign","versicherung","vet","vg","vi","viajes","video","vig","viking","villas","vin","vip","virgin","visa","vision","viva","vivo","vlaanderen","vn","vodka","volkswagen","volvo","vote","voting","voto","voyage","vu","vuelos","wales","walmart","walter","wang","wanggou","watch","watches","weather","weatherchannel","webcam","weber","website","wed","wedding","weibo","weir","wf","whoswho","wien","wiki","williamhill","win","windows","wine","winners","wme","wolterskluwer","woodside","work","works","world","wow","ws","wtc","wtf","xbox","xerox","xfinity","xihuan","xin","कॉम","セール","佛山","ಭಾರತ","慈善","集团","在线","한국","ଭାରତ","点看","คอม","ভাৰত","ভারত","八卦","ישראל","موقع","বাংলা","公益","公司","香格里拉","网站","移动","我爱你","москва","қаз","католик","онлайн","сайт","联通","срб","бг","бел","קום","时尚","微博","淡马锡","ファッション","орг","नेट","ストア","アマゾン","삼성","சிங்கப்பூர்","商标","商店","商城","дети","мкд","ею","ポイント","新闻","家電","كوم","中文网","中信","中国","中國","娱乐","谷歌","భారత్","ලංකා","電訊盈科","购物","クラウド","ભારત","通販","भारतम्","भारत","भारोत","网店","संगठन","餐厅","网络","ком","укр","香港","亚马逊","诺基亚","食品","飞利浦","台湾","台灣","手机","мон","الجزائر","عمان","ارامكو","ایران","العليان","اتصالات","امارات","بازار","موريتانيا","پاکستان","الاردن","بارت","بھارت","المغرب","ابوظبي","البحرين","السعودية","ڀارت","كاثوليك","سودان","همراه","عراق","مليسيا","澳門","닷컴","政府","شبكة","بيتك","عرب","გე","机构","组织机构","健康","ไทย","سورية","招聘","рус","рф","تونس","大拿","ລາວ","みんな","グーグル","ευ","ελ","世界","書籍","ഭാരതം","ਭਾਰਤ","网址","닷넷","コム","天主教","游戏","vermögensberater","vermögensberatung","企业","信息","嘉里大酒店","嘉里","مصر","قطر","广东","இலங்கை","இந்தியா","հայ","新加坡","فلسطين","政务","xxx","xyz","yachts","yahoo","yamaxun","yandex","ye","yodobashi","yoga","yokohama","you","youtube","yt","yun","za","zappos","zara","zero","zip","zm","zone","zuerich","zw"]},"20b3":function(t,e,a){"use strict";var s=a("53a5"),o=a("5bc1"),n=a("a212"),i=2,c=18;t.exports=function(t){t=t||{syllables:o({min:1,max:3,inspected:!0})};var e=t.length,a=t.syllables,r="";if(a){for(var l=0;l<a;l++)r+=n();return r.substring(0,c)}e||!t.min&&!t.max||(e=o({min:t.min||i,max:t.max||c})),e=e||o({min:i,max:c,inspected:!0}),e=s(e,i,c);while(r.length<e)r+=n();return r.substring(0,e)}},2379:function(t,e,a){},"2de2":function(t,e,a){"use strict";var s=a("14bd"),o=a("c857"),n=a("de4d"),i=a("5bc1"),c={lower:"abcdefghijklmnopqrstuvwxyz",upper:"ABCDEFGHIJKLMNOPQRSTUVWXYZ",number:"0123456789",symbol:"~!@#$%^&()*_+-={}[]"};c.alpha=c.lower+c.upper,c["all"]=c.lower+c.upper+c.number+c.symbol,t.exports=function(t){var e;return o(t)||(s(t)?t={pool:c.all}:(t=n(t),t={pool:c[t]||t})),e=t.pool?t.pool:t.lower?c.lower:t.upper?c.upper:t.alpha?c.alpha:t.number?c.number:t.symbol?c.symbol:c.all,e=n(e),e.charAt(i({min:0,max:e.length-1,inspected:!0}))}},"334a":function(t,e,a){"use strict";a("7dbb")},"3ba1":function(t,e,a){"use strict";a("6ada")},"3cfc":function(t,e,a){"use strict";var s=a("de4d"),o=a("20b3"),n=a("9321");t.exports=function(t){var e=t&&t.domain?s(t.domain):n();return o()+"@"+e}},4373:function(t,e,a){},"457d":function(t,e,a){},"457de":function(t,e){var a=Array.isArray,s=Object.prototype.toString;t.exports=a||function(t){return!!t&&"[object Array]"==s.call(t)}},"4cbb":function(t,e,a){"use strict";a("dc95")},5156:function(t,e,a){"use strict";var s="undefined"!==typeof Symbol&&Symbol,o=a("1696");t.exports=function(){return"function"===typeof s&&("function"===typeof Symbol&&("symbol"===typeof s("foo")&&("symbol"===typeof Symbol("bar")&&o())))}},"53a5":function(t,e){function a(t,e,a){return e<a?t<e?e:t>a?a:t:t<a?a:t>e?e:t}t.exports=a},"59ef":function(t,e,a){"use strict";a("4373")},"5bc1":function(t,e,a){"use strict";var s=a("842f"),o=a("ce35");t.exports=function(t){return t?t.inspected||(t.min=s.fixme(t.min,0,o,!0),t.max=s.fixme(t.max,0,o,!1)):t={min:0,max:o},t.inspected=!0,s(t)},t.exports.fixme=s.fixme},6056:function(t,e,a){"use strict";a("033b")},6274:function(t,e,a){"use strict";t.exports=4294967295},"67cb":function(t,e,a){},"6ada":function(t,e,a){},"6d47":function(t,e,a){"use strict";var s=a("04ca"),o=a("d25b");t.exports=function(t){if(!t||!s(t))return t;var e=t.length;return e?t[o({max:e-1})]:void 0}},"74f6":function(t,e,a){},"7dbb":function(t,e,a){},8362:function(t,e){t.exports=s;var a=Object.prototype.toString;function s(t){if(!t)return!1;var e=a.call(t);return"[object Function]"===e||"function"===typeof t&&"[object RegExp]"!==e||"undefined"!==typeof window&&(t===window.setTimeout||t===window.alert||t===window.confirm||t===window.prompt)}},"842f":function(t,e,a){"use strict";var s=a("53a5"),o=a("11bf"),n=a("ce35"),i=-n;function c(t,e,a,n){return"number"!==typeof t&&(t=o(t)),isNaN(t)||!isFinite(t)?n?e:a:s(t,e,a)}t.exports=function(t){t?t.inspected||(t.min=c(t.min,i,n,!0),t.max=c(t.max,i,n,!1)):t={min:i,max:n};var e=t.min,a=t.max;return e>a&&(e^=a,a^=e,e^=a),Math.round(Math.random()*(a-e))+e},t.exports.fixme=c},9321:function(t,e,a){"use strict";var s=a("53a5"),o=a("fd15"),n=a("20b3");t.exports=function(t){t=t||{level:1},t.tld||(t.tld=o());var e=s(t.level||1,1,10),a=[];while(e--)a.push(n());return a.push(t.tld),a.join(".")}},9608:function(t,e,a){"use strict";a("d1a8")},a212:function(t,e,a){"use strict";var s=a("53a5"),o=a("c857"),n=a("11bf"),i=a("2de2"),c=a("5bc1");t.exports=function(t){var e=o(t)?t.length:t;e?(e=n(e),e=s(e,2,3)):e=c({min:2,max:3});for(var a,r="bcdfghjklmnprstvwz",l="aeiou",d=r+l,u="",p=0;p<e;p++)a=0===p?i({pool:d}):-1===r.indexOf(a)?i({pool:r}):i({pool:l}),u+=a;return u}},b299:function(t,e,a){"use strict";a("e8ee")},b741:function(t,e,a){"use strict";a("74f6")},bac8:function(t,e,a){"use strict";a("67cb")},bad2:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"viewAdsmanagerAccounts"}},[t.dialogs.add?a("single-add-dialog"):t._e(),t.dialogs.edit?a("edit-dialog"):t._e(),t.dialogs.multipleShare?a("multiple-share-dialog"):t._e(),t.dialogs.multipleAssignTags?a("multiple-assign-tags-dialog"):t._e(),t.dialogs.assignTags?a("assign-tags-dialog"):t._e(),t.dialogs.share?a("share-dialog"):t._e(),t.dialogs.permissions?a("permissions-sidebar"):t._e(),t.dialogs.acceptRules?a("dialog-accept-rules"):t._e(),t.dialogs.createBm?a("dialog-create-bm"):t._e(),t.dialogs.createFanPage?a("dialog-create-fan-page"):t._e(),t.dialogs.initPersonalCab?a("dialog-init-personal-cab"):t._e(),t.dialogs.moveAccountsToAnotherUser?a("dialog-move-accounts-to-another-user"):t._e(),t.dialogs.noFacebookIdInfo?a("dialog-no-facebook-id-info"):t._e(),t.dialogs.unarchive?a("dialog-unarchive"):t._e(),t.dialogs.mainInfo?a("dialog-main-info"):t._e(),t.dialogs.changeProxy?a("dialog-change-proxy"):t._e(),t.dialogs.approveDeletion?a("dialog-approve-deletion"):t._e(),t.dialogs.shareFanPage?a("dialog-share-fan-page"):t._e(),t.dialogs.additionalTokensInfo?a("dialog-additional-tokens-info"):t._e(),t.dialogs.adAccountsManagement?a("dialog-ad-accounts-management"):t._e(),t.dialogs.pageAppeal?a("dialog-page-appeal"):t._e(),t.dialogs.turnOffPageNotifications?a("dialog-turn-off-page-notifications"):t._e(),a("topbar"),a("main-table")],1)},o=[],n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-dialog",{attrs:{value:t.dialogs.acceptRules,"hide-overlay":"",persistent:"",width:"300"}},[a("v-card",{staticClass:"pr-4",attrs:{color:"primary"}},[a("v-card-text",[a("div",{staticStyle:{display:"flex","justify-content":"space-between","align-items":"center","min-height":"40px",color:"white"}},[a("div",[t._v(" "+t._s(t.$t("dialogs.accounts.acceptRules.loadingText"))+" ")]),a("div",[t._v(" "+t._s(t.acceptRulesLoading.done)+" / "+t._s(t.acceptRulesLoading.accounts.length)+" ")])]),a("v-progress-linear",{staticClass:"mb-0",attrs:{indeterminate:"",color:"white"}}),a("v-btn",{staticStyle:{position:"absolute",right:"2px",top:"2px"},attrs:{icon:"",small:""},on:{click:function(e){return t.$store.dispatch("accounts_v2/setLoadingOptions",{dialog:"acceptRulesLoading",option:"stopRequest",value:!0})}}},[a("v-icon",{attrs:{size:14,color:"white"}},[t._v(" fas fa-times-circle ")])],1)],1)],1)],1)],1)},i=[],c=a("bc3a"),r=a.n(c),l=a("2f62"),d={name:"AccountsDialogAcceptRules",data(){return{done:0}},computed:{...Object(l["c"])({accounts:"accounts_v2/ACCOUNTS",dialogs:"accounts_v2/dialogs",acceptRulesLoading:"accounts_v2/acceptRulesLoading"})},watch:{"acceptRulesLoading.stopRequest":{handler(){if(this.acceptRulesLoading.stopRequest){for(let t of this.acceptRulesLoading.source)t.cancel();this.$store.dispatch("accounts_v2/setLoadingOptions",{dialog:"acceptRulesLoading",option:"showLoading",value:!1})}}}},created(){if(!this.acceptRulesLoading.requestStatus){if(!confirm(this.$t("common.confirmPlease")))return this.$store.dispatch("accounts_v2/closeDialog","acceptRules");this.$store.dispatch("accounts_v2/setLoadingOptions",{dialog:"acceptRulesLoading",option:"requestStatus",value:!0}),this.$store.dispatch("accounts_v2/setLoadingOptions",{dialog:"acceptRulesLoading",option:"stopRequest",value:!1}),this.accounts.selected&&this.accounts.selected.length>0&&(this.$store.dispatch("accounts_v2/setLoadingOptions",{dialog:"acceptRulesLoading",option:"accounts",value:this.accounts.selected}),this.acceptRulesLoading.accounts.forEach((t,e)=>{const a=r.a.CancelToken;let s={dialog:"acceptRulesLoading",index:e,source:a.source()};this.$store.dispatch("accounts_v2/setLoadingSource",s),this.api("/accounts/accept_rules/"+t.id,{cancelToken:this.acceptRulesLoading.source[e].token}).catch(()=>!0).then(t=>{console.log(JSON.stringify(t.data))}).finally(()=>{this.$store.dispatch("accounts_v2/setLoadingOptions",{dialog:"acceptRulesLoading",option:"done",value:this.acceptRulesLoading.done+1}),this.acceptRulesLoading.done===this.acceptRulesLoading.accounts.length&&(this.$store.dispatch("accounts_v2/setLoadingOptions",{dialog:"acceptRulesLoading",option:"done",value:0}),this.$store.dispatch("accounts_v2/setLoadingOptions",{dialog:"acceptRulesLoading",option:"requestStatus",value:!1}),this.$store.dispatch("accounts_v2/closeDialog","acceptRules"),this.$store.dispatch("accounts_v2/LOAD_ACCOUNTS"))})}))}}},u=d,p=(a("e58a"),a("2877")),m=a("6544"),h=a.n(m),g=a("8336"),v=a("b0af"),f=a("99d9"),b=a("169a"),_=a("132d"),y=a("8e36"),x=Object(p["a"])(u,n,i,!1,null,"2d917b54",null),k=x.exports;h()(x,{VBtn:g["a"],VCard:v["a"],VCardText:f["b"],VDialog:b["a"],VIcon:_["a"],VProgressLinear:y["a"]});var w=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-dialog",{attrs:{value:t.dialogs.adAccountsManagement,width:800,transition:"dialog-bottom-transition",scrollable:""},on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"esc",27,e.key,["Esc","Escape"])?null:t.closeDialog(e)},"click:outside":t.closeDialog}},[a("v-dialog",{attrs:{width:"700",scrollable:""},model:{value:t.detailsDialog,callback:function(e){t.detailsDialog=e},expression:"detailsDialog"}},[a("v-card",[a("v-card-title",{staticClass:"headline"},[t._v(" "+t._s(t.$t("common.learnMore"))+" ")]),a("v-card-text",{staticStyle:{"margin-top":"40px"}},[a("div",{staticClass:"d-flex justify-end"},[a("div",{staticStyle:{position:"fixed","margin-top":"-40px"}},[a("v-btn",{attrs:{color:"primary",text:""},on:{click:function(e){t.copyToClipboard(JSON.stringify(t.forDetails))}}},[a("v-icon",{staticClass:"mr-2",attrs:{size:14}},[t._v(" fas fa-copy ")]),t._v(" "+t._s(t.$t("common.copy"))+" ")],1)],1)]),a("code",{staticClass:"mt-0"},[t._v(t._s(JSON.stringify(t.forDetails,null,2)))])]),a("v-divider"),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",text:""},on:{click:function(e){t.detailsDialog=!1}}},[t._v(" "+t._s(t.$t("common.close"))+" ")])],1)],1)],1),a("v-card",[a("v-toolbar",{attrs:{color:"primary",dark:"",flat:"",dense:""}},[a("v-btn",{attrs:{icon:""},on:{click:t.closeDialog}},[a("v-icon",[t._v("fas fa-times")])],1),a("v-toolbar-title",[t._v(" "+t._s(t.$t("adsmanager.accounts.adAccountsManagement"))+" ")]),a("v-spacer"),a("v-toolbar-items",[t.$vuetify.breakpoint.sm||t.$vuetify.breakpoint.xs?t._e():a("v-btn",{attrs:{text:""},on:{click:t.closeDialog}},[t._v(" "+t._s(t.$t("common.cancel"))+" ")]),a("v-btn",{attrs:{text:"",disabled:0===t.selectedCabs.length,loading:t.loading},on:{click:t.removeCabs}},[t._v(" "+t._s(t.$t("common.leaveAdAccounts"))+" ")])],1)],1),a("v-card-text",[a("v-data-table",{staticClass:"accounts-dialog-ad-accounts-management-accounts-table",attrs:{headers:t.colsAccounts,"fixed-header":"",items:t.accounts.selected},scopedSlots:t._u([{key:"item.account",fn:function(e){var a=e.item;return[t._v(" "+t._s(a.name)+" ")]}},{key:"item.adAccount",fn:function(e){var s=e.item;return[a("v-data-table",{staticClass:"accounts-dialog-ad-accounts-management-cabs-table",attrs:{headers:t.colsCabs,"hide-default-header":"","hide-default-footer":"",items:t.cabsFromAccount(s),"items-per-page":-1,"show-select":""},scopedSlots:t._u([{key:"item.data-table-select",fn:function(e){var o=e.item;return[a("v-checkbox",{attrs:{"input-value":t.selectedCabs.includes(o),disabled:!t.cabIsReady(s,o).value,ripple:!1},on:{change:function(e){return t.selectCab(o)}}})]}},{key:"item.adAccountName",fn:function(e){var a=e.item;return[t._v(" "+t._s(a.name)+" ")]}},{key:"item.adAccountStatus",fn:function(t){var e=t.item;return[a("cabs-status",{attrs:{cab:e,"show-notes":!1}})]}},{key:"item.jobStatus",fn:function(e){var o=e.item;return[t.cabIsReady(s,o).value?a("div",[t.responses[o.id]?t.responses&&t.responses[o.id]&&t.responses[o.id]["success"]?a("span",[a("v-icon",{attrs:{color:"green"}},[t._v(" check_box ")])],1):t.responses&&t.responses[o.id]&&!t.responses[o.id]["success"]?a("span",[a("v-icon",{attrs:{color:"red"}},[t._v(" cancel ")]),a("span",{staticStyle:{"font-size":"12px",cursor:"pointer",color:"#2196F3","text-decoration":"underline"},on:{click:function(e){return t.openDetails(t.responses[o.id]["response"])}}},[t._v(t._s(t.$t("common.learnMore")))])],1):t._e():a("v-progress-linear",{staticStyle:{"min-width":"50px"},attrs:{indeterminate:t.loadingCabs.includes(o.id),value:0}})],1):a("span",{staticStyle:{color:"#9E9E9E"}},[t._v(" "+t._s(t.cabIsReady(s,o).text)+" ")])]}}],null,!0),model:{value:t.selectedCabs,callback:function(e){t.selectedCabs=e},expression:"selectedCabs"}})]}}],null,!0)})],1)],1)],1)},$=[],C=a("f168"),A=a("1d0f"),T={name:"AccountsDialogAdAccountsManagement",components:{CabsStatus:A["a"]},mixins:[C["a"]],data(){return{detailsDialog:!1,forDetails:[],loading:!1,cabs:[],selectedCabs:[],responses:{},loadingCabs:[]}},computed:{...Object(l["c"])({accounts:"accounts_v2/accounts",dialogs:"accounts_v2/dialogs"}),colsAccounts(){let t=[];return t.push({text:this.$t("common.account"),value:"account",width:150}),t.push({text:this.$t("common.adAccount"),value:"adAccount"}),t},colsCabs(){let t=[];return t.push({text:this.$t("common.adAccount"),value:"adAccountName",width:150}),t.push({text:this.$t("common.adAccountStatus"),value:"adAccountStatus",width:150,sortable:!1}),t.push({text:this.$t("common.jobStatus"),value:"jobStatus",sortable:!1}),t}},created(){this.loadCabs()},methods:{closeDialog(){this.$store.dispatch("accounts_v2/closeDialog","adAccountsManagement")},cabsFromAccount(t){const e=[];return this.cabs.forEach(a=>{parseInt(a.account.id,10)===parseInt(t.id,10)&&e.push(a)}),e},async loadCabs(){const t={users_ids:-1,accounts_ids:this.accounts.selected&&this.accounts.selected.map(t=>t.id)},e=await this.api.post("/cabs",t);200===e.status&&e.data&&(this.cabs=e.data.data)},async removeCabs(){try{this.loading=!0,this.responses={},this.loadingCabs=[];for(const t of this.selectedCabs)this.loadingCabs.push(t.id);for(const t of this.selectedCabs){const e=await this.api.post(`/accounts/quit_from_personal_cab/?account_id=${t.account.id}&cab_id=${t.cab_id}`);this.loadingCabs=this.loadingCabs.filter(e=>e!==t.id),200===e.status&&e.data.result?(this.$set(this.responses,t.id,{success:!0}),this.selectedCabs=this.selectedCabs.filter(e=>parseInt(e.id,10)!==parseInt(t.id,10)),this.cabs=this.cabs.filter(e=>parseInt(e.id,10)!==parseInt(t.id,10))):this.$set(this.responses,t.id,{success:!1,response:e})}}catch(t){}finally{this.loading=!1,this.loadingCabs=[]}},cabIsReady(t,e){return t&&"ACTIVE"!==t.status&&"ACTIVITY_BLOCK"!==t.status?{text:this.$t("common.errorMessages.accountIsNotActive"),value:!1}:t&&this.$_.isEmpty(t.cookies)?{text:this.$t("common.errorMessages.accountHasNoCookies"),value:!1}:t&&!t.lsd?{text:this.$t("common.errorMessages.accountHasNoLsdToken"),value:!1}:t&&!t.fbdtsg?{text:this.$t("common.errorMessages.accountHasNoFbdtsgToken"),value:!1}:null!==e.business_id?{text:this.$t("common.errorMessages.notPersonalAdAccount"),value:!1}:{value:!0}},openDetails(t){this.forDetails=t,this.detailsDialog=!0},selectCab(t){this.selectedCabs.includes(t)?this.selectedCabs=this.selectedCabs.filter(e=>parseInt(e.id,10)!==parseInt(t.id,10)):this.selectedCabs.push(t)}}},D=T,S=(a("bac8"),a("ac7c")),P=a("8fea"),V=a("ce7e"),O=a("2fa4"),I=a("71d9"),L=a("2a7f"),j=Object(p["a"])(D,w,$,!1,null,null,null),F=j.exports;h()(j,{VBtn:g["a"],VCard:v["a"],VCardActions:f["a"],VCardText:f["b"],VCardTitle:f["c"],VCheckbox:S["a"],VDataTable:P["a"],VDialog:b["a"],VDivider:V["a"],VIcon:_["a"],VProgressLinear:y["a"],VSpacer:O["a"],VToolbar:I["a"],VToolbarItems:L["a"],VToolbarTitle:L["b"]});var N=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-dialog",{attrs:{value:t.dialogs.additionalTokensInfo,width:"500",scrollable:""},on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"esc",27,e.key,["Esc","Escape"])?null:t.$store.dispatch("accounts_v2/closeDialog","additionalTokensInfo")},"click:outside":function(e){return t.$store.dispatch("accounts_v2/closeDialog","additionalTokensInfo")}}},[a("v-card",[a("v-card-title",[t._v(" "+t._s(t.$t("adsmanager.accounts.aboutTokens"))+" ")]),a("v-card-text",[a("div",[t._v(" "+t._s(t.$t("adsmanager.accounts.toGetLsdAndFbdtsgTokens"))+" ")]),a("code",{staticClass:"px-2"},[t._v(" "+t._s(t.codeText)+" ")])]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(e){return t.copyToClipboard(t.codeText)}}},[a("v-icon",{staticClass:"mr-2",attrs:{size:14}},[t._v(" fas fa-copy ")]),t._v(" "+t._s(t.$t("common.copy")+" "+t.$t("common.code"))+" ")],1),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(e){return t.$store.dispatch("accounts_v2/closeDialog","additionalTokensInfo")}}},[t._v(" "+t._s(t.$t("common.close"))+" ")])],1)],1)],1)},E=[],R={name:"AccountsDialogAdditionalTokensInfo",mixins:[C["a"]],data(){return{codeText:'const regexLsd=new RegExp(\'LSD.{7}token":"([^"]+)"}\');matchLsd=document.body.innerHTML.toString().match(regexLsd);const regexFbstsg=new RegExp(\'DTSGInitialData.{7}token":"([^"]+)"}\');matchFbstsg=document.body.innerHTML.toString().match(regexFbstsg),console.log("LSD",matchLsd[1]),console.log("FbDtsg",matchFbstsg[1]);'}},computed:{...Object(l["c"])({dialogs:"accounts_v2/dialogs"})}},z=R,M=Object(p["a"])(z,N,E,!1,null,null,null),B=M.exports;h()(M,{VBtn:g["a"],VCard:v["a"],VCardActions:f["a"],VCardText:f["b"],VCardTitle:f["c"],VDialog:b["a"],VIcon:_["a"],VSpacer:O["a"]});var U=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-dialog",{attrs:{value:t.dialogs.approveDeletion,scrollable:"",width:"600"},on:{"click:outside":t.close,keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"esc",27,e.key,["Esc","Escape"])?null:t.close(e)}}},[a("v-card",[a("v-card-title",[t._v(" "+t._s(t.$t("adsmanager.accounts.deletingAccounts"))+" ")]),a("v-card-text",[a("v-data-table",{staticStyle:{"max-height":"500px"},attrs:{items:t.accounts.selected,"hide-default-header":"","hide-default-footer":"",headers:t.cols,"items-per-page":-1},scopedSlots:t._u([{key:"item.info",fn:function(e){var s=e.item;return[a("span",{staticStyle:{color:"grey"}},[t._v(" ["+t._s(s.id)+"] ")]),a("v-icon",{staticStyle:{cursor:"pointer","margin-right":"4px"},attrs:{size:12,title:t.$t("common.fbApiLog")},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.loadLog(s)}}},[t._v(" fas fa-book ")]),a("span",{staticStyle:{cursor:"pointer",color:"#2196F3","text-decoration":"underline",display:"inline-block","max-width":"150px"},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.editAccount(s)}}},[t._v(" "+t._s(s.name)+" ")]),s.fb_id?t._e():a("div",{staticStyle:{width:"90%","margin-top":"4px"}},[a("v-alert",{staticStyle:{padding:"0 5px","font-size":"10px","line-height":"17px"},attrs:{text:"",color:"error"}},[t._v(" "+t._s(t.$t("adsmanager.accounts.noFacebookId"))+" "),a("a",{staticStyle:{"font-size":"10px"},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.$store.dispatch("accounts_v2/openDialog","noFacebookIdInfo")}}},[t._v(" "+t._s(t.$t("common.whatsThat"))+" ")])])],1)]}},{key:"item.status",fn:function(e){var s=e.item;return[void 0!==t.colors[s.status]?a("v-chip",{staticStyle:{"font-weight":"bold"},attrs:{label:"",color:t.colors[s.status],"x-small":"",outlined:""}},["TOKEN_ERROR"===s.status?a("span",[t._v(" ERROR ")]):a("span",[t._v(" "+t._s(s.status)+" ")])]):t._e(),void 0===t.colors[s.status]?a("span",[t._v(" "+t._s(s.status)+" ")]):t._e()]}}],null,!0)})],1),a("v-card-actions",[a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:t.deleteAccounts}},[t._v(" "+t._s(t.$t("common.delete"))+" ")]),a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:t.close}},[t._v(" "+t._s(t.$t("common.cancel"))+" ")])],1)],1)],1)],1)},q=[],H=a("1afd"),W={name:"AccountsDialogApproveDeletion",data(){return{colors:H["a"]}},computed:{...Object(l["c"])({accounts:"accounts_v2/ACCOUNTS",dialogs:"accounts_v2/dialogs"}),cols(){let t=[];return t.push({value:"info"}),t.push({value:"status"}),t}},methods:{close(){this.$store.dispatch("accounts_v2/closeDialog","approveDeletion")},editAccount(t){this.$store.dispatch("accounts_v2/initAccountForEdit",t)},async loadLog(t){this.$store.dispatch("fbApiLog/clearLog"),this.$store.dispatch("fbApiLog/openDialog","logSidebar"),this.$store.dispatch("fbApiLog/loadLog",[{object:"account_id",id:t.id}])},deleteAccounts(){this.$store.dispatch("accounts_v2/multipleDeleteAccounts",this.accounts.selected.map(t=>t.id)),this.close()}}},Y=W,J=a("0798"),G=a("cc20"),K=Object(p["a"])(Y,U,q,!1,null,null,null),Q=K.exports;h()(K,{VAlert:J["a"],VBtn:g["a"],VCard:v["a"],VCardActions:f["a"],VCardText:f["b"],VCardTitle:f["c"],VChip:G["a"],VDataTable:P["a"],VDialog:b["a"],VIcon:_["a"],VSpacer:O["a"]});var X=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-dialog",{attrs:{value:t.dialogs.changeProxy,width:"500","overlay-opacity":.9,scrollable:""},on:{"click:outside":t.close,keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"esc",27,e.key,["Esc","Escape"])?null:t.close(e)}}},[a("v-card",[a("v-card-title",[a("div",{staticStyle:{display:"flex","justify-content":"space-between",width:"100%"}},[a("div",[a("span",{staticClass:"headline"},[t._v(" "+t._s(t.$t("proxy.changeProxy"))+" ")])])])]),a("v-card-text",[a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("v-autocomplete",{attrs:{items:t.proxy.all.concat(t.newProxies),label:t.$t("common.existingProxy"),"item-value":function(t){return t.id},filter:t.searchExistingProxy,clearable:"",outlined:"",dense:"","hide-details":""},scopedSlots:t._u([{key:"item",fn:function(e){var a=e.item;return[t._v(" ["+t._s(a.accounts_count)+"] "+t._s("undefined"!==typeof a.name&&null!==a.name?a.name:null===a.login?a.ip+":"+a.port:a.ip+":"+a.port+":"+a.login+":"+a.password)+" ")]}},{key:"selection",fn:function(e){var a=e.item;return[t._v(" ["+t._s(a.accounts_count)+"] "+t._s("undefined"!==typeof a.name&&null!==a.name?a.name:null===a.login?a.ip+":"+a.port:a.ip+":"+a.port+":"+a.login+":"+a.password)+" ")]}}]),model:{value:t.existingProxy,callback:function(e){t.existingProxy=e},expression:"existingProxy"}})],1),a("v-col",{attrs:{cols:"12"}},[a("v-text-field",{attrs:{label:t.$t("adsmanager.accounts.add.quickInput"),outlined:"",dense:"","hide-details":""},model:{value:t.quickInput,callback:function(e){t.quickInput=e},expression:"quickInput"}})],1),a("v-col",{attrs:{cols:"12",sm:"6"}},[a("v-text-field",{attrs:{label:t.$t("common.name"),outlined:"",dense:"","hide-details":""},model:{value:t.parsedProxy.name,callback:function(e){t.$set(t.parsedProxy,"name",e)},expression:"parsedProxy.name"}})],1),a("v-col",{attrs:{cols:"12",sm:"6"}},[a("v-select",{attrs:{label:t.$t("common.type"),items:t.proxy_types,outlined:"",dense:"","hide-details":""},model:{value:t.parsedProxy.type,callback:function(e){t.$set(t.parsedProxy,"type",e)},expression:"parsedProxy.type"}})],1),a("v-col",{attrs:{cols:"12",sm:"6"}},[a("v-text-field",{attrs:{label:t.$t("common.host"),outlined:"",dense:"","hide-details":""},model:{value:t.parsedProxy.ip,callback:function(e){t.$set(t.parsedProxy,"ip",e)},expression:"parsedProxy.ip"}})],1),a("v-col",{attrs:{cols:"12",sm:"6"}},[a("v-text-field",{attrs:{label:t.$t("common.port"),outlined:"",dense:"","hide-details":""},model:{value:t.parsedProxy.port,callback:function(e){t.$set(t.parsedProxy,"port",e)},expression:"parsedProxy.port"}})],1),a("v-col",{attrs:{cols:"12",sm:"6"}},[a("v-text-field",{attrs:{label:t.$t("common.login"),outlined:"",dense:"","hide-details":""},model:{value:t.parsedProxy.login,callback:function(e){t.$set(t.parsedProxy,"login",e)},expression:"parsedProxy.login"}})],1),a("v-col",{attrs:{cols:"12",sm:"6"}},[a("v-text-field",{attrs:{label:t.$t("common.password"),outlined:"",dense:"","hide-details":""},model:{value:t.parsedProxy.password,callback:function(e){t.$set(t.parsedProxy,"password",e)},expression:"parsedProxy.password"}})],1)],1)],1),a("v-divider"),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:t.close}},[t._v(" "+t._s(t.$t("common.close"))+" ")]),a("v-btn",{attrs:{color:"blue darken-1",text:"",loading:t.loading,disabled:t.disable},on:{click:t.changeProxy}},[t._v(" "+t._s(t.$t("common.save"))+" ")])],1)],1)],1)},Z=[],tt=a("b7b8"),et={name:"AccountsDialogChangeProxy",data(){return{proxy_types:tt["a"],parsedProxy:{},existingProxy:{},loading:!1,newProxies:[],quickInput:""}},computed:{...Object(l["c"])({dialogs:"accounts_v2/dialogs",accounts:"accounts_v2/accounts",proxy:"proxy/proxy"}),disable(){let t=!0;return"undefined"!==typeof this.parsedProxy.type&&""!==this.parsedProxy.type&&"undefined"!==typeof this.parsedProxy.ip&&""!==this.parsedProxy.ip&&"undefined"!==typeof this.parsedProxy.port&&""!==this.parsedProxy.port&&(t=!1),"undefined"!==typeof this.parsedProxy.type&&""!==this.parsedProxy.type&&"undefined"!==typeof this.parsedProxy.ip&&""!==this.parsedProxy.ip&&"undefined"!==typeof this.parsedProxy.port&&""!==this.parsedProxy.port&&"undefined"!==typeof this.parsedProxy.login&&""!==this.parsedProxy.login&&"undefined"!==typeof this.parsedProxy.password&&""===this.parsedProxy.password&&(t=!0),t}},watch:{quickInput:function(){this.parse()},existingProxy:function(){this.loadDataFromExistingProxy()}},created(){this.$store.dispatch("proxy/loadProxy")},methods:{close(){this.$store.dispatch("accounts_v2/closeDialog","changeProxy")},changeProxy(){for(let t of this.accounts.selected){const e={...t};e.proxy={id:this.parsedProxy.id,ip:this.parsedProxy.ip,login:this.parsedProxy.login,name:this.parsedProxy.name,password:this.parsedProxy.password,port:this.parsedProxy.port,type:this.parsedProxy.type},e.proxy_id=this.parsedProxy.id,this.$store.dispatch("accounts_v2/saveAccount",e)}this.close()},searchExistingProxy(t,e){const a=e.toLowerCase();return!(void 0===typeof t.name||!t.name||-1===t.name.toString().toLowerCase().search(a))||(!(!t.ip||-1===t.ip.toString().toLowerCase().search(a))||(!(!t.port||-1===t.port.toString().toLowerCase().search(a))||(!(!t.login||-1===t.login.toString().toLowerCase().search(a))||!(!t.password||-1===t.password.toString().toLowerCase().search(a)))))},loadDataFromExistingProxy(){"undefined"===typeof this.existingProxy&&(this.parsedProxy={name:"",type:"",ip:"",port:"",login:"",password:""},this.quickInput=null);const t=this.proxy.all.find(t=>t.id===this.existingProxy);t&&(this.parsedProxy={...t})},parse(){if(null===this.quickInput||""===this.quickInput)return;this.newProxies=[];let t={proxy:{id:null,ip:null,port:null,login:null,password:null,name:null,accounts_count:0,type:null},newProxy:null},e=this.quickInput.trim();if(-1===e.indexOf(":")){let a=this.proxy.all.find(t=>t.id===parseInt(e));t.proxy={...a},t.newProxy=null}else{t.newProxy=this.quickInput.trim();let a=null;-1===e.indexOf("/")?a="http":e.split("://").length>1&&(a=e.split("://")[0].toLowerCase(),"https"===a&&(a="http"),"socks"===a&&(a="socks5"),e=e.split("://")[1]),e.split(":").length>1&&(2===e.split(":").length&&(t.proxy={id:null,ip:e.split(":")[0].trim(),port:e.split(":")[1].trim(),login:null,password:null,name:null,accounts_count:0,type:a}),3===e.split(":").length&&(t.proxy={id:null,ip:e.split(":")[0].trim(),port:e.split(":")[1].trim(),login:null,password:null,name:e.split(":")[2].trim(),accounts_count:0,type:a}),4===e.split(":").length&&(t.proxy={id:null,ip:e.split(":")[0].trim(),port:e.split(":")[1].trim(),login:e.split(":")[2].trim(),password:e.split(":")[3].trim(),name:null,accounts_count:0,type:a}),5===e.split(":").length&&(t.proxy={id:null,ip:e.split(":")[0].trim(),port:e.split(":")[1].trim(),login:e.split(":")[2].trim(),password:e.split(":")[3].trim(),name:e.split(":")[4].trim(),accounts_count:0,type:a}))}null===t.proxy.id&&null!==t.proxy.ip&&null!==t.proxy.port&&(this.newProxies.push({...t.proxy}),this.existingProxy={...t.proxy},this.parsedProxy={...t.proxy})}}},at=et,st=a("c6a6"),ot=a("62ad"),nt=a("0fd9"),it=a("b974"),ct=a("8654"),rt=Object(p["a"])(at,X,Z,!1,null,null,null),lt=rt.exports;h()(rt,{VAutocomplete:st["a"],VBtn:g["a"],VCard:v["a"],VCardActions:f["a"],VCardText:f["b"],VCardTitle:f["c"],VCol:ot["a"],VDialog:b["a"],VDivider:V["a"],VRow:nt["a"],VSelect:it["a"],VSpacer:O["a"],VTextField:ct["a"]});var dt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t.showModal?a("v-dialog",{attrs:{value:t.dialogs.createBm,persistent:"",fullscreen:""},on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"esc",27,e.key,["Esc","Escape"])?null:t.close(e)}}},[a("v-card",{attrs:{loading:t.loading.createBm}},[a("v-toolbar",{attrs:{color:"primary"}},[a("v-btn",{attrs:{icon:""},on:{click:t.close}},[a("v-icon",[t._v("fas fa-times")])],1),a("v-toolbar-title",[t._v(t._s(t.$t("dialogs.accounts.createBm.title")))]),a("v-spacer"),a("v-toolbar-items",[a("v-btn",{attrs:{text:""},on:{click:t.createBms}},[t._v(" "+t._s(t.$t("common.create"))+" ")])],1)],1),a("v-card-text",[a("v-container",[a("v-row",{attrs:{align:"center"}},[a("v-col",{attrs:{cols:"8"}},[a("div",{staticStyle:{float:"left"}},[a("v-select",{staticStyle:{width:"300px"},attrs:{dense:"",items:["Business names"],value:"Business names","persistent-hint":"",hint:t.$t("dialogs.accounts.createBm.takeFromDictionary")}})],1),a("div",{staticStyle:{float:"left"}},[a("v-btn",{attrs:{text:"",color:"primary"},on:{click:t.takeNamesFromDictionary}},[t._v(" "+t._s(t.$t("common.take"))+" ")])],1),a("div",{staticStyle:{float:"left"}},[a("v-btn",{attrs:{text:"",color:"primary"},on:{click:t.randomEmails}},[t._v(" "+t._s(t.$t("dialogs.accounts.createBm.randomEmails"))+" ")])],1)])],1),a("v-row",{attrs:{align:"center"}},[a("v-col",{attrs:{cols:"12"}},[a("v-data-table",{attrs:{headers:t.cols,"fixed-header":"",items:t.accountsToProcess},scopedSlots:t._u([{key:"item.account",fn:function(e){var a=e.item;return[t._v(" "+t._s(a.name)+" ")]}},{key:"item.bmName",fn:function(e){var s=e.item;return[a("v-text-field",{staticClass:"my-1 mr-4",style:t.$vuetify.breakpoint.sm||t.$vuetify.breakpoint.xs?"margin-right: 2px !important;":"",attrs:{label:t.$t("dialogs.accounts.createBm.bmName"),"single-line":"",dense:"","hide-details":"",solo:"",clearable:""},on:{input:function(e){t.clearInput(e,t.accountsToProcess.indexOf(s),"newBmName")}},model:{value:t.accountsToProcess[t.accountsToProcess.indexOf(s)].newBmName,callback:function(e){t.$set(t.accountsToProcess[t.accountsToProcess.indexOf(s)],"newBmName",e)},expression:"accountsToProcess[accountsToProcess.indexOf(account)].newBmName"}})]}},{key:"item.email",fn:function(e){var s=e.item;return[a("v-text-field",{staticClass:"my-1 mr-4",style:t.$vuetify.breakpoint.sm||t.$vuetify.breakpoint.xs?"margin-right: 2px !important;":"",attrs:{label:t.$t("common.email"),"single-line":"",dense:"","hide-details":"",solo:"",clearable:""},on:{input:function(e){t.clearInput(e,t.accountsToProcess.indexOf(s),"newBmEmail")}},model:{value:t.accountsToProcess[t.accountsToProcess.indexOf(s)].newBmEmail,callback:function(e){t.$set(t.accountsToProcess[t.accountsToProcess.indexOf(s)],"newBmEmail",e)},expression:"accountsToProcess[accountsToProcess.indexOf(account)].newBmEmail"}})]}},{key:"item.status",fn:function(e){var s=e.item;return["waiting"===s.bmCreationStatus?a("v-chip",{staticStyle:{"font-weight":"bold"},attrs:{color:"orange",outlined:"","x-small":"",label:""}},[t._v(" "+t._s(t.$t("common.waiting"))+" ")]):t._e(),"requesting"===s.bmCreationStatus?a("v-chip",{staticStyle:{"font-weight":"bold"},attrs:{color:"orange",outlined:"","x-small":"",label:""}},[t._v(" "+t._s(t.$t("common.requesting"))+" ")]):t._e(),"success"===s.bmCreationStatus?a("v-chip",{staticStyle:{"font-weight":"bold"},attrs:{color:"success",outlined:"","x-small":"",label:""}},[t._v(" "+t._s(t.$t("common.success"))+" ")]):t._e(),"error"===s.bmCreationStatus?a("v-chip",{staticStyle:{"font-weight":"bold"},attrs:{color:"error",outlined:"","x-small":"",label:""}},[t._v(" "+t._s(t.$t("common.error"))+" ")]):t._e()]}},{key:"item.result",fn:function(e){var s=e.item;return[a("div",{staticClass:"my-3",staticStyle:{"font-family":"monospace","font-size":"11px",color:"#FF5252","font-weight":"bold"}},[void 0!==s.bmCreationResponse.response&&void 0!==s.bmCreationResponse.response.error&&void 0!==s.bmCreationResponse.response.error.message?a("div",[t._v(" "+t._s(s.bmCreationResponse.response.error.message)+" ")]):t._e(),void 0!==s.bmCreationResponse.response&&void 0!==s.bmCreationResponse.response.error&&void 0!==s.bmCreationResponse.response.error.error_user_title?a("div",[t._v(" "+t._s(s.bmCreationResponse.response.error.error_user_title)+" ")]):t._e(),void 0!==s.bmCreationResponse.response&&void 0!==s.bmCreationResponse.response.error&&void 0!==s.bmCreationResponse.response.error.error_user_msg?a("div",[t._v(" "+t._s(s.bmCreationResponse.response.error.error_user_msg)+" ")]):t._e(),void 0!==s.bmCreationResponse.message?a("div",[t._v(" "+t._s(s.bmCreationResponse.message)+" ")]):t._e()])]}}],null,!1,2953128371)})],1)],1)],1)],1)],1)],1):t._e()],1)},ut=[],pt=a("3cfc"),mt=a.n(pt),ht={name:"AccountsDialogCreateBm",data(){return{cols:[],validation:{state:!1},newAccount:{},accountsToProcess:[],multiple:{name:null,categoryId:null},showLoading:!1,showModal:!0,done:0,initialAccountsToProcess:[]}},computed:{...Object(l["c"])({accounts:"accounts_v2/ACCOUNTS",dialogs:"accounts_v2/dialogs",loading:"accounts_v2/loading"})},created(){this.cols.push({text:this.$t("common.account"),value:"account",width:200}),this.cols.push({text:this.$t("dialogs.accounts.createBm.bmName"),value:"bmName",width:200}),this.cols.push({text:this.$t("common.email")+" ("+this.$t("common.optional").toLowerCase()+")",value:"email",width:200}),this.cols.push({text:this.$t("common.status"),value:"status",width:150}),this.cols.push({text:this.$t("common.result"),value:"result",width:150}),this.accountsToProcess=this.$_.cloneDeep(this.accounts.selected),this.accountsToProcess=this.accountsToProcess.map(t=>(t.bmCreationStatus="waiting",t.bmCreationResponse={},t.newBmName=null,t.newBmEmail=null,t)),this.initialAccountsToProcess=this.$_.cloneDeep(this.accountsToProcess)},methods:{clearInput(t,e,a){""===t&&(this.accountsToProcess[e][a]=null)},close(){(this.$_.isEqual(this.accountsToProcess,this.initialAccountsToProcess)||(this.confirmation=confirm(this.$t("common.closeDialogConfirmation")),this.confirmation))&&this.$store.dispatch("accounts_v2/closeDialog","createBm")},createBms(){this.accountsToProcess?this.accountsToProcess.forEach((t,e)=>{t.bmCreationStatus="requesting",this.$set(this.accountsToProcess,e,t);const a={id:t.id,name:t.newBmName,email:t.newBmEmail};this.api.post("/accounts/create_bm",a).then(a=>{t.bmCreationStatus="undefined"===typeof a.data.response||"undefined"!==typeof a.data.response.error||!1===a.data.success?"error":"success",t.bmCreationResponse=a.data,this.$set(this.accountsToProcess,e,t)})}):this.$store.dispatch("accounts_v2/closeDialog","createBm")},async takeNamesFromDictionary(){const t=await this.api.post("/generate_names",{count:this.accountsToProcess.length});this.accountsToProcess=this.accountsToProcess.map((e,a)=>(e.newBmName=t.data.data[a],e))},randomEmails(){this.accountsToProcess=this.accountsToProcess.map(t=>(t.newBmEmail=mt()({domain:"gmail.com"}),t))}}},gt=ht,vt=a("a523"),ft=Object(p["a"])(gt,dt,ut,!1,null,null,null),bt=ft.exports;h()(ft,{VBtn:g["a"],VCard:v["a"],VCardText:f["b"],VChip:G["a"],VCol:ot["a"],VContainer:vt["a"],VDataTable:P["a"],VDialog:b["a"],VIcon:_["a"],VRow:nt["a"],VSelect:it["a"],VSpacer:O["a"],VTextField:ct["a"],VToolbar:I["a"],VToolbarItems:L["a"],VToolbarTitle:L["b"]});var _t=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",[a("v-dialog",{attrs:{width:"700",scrollable:""},model:{value:t.detailsDialog,callback:function(e){t.detailsDialog=e},expression:"detailsDialog"}},[a("v-card",[a("v-card-title",{staticClass:"headline"},[t._v(" "+t._s(t.$t("common.learnMore"))+" ")]),a("v-card-text",[a("code",[t._v(t._s(JSON.stringify(t.forDetails)))])]),a("v-divider"),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",text:""},on:{click:function(e){t.detailsDialog=!1}}},[t._v(" "+t._s(t.$t("common.close"))+" ")])],1)],1)],1)],1),a("v-dialog",{attrs:{value:t.showLoading,"hide-overlay":"",persistent:"",width:"300","content-class":"loading-modal"}},[a("v-card",{staticClass:"pr-4",attrs:{color:"primary"}},[a("v-card-text",[a("div",{staticStyle:{display:"flex","justify-content":"space-between","align-items":"center","min-height":"40px",color:"white"}},[a("div",[t._v(" "+t._s(t.$t("dialogs.accounts.createFanPage.loadingText"))+" ")]),a("div",[t._v(" "+t._s(t.createFanPageLoading.done)+" / "+t._s(t.createFanPageLoading.accounts.length)+" ")])]),a("v-progress-linear",{staticClass:"mb-0",attrs:{indeterminate:"",color:"white"}}),a("v-btn",{staticStyle:{position:"absolute",right:"2px",top:"2px"},attrs:{icon:"",small:""},on:{click:function(e){return t.$store.dispatch("accounts_v2/setLoadingOptions",{dialog:"createFanPageLoading",option:"stopRequest",value:!0})}}},[a("v-icon",{attrs:{size:14,color:"white"}},[t._v(" fas fa-times-circle ")])],1)],1)],1)],1),t.showModal?a("v-dialog",{attrs:{value:t.dialogs.createFanPage,persistent:"",fullscreen:""},on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"esc",27,e.key,["Esc","Escape"])?null:t.close(e)}}},[a("v-card",[a("v-toolbar",{attrs:{color:"primary"}},[a("v-btn",{attrs:{icon:""},on:{click:t.close}},[a("v-icon",{staticClass:"white--text"},[t._v(" fas fa-times ")])],1),a("v-toolbar-title",{staticClass:"white--text"},[t._v(" "+t._s(t.$t("dialogs.accounts.createFanPage.title"))+" ")]),a("v-spacer"),a("v-toolbar-items",[a("v-btn",{attrs:{text:"",color:"white"},on:{click:t.createFanPages}},[t._v(" "+t._s(t.$t("common.create"))+" ")])],1)],1),a("v-card-text",[a("v-container",{attrs:{fluid:""}},[a("v-row",{attrs:{align:"center"}},[a("v-col",{attrs:{cols:"12",md:"4"}}),a("v-col",{attrs:{cols:"12",md:"4"}})],1),a("v-row",[a("v-col",{attrs:{cols:"12",md:"3"}},[a("v-alert",{attrs:{dense:"",text:"",color:"info"}},[a("span",{staticClass:"caption",domProps:{innerHTML:t._s(t.$t("dialogs.accounts.createFanPage.textHint"))}})]),a("v-textarea",{staticClass:"adsmanager-accounts-create-fp-name-textarea",attrs:{label:t.$t("common.names"),dense:"",outlined:"","single-line":"","hide-details":""},scopedSlots:t._u([{key:"prepend-inner",fn:function(){return[a("v-btn",{attrs:{"x-small":"",icon:""},on:{click:t.generateFpNames}},[a("v-icon",{staticStyle:{"margin-top":"3px"}},[t._v(" autorenew ")])],1)]},proxy:!0}],null,!1,3869864235),model:{value:t.multiple.name,callback:function(e){t.$set(t.multiple,"name",e)},expression:"multiple.name"}}),a("v-autocomplete",{staticClass:"mt-5",attrs:{dense:"","single-line":"",outlined:"",label:t.$t("dialogs.accounts.createFanPage.sharedCategoryId"),items:t.pageCategories,"item-value":"id","item-text":"name","hide-details":""},model:{value:t.multiple.categoryId,callback:function(e){t.$set(t.multiple,"categoryId",e)},expression:"multiple.categoryId"}}),a("v-switch",{attrs:{label:t.$t("common.turnOffNotifications"),"hide-details":""},model:{value:t.multiple.turnOffNotifications,callback:function(e){t.$set(t.multiple,"turnOffNotifications",e)},expression:"multiple.turnOffNotifications"}}),a("v-btn",{staticClass:"mt-5",attrs:{block:"",color:"primary",loading:t.loadAvatars},on:{click:t.openAvatarFileSelect}},[t._v(" "+t._s(t.$t("dialogs.accounts.createFanPage.uploadAvatars"))+" ")]),a("input",{ref:"upload-avatars",staticStyle:{display:"none"},attrs:{id:"upload-avatars",type:"file",multiple:""},on:{change:t.handleMultipleAvatarUpload}})],1),a("v-col",{attrs:{cols:"12",md:"9"}},t._l(t.accountsToProcess,(function(e,s){return a("v-row",{key:"account-for-fp-creation-"+e.id,attrs:{align:"center"}},[a("v-col",{attrs:{cols:"12",md:"3"}},[a("div",{staticStyle:{float:"left"}},[a("v-avatar",{staticClass:"elevation-3"},[a("img",{attrs:{src:e.uploaded_icon?""+t.baseUrl+e.uploaded_icon:e.icon?""+t.baseUrl+e.icon:""}})])],1),a("div",{staticStyle:{float:"left"}},[a("div",[a("v-btn",{staticClass:"ml-3",attrs:{text:"",color:"primary","x-small":""},on:{click:function(e){return t.changeIcon(s)}}},[t._v(" "+t._s(t.$t("common.change"))+" ")])],1),a("div",[a("input",{ref:"file"+s,refInFor:!0,staticStyle:{display:"none"},attrs:{id:"file"+s,type:"file"},on:{change:function(e){return t.handleSingleAvatarUpload(s)}}}),a("v-btn",{staticClass:"ml-3",attrs:{text:"",color:"primary","x-small":""},on:{click:function(e){return t.openFileSelect(s)}}},[t._v(" "+t._s(t.$t("dialogs.accounts.createFanPage.uploadCustom.uploadCustom"))+" ")])],1)])]),a("v-col",{attrs:{cols:"12",md:"3"}},[a("v-text-field",{attrs:{label:t.$t("dialogs.accounts.createFanPage.fanPageName"),"hide-details":"",dense:"","single-line":"",outlined:""},scopedSlots:t._u([{key:"prepend-inner",fn:function(){return[a("v-btn",{attrs:{"x-small":"",icon:""},on:{click:function(e){return t.spinOrGenerate(s)}}},[a("v-icon",{staticStyle:{"margin-top":"3px"}},[t._v(" autorenew ")])],1)]},proxy:!0}],null,!0),model:{value:t.accountsToProcess[s].pageName,callback:function(e){t.$set(t.accountsToProcess[s],"pageName",e)},expression:"accountsToProcess[index].pageName"}})],1),a("v-col",{attrs:{cols:"12",md:"2"}},[a("v-autocomplete",{attrs:{"hide-details":"",dense:"","single-line":"",outlined:"",label:t.$t("dialogs.accounts.createFanPage.fanPageCategory"),items:t.pageCategories,"item-value":"id","item-text":"name"},model:{value:t.accountsToProcess[s].pageCategoryId,callback:function(e){t.$set(t.accountsToProcess[s],"pageCategoryId",e)},expression:"accountsToProcess[index].pageCategoryId"}})],1),a("v-col",{attrs:{cols:"12",md:"2"}},[a("div",{staticClass:"d-flex align-center"},[a("span",{staticClass:"mr-2",staticStyle:{"font-size":"18px"}},[t._v(" → ")]),a("div",[a("span",{staticClass:"title"},[t._v(t._s(e.name))]),e.cookies&&Array.isArray(e.cookies)&&0!==e.cookies.length?t._e():a("v-alert",{staticStyle:{"font-size":"12px","font-weight":"400"},attrs:{dense:"",text:"",color:"warning"}},[t._v(" "+t._s(t.$t("adsmanager.accounts.dialogs.createFp.noCookies"))+" ")])],1)])]),a("v-col",{attrs:{cols:"12",md:"2"}},[void 0!==t.loadingAccount(e.id)&&t.loadingAccount(e.id).status?t._e():a("v-progress-linear",{attrs:{indeterminate:t.loadingAccount(e.id)&&!t.loadingAccount(e.id).status,value:"0"}}),t.loadingAccount(e.id)&&t.loadingAccount(e.id).response&&t.loadingAccount(e.id).response.data&&t.loadingAccount(e.id).response.data.page_create&&t.loadingAccount(e.id).response.data.page_create.page&&t.loadingAccount(e.id).response.data.page_create.page.id?a("span",[a("v-icon",{attrs:{color:"green"}},[t._v("check_box")])],1):t._e(),t.loadingAccount(e.id)&&t.loadingAccount(e.id).response&&t.loadingAccount(e.id).response.data&&t.loadingAccount(e.id).response.data.page_create&&0===t.loadingAccount(e.id).response.data.page_create.length?a("span",[a("v-icon",{attrs:{color:"red"}},[t._v("cancel")]),a("span",{staticStyle:{"font-size":"12px",cursor:"pointer",color:"#2196F3","text-decoration":"underline"},on:{click:function(a){t.openDetails(t.loadingAccount(e.id).response)}}},[t._v(" "+t._s(t.$t("common.learnMore"))+" ")])],1):t._e()],1)],1)})),1)],1)],1)],1)],1)],1):t._e()],1)},yt=[],xt=a("7ea4"),kt=a("3773"),wt=a.n(kt),$t=a("d78b"),Ct=a.n($t),At={name:"AccountsDialogCreateFanPage",data(){return{validation:{state:!1},newAccount:{},pageCategories:xt["a"],accountsToProcess:[],multiple:{name:"",categoryId:null,turnOffNotifications:!0},showLoading:!1,showModal:!0,done:0,icons:[],F:[],localAvatars:[],loadAvatars:!1,accountWithSpintax:[],detailsDialog:!1,forDetails:{},initialAccountsToProcess:[]}},computed:{...Object(l["c"])({accounts:"accounts_v2/ACCOUNTS",dialogs:"accounts_v2/dialogs",loading:"accounts_v2/loading",createFanPageLoading:"accounts_v2/createFanPageLoading",activeTab:"adsmanager/activeTab"})},watch:{"multiple.categoryId":{handler(t){this.accountsToProcess=this.accountsToProcess.map(e=>(e.pageCategoryId=t,e))}},"multiple.name":{handler(){this.parseName()}},"createFanPageLoading.stopRequest":{handler(){if(this.createFanPageLoading.stopRequest){for(let t of this.createFanPageLoading.source)t.cancel();this.$store.dispatch("accounts_v2/setLoadingOptions",{dialog:"createFanPageLoading",option:"showLoading",value:!1})}}}},async created(){await this.loadIcons(),this.accountsToProcess=this.$_.cloneDeep(this.accounts.selected),this.accountsToProcess=this.accountsToProcess.map((t,e)=>(t.icon="undefined"!==typeof this.icons[e]&&this.icons[e],t.uploaded_icon=!1,t.pageCategoryId="2700",t)),this.initialAccountsToProcess=this.$_.cloneDeep(this.accountsToProcess)},methods:{loadingAccount(t){return this.createFanPageLoading.accounts.find(e=>parseInt(e.accountId,10)===parseInt(t,10))},async parseName(){const t=this.multiple.name.split("\n");if(t.length>1){let e=0;for(let a in this.accountsToProcess){let s=this.accountsToProcess[a];if(""!==t[e]&&t[e].search(/\{[^\\{\\}]*\}/)>-1){-1===this.accountWithSpintax.indexOf(parseInt(a))&&this.accountWithSpintax.push(parseInt(a));let o=[],n={text:window.btoa(unescape(encodeURIComponent(t[e])))},i=await this.api.post("/spintax",n);await o.push(i.data.data),s.pageName=o[0],this.$set(this.accountsToProcess,a,s)}else this.accountWithSpintax.length>=1&&this.accountWithSpintax.indexOf(parseInt(a))>-1&&(this.accountWithSpintax=this.accountWithSpintax.filter(t=>t!==parseInt(a))),s.pageName=t[e],this.$set(this.accountsToProcess,a,s);e<t.length-1?e++:e=0}}else if(this.accountWithSpintax=[],""!==t[0]&&t[0].search(/\{[^\\{\\}]*\}/)>-1){let e=[],a={text:window.btoa(unescape(encodeURIComponent(t[0])))};for(let t=0;t<this.accountsToProcess.length;t++){let t=await this.api.post("/spintax",a);await e.push(t.data.data)}for(let t in this.accountsToProcess)this.accountWithSpintax.push(parseInt(t)),this.$set(this.accountsToProcess[t],"pageName",e[t])}else{this.accountWithSpintax=[];for(let e in this.accountsToProcess)this.$set(this.accountsToProcess[e],"pageName",t[0])}},async spinOrGenerate(t){if(this.accountWithSpintax.indexOf(t)>-1){const e=this.multiple.name.split("\n");let a=t%e.length,s="",o={text:window.btoa(unescape(encodeURIComponent(e[a])))},n=await this.api.post("/spintax",o);s=await n.data.data,this.$set(this.accountsToProcess[t],"pageName",s)}else this.$set(this.accountsToProcess[t],"pageName",Ct()(wt()().spaced));this.$forceUpdate()},async handleSingleAvatarUpload(t){let e=new FormData;e.append("file",this.$refs["file"+t][0].files[0]);const a=await this.api.post(this.baseUrl+"/new/upload_media/fp_icons",e,{headers:{"Content-Type":"multipart/form-data"}});let s=this.accountsToProcess[t];"undefined"!==typeof a.data.path?s.uploaded_icon=a.data.path:s.uploaded_icon=!1,this.$set(this.accountsToProcess,t,s)},openFileSelect(t){document.getElementById("file"+t).click()},async loadIcons(){const t=await this.api("/accounts/get_icons/?limit="+this.accounts.selected.length).catch(()=>!0);"undefined"!==typeof t.data&&"undefined"!==typeof t.data.success&&t.data.success&&(this.icons=t.data.data)},async changeIcon(t){const e=await this.api.post("/accounts/get_icons/?limit=1",{exclude:this.icons});if("undefined"!==typeof e.data.success&&e.data.success){let a=this.accountsToProcess[t];a.icon=e.data.data[0],a.uploaded_icon=!1,this.$set(this.accountsToProcess,t,a)}},async createFanPages(){if(this.accountsToProcess&&0!==this.accountsToProcess.length){if(this.$store.dispatch("accounts_v2/setLoadingOptions",{dialog:"createFanPageLoading",option:"accounts",value:[]}),this.accountsToProcess&&this.accountsToProcess.length>0){const t=this.accountsToProcess.map(t=>({account_id:t.id,page_name:t.pageName,page_category_id:t.pageCategoryId,icon:t.uploaded_icon?t.uploaded_icon:t.icon,turnOffNotifications:this.multiple.turnOffNotifications})),e=await this.api.post("/q/create_fp",{data:t}),a=e.data.jobs||[],s=this.accountsToProcess.map((t,e)=>({accountId:t.id,jobId:a[e],response:null,status:!1}));if(await this.$store.dispatch("accounts_v2/setLoadingOptions",{dialog:"createFanPageLoading",option:"accounts",value:s}),a&&a.length>0){const t=setInterval(async()=>{this.dialogs.createFanPage||clearInterval(t);const e=await this.api.post("/q/check_status",{ids:a}),s=e.data.data||{};for(const t in s)if(s[t]){const a=this.createFanPageLoading.accounts.findIndex(e=>parseInt(e.jobId)===parseInt(t));a>-1&&(this.$set(this.createFanPageLoading.accounts[a],"status",s[t]),this.$set(this.createFanPageLoading.accounts[a],"response",e.data.responses[t]))}const o=Object.values(s).filter(t=>!0===t).length;await this.$store.dispatch("accounts_v2/setLoadingOptions",{dialog:"createFanPageLoading",option:"done",value:o}),o>=Object.keys(s).length&&(clearInterval(t),this.$store.dispatch("accounts_v2/setLoadingOptions",{dialog:"createFanPageLoading",option:"done",value:0}),this.$store.dispatch("accounts_v2/LOAD_ACCOUNTS"))},3e3)}}}else this.$store.dispatch("accounts_v2/closeDialog","createFanPage")},openAvatarFileSelect(){document.getElementById("upload-avatars").click()},async handleMultipleAvatarUpload(){for(const e of this.$refs["upload-avatars"].files){this.loadAvatars=!0;let t=new FormData;t.append("file",e);const a={headers:{"Content-Type":"multipart/form-data"}},s=await this.api.post(this.baseUrl+"/new/upload_media/fp_icons",t,a);"undefined"!==typeof s.data.path&&await this.localAvatars.push(s.data.path),this.$forceUpdate()}this.loadAvatars=!1;let t=0;for(let e=0;e<this.accountsToProcess.length;e++){t<this.localAvatars.length-1?t++:t=0;let a=this.accountsToProcess[e];a.uploaded_icon=this.localAvatars[t],this.$set(this.accountsToProcess,e,a)}this.localAvatars=[]},openDetails(t){this.forDetails=t,this.detailsDialog=!0},close(){this.accountsToProcess.forEach(t=>{""===t.pageName&&this.initialAccountsToProcess.forEach(e=>{t.id===e.id&&(e.pageName="")})}),(this.$_.isEqual(this.accountsToProcess,this.initialAccountsToProcess)&&""===this.multiple.name&&null===this.multiple.categoryId||(this.confirmation=confirm(this.$t("common.closeDialogConfirmation")),this.confirmation))&&(this.$store.dispatch("accounts_v2/closeDialog","createFanPage"),this.$store.dispatch("accounts_v2/setLoadingOptions",{dialog:"createFanPageLoading",option:"accounts",value:[]}))},generateFpNames(){this.$set(this.multiple,"name","");for(let t=0;t<this.accountsToProcess.length;t++)this.$set(this.multiple,"name",`${this.multiple.name}${Ct()(wt()().spaced)}\n`)}}},Tt=At,Dt=a("8212"),St=a("b73d"),Pt=a("a844"),Vt=Object(p["a"])(Tt,_t,yt,!1,null,null,null),Ot=Vt.exports;h()(Vt,{VAlert:J["a"],VAutocomplete:st["a"],VAvatar:Dt["a"],VBtn:g["a"],VCard:v["a"],VCardActions:f["a"],VCardText:f["b"],VCardTitle:f["c"],VCol:ot["a"],VContainer:vt["a"],VDialog:b["a"],VDivider:V["a"],VIcon:_["a"],VProgressLinear:y["a"],VRow:nt["a"],VSpacer:O["a"],VSwitch:St["a"],VTextField:ct["a"],VTextarea:Pt["a"],VToolbar:I["a"],VToolbarItems:L["a"],VToolbarTitle:L["b"]});var It=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t.showModal?a("v-dialog",{attrs:{value:t.dialogs.initPersonalCab,persistent:"",fullscreen:""}},[a("v-card",[a("v-toolbar",{attrs:{color:"primary"}},[a("v-btn",{attrs:{icon:""},on:{click:function(e){return t.$store.dispatch("accounts_v2/closeDialog","initPersonalCab")}}},[a("v-icon",[t._v("fas fa-times")])],1),a("v-toolbar-title",[t._v(" "+t._s(t.$t("adsmanager.accounts.initPersonalCab.actionText"))+" ")]),a("v-spacer")],1),a("v-card-text",t._l(t.accounts.selected,(function(e){return a("v-list-item",{key:"persona-cab-for-"+e.id,attrs:{"two-line":""}},[a("v-list-item-content",[a("v-list-item-title",[void 0===t.responses[e.id]?a("v-progress-circular",{attrs:{size:16,indeterminate:"",color:"primary"}}):t._e(),void 0!==t.responses[e.id]&&void 0!==t.responses[e.id].result&&t.responses[e.id].result?a("span",[t._v("✅")]):t._e(),void 0===t.responses[e.id]||void 0===t.responses[e.id].result||t.responses[e.id].result?t._e():a("span",[t._v("❌")]),t._v(" "+t._s(e.name)+" ")],1),a("v-list-item-subtitle",[void 0!==t.responses[e.id]&&void 0!==t.responses[e.id].result&&!t.responses[e.id].result&&t.responses[e.id].response&&t.responses[e.id].response.error?a("span",{staticStyle:{color:"#FF5252"}},[t._v(" "+t._s(t.responses[e.id].response.error.message)+" ")]):t._e()])],1)],1)})),1)],1)],1):t._e()],1)},Lt=[],jt={name:"AccountsDialogInitPersonalAccount",data(){return{showModal:!0,responses:{}}},computed:{...Object(l["c"])({accounts:"accounts_v2/ACCOUNTS",dialogs:"accounts_v2/dialogs"})},created(){confirm(this.$t("common.confirmPlease"))?(this.showModal=!0,this.loading=!0,this.initPersonalCabs()):this.$store.dispatch("accounts_v2/closeDialog","initPersonalCab")},methods:{initPersonalCabs(){this.accounts.selected.forEach(t=>{this.api("/accounts/init_personal_cab/"+t.id).then(e=>{"undefined"!==typeof e.data.data&&"undefined"!==typeof e.data.data.response?this.$set(this.responses,t.id,e.data.data):this.$set(this.responses,t.id,-1)}).catch(()=>{this.$set(this.responses,t.id,-1)})})}}},Ft=jt,Nt=a("da13"),Et=a("5d23"),Rt=a("490a"),zt=Object(p["a"])(Ft,It,Lt,!1,null,null,null),Mt=zt.exports;h()(zt,{VBtn:g["a"],VCard:v["a"],VCardText:f["b"],VDialog:b["a"],VIcon:_["a"],VListItem:Nt["a"],VListItemContent:Et["a"],VListItemSubtitle:Et["b"],VListItemTitle:Et["c"],VProgressCircular:Rt["a"],VSpacer:O["a"],VToolbar:I["a"],VToolbarTitle:L["b"]});var Bt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-dialog",{attrs:{"max-width":"600px"},model:{value:t.dialogs.mainInfo,callback:function(e){t.$set(t.dialogs,"mainInfo",e)},expression:"dialogs.mainInfo"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[a("span",{staticStyle:{color:"gray"}},[t._v(" ["+t._s(t.accounts.forDialogMainInfo.id)+"] ")]),a("v-icon",{staticStyle:{cursor:"pointer","margin-right":"4px",color:"gray"},attrs:{size:16,title:t.$t("common.fbApiLog")},on:{click:function(e){return t.loadLog(t.accounts.forDialogMainInfo)}}},[t._v(" fas fa-book ")]),a("span",{staticStyle:{color:"gray"}},[t._v(t._s(t.accounts.forDialogMainInfo.name))])],1)]),a("v-card-text",[a("div",[t.accounts.forDialogMainInfo.fb_id?t._e():a("div",{staticStyle:{width:"90%","margin-top":"4px"}},[a("v-alert",{staticStyle:{padding:"0 5px","font-size":"14px","line-height":"17px"},attrs:{text:"",color:"error"}},[t._v(" "+t._s(t.$t("adsmanager.accounts.noFacebookId"))+" "),a("a",{staticStyle:{"font-size":"14px"},on:{click:function(e){return t.$store.dispatch("accounts_v2/openDialog","noFacebookIdInfo")}}},[t._v(" "+t._s(t.$t("common.whatsThat"))+" ")])])],1),a("div",{staticClass:"mb-2",staticStyle:{"font-size":"14px",color:"gray"}},[a("span",{staticClass:"d-block",staticStyle:{"line-height":"20px"}},[t._v(" "+t._s(t.$t("common.owner"))+": "+t._s(t.accounts.forDialogMainInfo.user?t.accounts.forDialogMainInfo.user.display_name?t.accounts.forDialogMainInfo.user.display_name:t.accounts.forDialogMainInfo.user.login:"-")+" ")]),a("span",{staticClass:"d-block",staticStyle:{"line-height":"14px"}},[t._v(" "+t._s(t.$t("adsmanager.accounts.rulesAccepted"))+": "),t.accounts.forDialogMainInfo.rules_accepted?a("v-icon",{attrs:{size:12,color:"success"}},[t._v(" fas fa-check ")]):a("v-icon",{attrs:{size:12,color:"error"}},[t._v(" fas fa-times ")])],1)]),t.accounts.forDialogMainInfo.permissions?a("div",{staticClass:"caption"},[a("a",{on:{click:t.showPermissions}},[t._v(" "+t._s(t.$t("adsmanager.accounts.shared").toLowerCase())+" ("+t._s(t.accounts.forDialogMainInfo.permissions.length)+") ")])]):t._e()])]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(e){return t.$store.dispatch("accounts_v2/closeDialog","mainInfo")}}},[t._v(" "+t._s(t.$t("common.close"))+" ")])],1)],1)],1)},Ut=[],qt={name:"AccountsDialogMainInfo",computed:{...Object(l["c"])({dialogs:"accounts_v2/dialogs",accounts:"accounts_v2/accounts"})},methods:{async loadLog(t){this.$store.dispatch("fbApiLog/clearLog"),this.$store.dispatch("fbApiLog/openDialog","logSidebar"),this.$store.dispatch("fbApiLog/loadLog",[{object:"account_id",id:t.id}])},async showPermissions(){await this.$store.dispatch("accounts_v2/setForPermissions",this.accounts.forDialogMainInfo),await this.$store.dispatch("accounts_v2/openDialog","permissions")}}},Ht=qt,Wt=Object(p["a"])(Ht,Bt,Ut,!1,null,null,null),Yt=Wt.exports;h()(Wt,{VAlert:J["a"],VBtn:g["a"],VCard:v["a"],VCardActions:f["a"],VCardText:f["b"],VCardTitle:f["c"],VDialog:b["a"],VIcon:_["a"],VSpacer:O["a"]});var Jt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-dialog",{attrs:{value:t.dialogs.moveAccountsToAnotherUser,"max-width":"600px",persistent:!t.$vuetify.breakpoint.sm&&!t.$vuetify.breakpoint.xs,scrollable:!(!t.$vuetify.breakpoint.sm&&!t.$vuetify.breakpoint.xs)},on:{"click:outside":t.close,keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"esc",27,e.key,["Esc","Escape"])?null:t.close(e)}}},[a("v-card",{attrs:{loading:t.loading.moveAccounts}},[a("v-card-title",[a("div",{staticStyle:{display:"flex","justify-content":"space-between",width:"100%"}},[a("div",[a("span",{staticClass:"headline"},[t._v(" "+t._s(t.$t("adsmanager.accounts.moveAccountsToAnotherUser"))+" ")])])])]),a("v-card-text",{staticStyle:{"max-height":"700px"}},[a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("v-combobox",{attrs:{"item-text":function(t){return t.display_name||t.login},"item-value":function(t){return t.display_name||t.login},"item-disabled":function(e){return[2,4].indexOf(t.profile.role_id)>-1&&e.id==t.profile.id},items:t.allUsers,label:t.$t("common.user"),clearable:""},on:{change:function(e){t.selectedUser=e}}})],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:t.close}},[t._v(" "+t._s(t.$t("common.close"))+" ")]),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(e){return t.moveAccounts()}}},[t._v(" "+t._s(t.$t("common.move"))+" ")])],1)],1)],1)],1)},Gt=[],Kt={name:"AccountsDialogMoveAccountsToAnotherUser",data(){return{selectedUser:null,allUsers:[]}},computed:{...Object(l["c"])({profile:"main/profile",accounts:"accounts_v2/ACCOUNTS",loading:"accounts_v2/loading",dialogs:"accounts_v2/dialogs"})},created(){this.loadUsers()},methods:{close(){this.selectedUser&&(this.confirmation=confirm(this.$t("common.closeDialogConfirmation")),!this.confirmation)||this.$store.dispatch("accounts_v2/closeDialog","moveAccountsToAnotherUser")},async moveAccounts(){if(!this.selectedUser&&!this.selectedUser.id)return;if(!confirm(this.$t("adsmanager.accounts.confirmMoving")+" "+(this.selectedUser.display_name||this.selectedUser.login)))return;const t={ids:this.accounts.selected.map(t=>t.id),new_user_id:this.selectedUser.id};await this.$store.dispatch("accounts_v2/moveAccountsToAnotherUser",t),this.$store.dispatch("accounts_v2/LOAD_ACCOUNTS"),this.$store.dispatch("accounts_v2/closeDialog","moveAccountsToAnotherUser")},async loadUsers(){const t=await this.api("/users/all");"undefined"!==typeof t.data.data&&(this.allUsers=t.data.data)}}},Qt=Kt,Xt=a("2b5d"),Zt=Object(p["a"])(Qt,Jt,Gt,!1,null,"a9855bee",null),te=Zt.exports;h()(Zt,{VBtn:g["a"],VCard:v["a"],VCardActions:f["a"],VCardText:f["b"],VCardTitle:f["c"],VCol:ot["a"],VCombobox:Xt["a"],VContainer:vt["a"],VDialog:b["a"],VRow:nt["a"],VSpacer:O["a"]});var ee=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-dialog",{attrs:{value:t.dialogs.noFacebookIdInfo,width:"500"}},[a("v-card",[a("v-card-title",{staticClass:"headline",attrs:{"primary-title":""}},[t._v(" "+t._s(t.$t("adsmanager.accounts.noFacebookIdInfo.title"))+" ")]),a("v-card-text",[a("p",[t._v(" "+t._s(t.$t("adsmanager.accounts.noFacebookIdInfo.1"))+" ")]),a("p",[t._v(" "+t._s(t.$t("adsmanager.accounts.noFacebookIdInfo.2"))+" ")]),a("p",[t._v(" "+t._s(t.$t("adsmanager.accounts.noFacebookIdInfo.3"))+" ")]),a("p",[t._v(" "+t._s(t.$t("adsmanager.accounts.noFacebookIdInfo.4"))+" ")]),a("p",[t._v(" "+t._s(t.$t("adsmanager.accounts.noFacebookIdInfo.5"))+" ")]),a("p",[t._v(" "+t._s(t.$t("adsmanager.accounts.noFacebookIdInfo.6"))+" ")])]),a("v-divider"),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",text:""},on:{click:function(e){return t.$store.dispatch("accounts_v2/closeDialog","noFacebookIdInfo")}}},[t._v(" "+t._s(t.$t("adsmanager.accounts.noFacebookIdInfo.button"))+" ")])],1)],1)],1)},ae=[],se={name:"AccountsDialogNoFacebookIdInfo",computed:{...Object(l["c"])({dialogs:"accounts_v2/dialogs"})}},oe=se,ne=Object(p["a"])(oe,ee,ae,!1,null,null,null),ie=ne.exports;h()(ne,{VBtn:g["a"],VCard:v["a"],VCardActions:f["a"],VCardText:f["b"],VCardTitle:f["c"],VDialog:b["a"],VDivider:V["a"],VSpacer:O["a"]});var ce=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-dialog",{attrs:{value:t.dialogs.pageAppeal,width:800,transition:"dialog-bottom-transition",scrollable:""},on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"esc",27,e.key,["Esc","Escape"])?null:t.closeDialog(e)},"click:outside":t.closeDialog}},[a("v-dialog",{attrs:{width:"700",scrollable:""},model:{value:t.detailsDialog,callback:function(e){t.detailsDialog=e},expression:"detailsDialog"}},[a("v-card",[a("v-card-title",{staticClass:"headline"},[t._v(" "+t._s(t.$t("common.learnMore"))+" ")]),a("v-card-text",{staticStyle:{"margin-top":"40px"}},[a("div",{staticClass:"d-flex justify-end"},[a("div",{staticStyle:{position:"fixed","margin-top":"-40px"}},[a("v-btn",{attrs:{color:"primary",text:""},on:{click:function(e){t.copyToClipboard(JSON.stringify(t.forDetails))}}},[a("v-icon",{staticClass:"mr-2",attrs:{size:14}},[t._v(" fas fa-copy ")]),t._v(" "+t._s(t.$t("common.copy"))+" ")],1)],1)]),a("code",{staticClass:"mt-0"},[t._v(t._s(JSON.stringify(t.forDetails,null,2)))])]),a("v-divider"),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",text:""},on:{click:function(e){t.detailsDialog=!1}}},[t._v(" "+t._s(t.$t("common.close"))+" ")])],1)],1)],1),a("v-card",[a("v-toolbar",{attrs:{color:"primary",dark:"",flat:"",dense:""}},[a("v-btn",{attrs:{icon:""},on:{click:t.closeDialog}},[a("v-icon",[t._v("fas fa-times")])],1),a("v-toolbar-title",[t._v(" "+t._s(t.$t("adsmanager.accounts.pageAppeal"))+" ")]),a("v-spacer"),a("v-toolbar-items",[t.$vuetify.breakpoint.sm||t.$vuetify.breakpoint.xs?t._e():a("v-btn",{attrs:{text:""},on:{click:t.closeDialog}},[t._v(" "+t._s(t.$t("common.cancel"))+" ")]),a("v-btn",{attrs:{text:"",disabled:t.$_.isEmpty(t.selectedPages),loading:t.loading},on:{click:t.appealPage}},[t._v(" "+t._s(t.$t("common.appeal"))+" ")])],1)],1),a("v-card-text",[a("v-data-table",{attrs:{headers:t.colsAccounts,"fixed-header":"",items:t.accounts.selected},scopedSlots:t._u([{key:"item.account",fn:function(e){var a=e.item;return[t._v(" "+t._s(a.name)+" ")]}},{key:"item.page",fn:function(e){var s=e.item;return[a("v-data-table",{staticClass:"accounts-dialog-page-appeal-pages-table",attrs:{headers:t.colsPages,"hide-default-header":"","hide-default-footer":"",items:s.pages,"items-per-page":-1,"show-select":""},scopedSlots:t._u([{key:"item.data-table-select",fn:function(e){var o=e.item;return[a("v-checkbox",{attrs:{"input-value":t.selectedPages.includes(o),ripple:!1,disabled:!t.pageIsReady(s,o).value},on:{change:function(e){return t.selectPage(o)}}})]}},{key:"item.pageName",fn:function(e){var s=e.item;return[a("v-avatar",{attrs:{size:18}},[a("img",{attrs:{src:s.ava}})]),t._v(" "+t._s(s.name)+" ")]}},{key:"item.pageStatus",fn:function(e){var s=e.item;return[a("v-chip",{attrs:{color:t.pageStatus(s).color,"x-small":"",label:"",outlined:""}},[t._v(" "+t._s(t.pageStatus(s).status)+" ")])]}},{key:"item.jobStatus",fn:function(e){var o=e.item;return[t.pageIsReady(s,o).value?a("div",[t.responses[o.page_id]?t.responses&&t.responses[o.page_id]&&t.responses[o.page_id]["success"]?a("span",[a("v-icon",{attrs:{color:"green"}},[t._v(" check_box ")])],1):t.responses&&t.responses[o.page_id]&&!t.responses[o.page_id]["success"]?a("span",[a("v-icon",{attrs:{color:"red"}},[t._v(" cancel ")]),a("span",{staticStyle:{"font-size":"12px",cursor:"pointer",color:"#2196F3","text-decoration":"underline"},on:{click:function(e){return t.openDetails(t.responses[o.page_id]["response"])}}},[t._v(t._s(t.$t("common.learnMore")))])],1):t._e():a("v-progress-linear",{staticStyle:{"min-width":"50px"},attrs:{indeterminate:t.loadingPages.includes(o.page_id),value:0}})],1):a("span",{staticStyle:{color:"#9E9E9E"}},[t._v(" "+t._s(t.pageIsReady(s,o).text)+" ")])]}}],null,!0)})]}}],null,!0)})],1)],1)],1)},re=[],le={name:"AccountsDialogPageAppeal",mixins:[C["a"]],data(){return{detailsDialog:!1,forDetails:[],loading:!1,selectedPages:[],responses:{},loadingPages:[]}},computed:{...Object(l["c"])({accounts:"accounts_v2/accounts",dialogs:"accounts_v2/dialogs"}),colsAccounts(){let t=[];return t.push({text:this.$t("common.account"),value:"account",width:150}),t.push({text:this.$t("common.fanPage"),value:"page"}),t},colsPages(){let t=[];return t.push({text:this.$t("settings.adsCreation.settingsPage.pageName"),value:"pageName",width:150}),t.push({text:this.$t("common.status"),value:"pageStatus",width:150,sortable:!1}),t.push({text:this.$t("common.jobStatus"),value:"jobStatus",sortable:!1}),t}},methods:{closeDialog(){this.$store.dispatch("accounts_v2/closeDialog","pageAppeal")},pageIsReady(t,e){return t&&"ACTIVE"!==t.status?{text:this.$t("common.errorMessages.accountIsNotActive"),value:!1}:t&&this.$_.isEmpty(t.cookies)?{text:this.$t("common.errorMessages.accountHasNoCookies"),value:!1}:void 0!==e.advertising_restriction&&0===parseInt(e.advertising_restriction,10)?{text:this.$t("common.errorMessages.pageIsNotBanned"),value:!1}:{value:!0}},async appealPage(){try{let t=!1;this.loading=!0,this.responses={},this.loadingPages=[];for(const e of this.selectedPages)this.loadingPages.push(e.page_id);for(const e of this.selectedPages){const a=await this.api.post(`/pages/appeal_ban/?account_id=${e.account_id}&page_id=${e.page_id}`);200===a.status&&a.data.result?(t||(t=!0),this.$set(this.responses,e.page_id,{success:!0}),this.selectedPages=this.selectedPages.filter(t=>parseInt(t.page_id,10)!==parseInt(e.page_id,10)),this.loadingPages=this.loadingPages.filter(t=>parseInt(t.page_id,10)!==parseInt(e.page_id,10))):this.$set(this.responses,e.page_id,{success:!1,response:a})}t&&this.$store.dispatch("accounts_v2/LOAD_ACCOUNTS")}catch(t){}finally{this.loading=!1,this.loadingPages=[]}},openDetails(t){this.forDetails=t,this.detailsDialog=!0},selectPage(t){this.selectedPages.includes(t)?this.selectedPages=this.selectedPages.filter(e=>parseInt(e.page_id,10)!==parseInt(t.page_id,10)):this.selectedPages.push(t)},pageStatus(t){return void 0!==t.advertising_restriction&&1===parseInt(t.advertising_restriction,10)?{status:"banned",color:"error"}:void 0!==t.is_published&&0===parseInt(t.is_published,10)?{status:"unpublished",color:"error"}:{status:"active",color:"success"}}}},de=le,ue=(a("beb9"),Object(p["a"])(de,ce,re,!1,null,null,null)),pe=ue.exports;h()(ue,{VAvatar:Dt["a"],VBtn:g["a"],VCard:v["a"],VCardActions:f["a"],VCardText:f["b"],VCardTitle:f["c"],VCheckbox:S["a"],VChip:G["a"],VDataTable:P["a"],VDialog:b["a"],VDivider:V["a"],VIcon:_["a"],VProgressLinear:y["a"],VSpacer:O["a"],VToolbar:I["a"],VToolbarItems:L["a"],VToolbarTitle:L["b"]});var me=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-dialog",{attrs:{value:t.dialogs.shareFanPage,fullscreen:"",transition:"dialog-bottom-transition",scrollable:""},on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"esc",27,e.key,["Esc","Escape"])?null:t.close(e)}}},[a("v-dialog",{attrs:{width:"700",scrollable:""},model:{value:t.detailsDialog,callback:function(e){t.detailsDialog=e},expression:"detailsDialog"}},[a("v-card",[a("v-card-title",{staticClass:"headline"},[t._v(" "+t._s(t.$t("common.learnMore"))+" ")]),a("v-card-text",{staticStyle:{"margin-top":"40px"}},[a("div",{staticClass:"d-flex justify-end"},[a("div",{staticStyle:{position:"fixed","margin-top":"-40px"}},[a("v-btn",{attrs:{color:"primary",text:""},on:{click:function(e){t.copyToClipboard(JSON.stringify(t.forDetails))}}},[a("v-icon",{staticClass:"mr-2",attrs:{size:14}},[t._v(" fas fa-copy ")]),t._v(" "+t._s(t.$t("common.copy"))+" ")],1)],1)]),a("code",{staticClass:"mt-0"},[t._v(t._s(JSON.stringify(t.forDetails,null,2)))])]),a("v-divider"),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",text:""},on:{click:function(e){t.detailsDialog=!1}}},[t._v(" "+t._s(t.$t("common.close"))+" ")])],1)],1)],1),a("v-card",[a("v-toolbar",{attrs:{color:"primary",flat:"","max-height":"64"}},[a("v-btn",{attrs:{icon:""},on:{click:t.close}},[a("v-icon",[t._v("fas fa-times")])],1),a("v-toolbar-title",[t._v(" "+t._s(t.$t("adsmanager.accounts.shareFanPage"))+" ")]),a("v-spacer"),a("v-toolbar-items",[t.$vuetify.breakpoint.sm||t.$vuetify.breakpoint.xs?t._e():a("v-btn",{attrs:{text:""},on:{click:t.close}},[t._v(" "+t._s(t.$t("common.cancel"))+" ")]),a("v-btn",{attrs:{text:"",disabled:!t.readyToShare,loading:t.loading},on:{click:t.share}},[t._v(" "+t._s(t.$t("adsmanager.cabs.share"))+" ")])],1)],1),a("v-card-text",[a("v-row",[a("v-col",{attrs:{cols:6}},[a("h2",{staticClass:"mb-2"},[t._v(" "+t._s(t.$t("adsmanager.accounts.whereToSend"))+" ")]),a("v-autocomplete",{staticClass:"mb-4",attrs:{"item-text":function(t){return t.name},"item-value":function(t){return t.id},items:t.accountToShare,outlined:"",dense:"",hint:t.$t("adsmanager.accounts.dialogs.shareFp.multipleAccounts"),"persistent-hint":"",multiple:"",clearable:"","return-object":""},scopedSlots:t._u([{key:"item",fn:function(e){var s=e.item;return[a("v-list-item-content",[a("v-list-item-title",{staticClass:"d-flex"},[a("span",{staticStyle:{"font-size":"18px"}},[t._v(" "+t._s(s.name)+" ")]),void 0!==t.colors[s.status]?a("v-chip",{staticStyle:{"font-weight":"bold","margin-left":"auto"},attrs:{label:"",color:t.colors[s.status],"x-small":"",outlined:""}},["TOKEN_ERROR"===s.status?a("span",[t._v(" ERROR ")]):a("span",[t._v(" "+t._s(s.status)+" ")])]):t._e()],1),["active","activity_block"].includes(s.status.toLowerCase())?t._e():a("v-list-item-subtitle",[t._v(" "+t._s(t.$t("common.errorMessages.accountIsNotActive"))+" ")]),s.cookies?t._e():a("v-list-item-subtitle",[t._v(" "+t._s(t.$t("adsmanager.accounts.noCookies"))+" ")])],1)]}}]),model:{value:t.selectedAccounts,callback:function(e){t.selectedAccounts=e},expression:"selectedAccounts"}}),a("h2",{staticClass:"mb-2"},[t._v(" "+t._s(t.$t("adsmanager.accounts.whatRole"))+"? ")]),a("v-autocomplete",{staticClass:"mb-4",attrs:{items:[0,1,2,3,4],outlined:"",dense:""},scopedSlots:t._u([{key:"item",fn:function(e){var a=e.item;return[t._v(" "+t._s(t.$t("adsmanager.pages.roles."+a))+" ")]}},{key:"selection",fn:function(e){var a=e.item;return[t._v(" "+t._s(t.$t("adsmanager.pages.roles."+a))+" ")]}}]),model:{value:t.role,callback:function(e){t.role=e},expression:"role"}}),a("h2",{staticClass:"mb-2"},[t._v(" "+t._s(t.$t("adsmanager.accounts.whatToSend"))+" ")]),a("v-treeview",{staticClass:"accounts-dialog-share-fan-page",attrs:{"open-all":"",selectable:"",dense:"","selected-color":"primary",items:t.accountsFanPages},scopedSlots:t._u([{key:"prepend",fn:function(e){var s=e.item;return[s.ava?a("v-avatar",{attrs:{size:24}},[a("img",{attrs:{src:s.ava,alt:s.name}})]):t._e()]}}]),model:{value:t.selectedFanPages,callback:function(e){t.selectedFanPages=e},expression:"selectedFanPages"}})],1),a("v-col",{attrs:{cols:6}},[t.$_.isEmpty(t.responses)||t.loading?a("v-progress-linear",{attrs:{indeterminate:t.loading,value:0}}):a("div",t._l(t.responses,(function(e){return a("div",{key:"accounts-dialog-share-fan-page-response-"+e},[e.fp.ava?a("v-avatar",{attrs:{size:24}},[a("img",{attrs:{src:e.fp.ava,alt:e.fp.name}})]):t._e(),t._v(" "+t._s(e.fp.name)+" → "+t._s(e.accountName)+" "),e.success?a("span",[a("v-icon",{attrs:{color:"green"}},[t._v(" check_box ")])],1):e.error?a("span",[a("v-icon",{attrs:{color:"red"}},[t._v(" cancel ")]),a("span",{staticStyle:{"font-size":"12px",cursor:"pointer",color:"#2196F3","text-decoration":"underline"},on:{click:function(a){return t.openDetails(e.response)}}},[t._v(t._s(t.$t("common.learnMore")))])],1):t._e()],1)})),0)],1)],1)],1)],1)],1)},he=[],ge={name:"AccountsDialogShareFanPage",mixins:[C["a"]],data(){return{colors:H["a"],selectedFanPages:[],selectedAccounts:null,loading:!1,responses:[],detailsDialog:!1,forDetails:[],role:0}},computed:{...Object(l["c"])({dialogs:"accounts_v2/dialogs",accounts:"accounts_v2/ACCOUNTS"}),readyToShare(){return Array.isArray(this.selectedFanPages)&&this.selectedFanPages.length>0&&this.selectedAccounts&&Array.isArray(this.selectedAccounts)&&this.selectedAccounts.length>0},accountToShare(){return this.accounts.all.map(t=>(t=this.$_.cloneDeep(t),t.cookies&&["active","activity_block"].includes(t.status.toLowerCase())?t.disabled=!1:t.disabled=!0,t)).filter(t=>!this.accounts.selected.map(t=>parseInt(t.id,10)).includes(parseInt(t.id,10)))},accountsFanPages(){return this.accounts.selected.map(t=>(t=this.$_.cloneDeep(t),{id:t.id,name:t.name,disabled:!(Array.isArray(t.pages)&&t.pages.length>0),children:t.pages?t.pages.map(e=>(e.id=`${t.id}-${e.page_id}`,e)):[]}))},allFps(){return this.accounts.selected.reduce((t,e)=>{if(e.pages)return t.concat(e.pages)},[])}},methods:{close(){this.$store.dispatch("accounts_v2/closeDialog","shareFanPage")},async share(){try{this.loading=!0,this.responses=[];for(const t of this.selectedFanPages){const e=t.split("-"),a=this.allFps.find(t=>parseInt(t.page_id,10)===parseInt(e[1],10));if(a)for(const t of this.selectedAccounts){const s=await this.api.post(`/pages/share/?from_account_id=${e[0]}&page_id=${a.page_id}&to_account_id=${t.id}&role=${this.role}`);200===s.status&&s.data&&s.data.result&&s.data.result?this.responses.push({fp:a,accountName:t.name,success:!0,error:!1,response:null}):this.responses.push({fp:a,accountName:t.name,success:!1,error:!0,response:s})}}}catch(t){}finally{this.loading=!1,this.$store.dispatch("accounts_v2/LOAD_ACCOUNTS")}},openDetails(t){this.forDetails=t,this.detailsDialog=!0}}},ve=ge,fe=a("eb2a"),be=Object(p["a"])(ve,me,he,!1,null,null,null),_e=be.exports;h()(be,{VAutocomplete:st["a"],VAvatar:Dt["a"],VBtn:g["a"],VCard:v["a"],VCardActions:f["a"],VCardText:f["b"],VCardTitle:f["c"],VChip:G["a"],VCol:ot["a"],VDialog:b["a"],VDivider:V["a"],VIcon:_["a"],VListItemContent:Et["a"],VListItemSubtitle:Et["b"],VListItemTitle:Et["c"],VProgressLinear:y["a"],VRow:nt["a"],VSpacer:O["a"],VToolbar:I["a"],VToolbarItems:L["a"],VToolbarTitle:L["b"],VTreeview:fe["a"]});var ye=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-dialog",{attrs:{value:t.dialogs.turnOffPageNotifications,width:800,transition:"dialog-bottom-transition",scrollable:""},on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"esc",27,e.key,["Esc","Escape"])?null:t.closeDialog(e)},"click:outside":t.closeDialog}},[a("v-dialog",{attrs:{width:"700",scrollable:""},model:{value:t.detailsDialog,callback:function(e){t.detailsDialog=e},expression:"detailsDialog"}},[a("v-card",[a("v-card-title",{staticClass:"headline"},[t._v(" "+t._s(t.$t("common.learnMore"))+" ")]),a("v-card-text",{staticStyle:{"margin-top":"40px"}},[a("div",{staticClass:"d-flex justify-end"},[a("div",{staticStyle:{position:"fixed","margin-top":"-40px"}},[a("v-btn",{attrs:{color:"primary",text:""},on:{click:function(e){t.copyToClipboard(JSON.stringify(t.forDetails))}}},[a("v-icon",{staticClass:"mr-2",attrs:{size:14}},[t._v(" fas fa-copy ")]),t._v(" "+t._s(t.$t("common.copy"))+" ")],1)],1)]),a("code",{staticClass:"mt-0"},[t._v(t._s(JSON.stringify(t.forDetails,null,2)))])]),a("v-divider"),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",text:""},on:{click:function(e){t.detailsDialog=!1}}},[t._v(" "+t._s(t.$t("common.close"))+" ")])],1)],1)],1),a("v-card",[a("v-toolbar",{attrs:{color:"primary",dark:"",flat:"",dense:""}},[a("v-btn",{attrs:{icon:""},on:{click:t.closeDialog}},[a("v-icon",[t._v("fas fa-times")])],1),a("v-toolbar-title",[t._v(" "+t._s(t.$t("adsmanager.accounts.turnOffPageNotifications"))+" ")]),a("v-spacer"),a("v-toolbar-items",[t.$vuetify.breakpoint.sm||t.$vuetify.breakpoint.xs?t._e():a("v-btn",{attrs:{text:""},on:{click:t.closeDialog}},[t._v(" "+t._s(t.$t("common.cancel"))+" ")]),a("v-btn",{attrs:{text:"",disabled:t.$_.isEmpty(t.selectedPages),loading:t.loading},on:{click:t.turnOffNotifications}},[t._v(" "+t._s(t.$t("common.turnOff"))+" ")])],1)],1),a("v-card-text",[a("v-data-table",{attrs:{headers:t.colsAccounts,"fixed-header":"",items:t.accounts.selected},scopedSlots:t._u([{key:"item.account",fn:function(e){var a=e.item;return[t._v(" "+t._s(a.name)+" ")]}},{key:"item.page",fn:function(e){var s=e.item;return[a("v-data-table",{staticClass:"accounts-dialog-turn-off-page-notifications-pages-table",attrs:{headers:t.colsPages,"hide-default-header":"","hide-default-footer":"",items:s.pages,"items-per-page":-1,"show-select":""},scopedSlots:t._u([{key:"item.data-table-select",fn:function(e){var o=e.item;return[a("v-checkbox",{attrs:{"input-value":t.selectedPages.includes(o),ripple:!1,disabled:!t.pageIsReady(s,o).value},on:{change:function(e){return t.selectPage(o)}}})]}},{key:"item.pageName",fn:function(e){var s=e.item;return[void 0!==s.ava?a("v-avatar",{staticClass:"mr-1",attrs:{size:18}},[a("img",{attrs:{src:s.ava}})]):t._e(),void 0!==s.notifications&&1===parseInt(s.notifications,10)?a("v-icon",{attrs:{size:16}},[t._v(" far fa-bell ")]):t._e(),void 0!==s.notifications&&0===parseInt(s.notifications,10)?a("v-icon",{attrs:{size:16}},[t._v(" far fa-bell-slash ")]):t._e(),t._v(" "+t._s(s.name)+" ")]}},{key:"item.pageStatus",fn:function(e){var s=e.item;return[a("v-chip",{attrs:{color:t.pageStatus(s).color,"x-small":"",label:"",outlined:""}},[t._v(" "+t._s(t.pageStatus(s).status)+" ")])]}},{key:"item.jobStatus",fn:function(e){var o=e.item;return[t.pageIsReady(s,o).value?a("div",[t.responses[o.page_id]?t.responses&&t.responses[o.page_id]&&t.responses[o.page_id]["success"]?a("span",[a("v-icon",{attrs:{color:"green"}},[t._v(" check_box ")])],1):t.responses&&t.responses[o.page_id]&&!t.responses[o.page_id]["success"]?a("span",[a("v-icon",{attrs:{color:"red"}},[t._v(" cancel ")]),a("span",{staticStyle:{"font-size":"12px",cursor:"pointer",color:"#2196F3","text-decoration":"underline"},on:{click:function(e){return t.openDetails(t.responses[o.page_id]["response"])}}},[t._v(t._s(t.$t("common.learnMore")))])],1):t._e():a("v-progress-linear",{staticStyle:{"min-width":"50px"},attrs:{indeterminate:t.loadingPages.includes(o.page_id),value:0}})],1):a("span",{staticStyle:{color:"#9E9E9E"}},[t._v(" "+t._s(t.pageIsReady(s,o).text)+" ")])]}}],null,!0)})]}}],null,!0)})],1)],1)],1)},xe=[],ke={name:"AccountsDialogTurnOffPageNotifications",mixins:[C["a"]],data(){return{detailsDialog:!1,forDetails:[],loading:!1,selectedPages:[],responses:{},loadingPages:[]}},computed:{...Object(l["c"])({accounts:"accounts_v2/accounts",dialogs:"accounts_v2/dialogs"}),colsAccounts(){let t=[];return t.push({text:this.$t("common.account"),value:"account",width:150}),t.push({text:this.$t("common.fanPage"),value:"page"}),t},colsPages(){let t=[];return t.push({text:this.$t("settings.adsCreation.settingsPage.pageName"),value:"pageName",width:150}),t.push({text:this.$t("common.status"),value:"pageStatus",width:150,sortable:!1}),t.push({text:this.$t("common.jobStatus"),value:"jobStatus",sortable:!1}),t}},methods:{closeDialog(){this.$store.dispatch("accounts_v2/closeDialog","turnOffPageNotifications")},pageIsReady(t){return t&&"ACTIVE"!==t.status&&"ACTIVITY_BLOCK"!==t.status?{text:this.$t("common.errorMessages.accountIsNotActive"),value:!1}:t&&this.$_.isEmpty(t.cookies)?{text:this.$t("common.errorMessages.accountHasNoCookies"),value:!1}:{value:!0}},async turnOffNotifications(){try{let t=!1;this.loading=!0,this.responses={},this.loadingPages=[];for(const e of this.selectedPages)this.loadingPages.push(e.page_id);for(const e of this.selectedPages){const a=await this.api.post(`/pages/turn_off_all_notifications/?account_id=${e.account_id}&page_id=${e.page_id}`);200===a.status&&a.data.result?(t||(t=!0),this.$set(this.responses,e.page_id,{success:!0}),this.selectedPages=this.selectedPages.filter(t=>parseInt(t.page_id,10)!==parseInt(e.page_id,10)),this.loadingPages=this.loadingPages.filter(t=>parseInt(t.page_id,10)!==parseInt(e.page_id,10)),this.$store.dispatch("accounts_v2/setFanPageNotifications",{accountId:e.account_id,pageId:e.page_id,value:0})):this.$set(this.responses,e.page_id,{success:!1,response:a})}t&&this.$store.dispatch("accounts_v2/LOAD_ACCOUNTS")}catch(t){}finally{this.loading=!1,this.loadingPages=[]}},openDetails(t){this.forDetails=t,this.detailsDialog=!0},selectPage(t){this.selectedPages.includes(t)?this.selectedPages=this.selectedPages.filter(e=>parseInt(e.page_id,10)!==parseInt(t.page_id,10)):this.selectedPages.push(t)},pageStatus(t){return void 0!==t.advertising_restriction&&1===parseInt(t.advertising_restriction,10)?{status:"banned",color:"error"}:void 0!==t.is_published&&0===parseInt(t.is_published,10)?{status:"unpublished",color:"error"}:{status:"active",color:"success"}}}},we=ke,$e=(a("334a"),Object(p["a"])(we,ye,xe,!1,null,null,null)),Ce=$e.exports;h()($e,{VAvatar:Dt["a"],VBtn:g["a"],VCard:v["a"],VCardActions:f["a"],VCardText:f["b"],VCardTitle:f["c"],VCheckbox:S["a"],VChip:G["a"],VDataTable:P["a"],VDialog:b["a"],VDivider:V["a"],VIcon:_["a"],VProgressLinear:y["a"],VSpacer:O["a"],VToolbar:I["a"],VToolbarItems:L["a"],VToolbarTitle:L["b"]});var Ae=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-dialog",{attrs:{value:t.dialogs.unarchive,"hide-overlay":"",persistent:"",width:"300","content-class":"loading-modal"}},[a("v-card",{attrs:{color:"primary"}},[a("v-card-text",[a("div",{staticStyle:{display:"flex","justify-content":"space-between"}},[a("div",[t._v(" "+t._s(t.$t("dialogs.accounts.unarchive.loadingText"))+" ")]),a("div",[t._v(" "+t._s(t.done)+" / "+t._s(t.accounts.selected.length)+" ")])]),a("v-progress-linear",{staticClass:"mb-0",attrs:{indeterminate:"",color:"white"}})],1)],1)],1)},Te=[],De={name:"AccountsDialogsUnarchive",data(){return{showLoading:!0,done:0}},computed:{...Object(l["c"])({accounts:"accounts_v2/accounts",dialogs:"accounts_v2/dialogs"})},async created(){if(this.accounts.selected&&Array.isArray(this.accounts.selected)&&this.accounts.selected.length>0){const t={ids:this.accounts.selected.map(t=>t.id)};await this.api.post("/accounts/unarchive",t).catch(()=>!0),this.$store.dispatch("accounts_v2/closeDialog","unarchive"),this.$store.dispatch("accounts_v2/LOAD_ACCOUNTS")}else this.$store.dispatch("accounts_v2/closeDialog","unarchive")}},Se=De,Pe=Object(p["a"])(Se,Ae,Te,!1,null,null,null),Ve=Pe.exports;h()(Pe,{VCard:v["a"],VCardText:f["b"],VDialog:b["a"],VProgressLinear:y["a"]});var Oe=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-dialog",{attrs:{value:t.dialogs.assignTags,persistent:"","max-width":"600px"}},[a("v-card",{attrs:{loading:t.loading.assignTagsDialog}},[a("v-card-title",[a("span",{staticClass:"headline"},[t._v(" "+t._s(t.$t("dialogs.accounts.assignTags.title",{accountName:t.newAccount.name}))+" ")])]),a("v-card-text",[a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("v-combobox",{attrs:{label:t.$t("common.tags"),items:t.tags.all,multiple:"",chips:"","deletable-chips":"",clearable:""},model:{value:t.newAccount.tags,callback:function(e){t.$set(t.newAccount,"tags",e)},expression:"newAccount.tags"}})],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(e){return t.$store.dispatch("accounts_v2/closeDialog","assignTags")}}},[t._v(" "+t._s(t.$t("common.close"))+" ")]),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:t.saveTags}},[t._v(" "+t._s(t.$t("common.save"))+" ")])],1)],1)],1)},Ie=[],Le={name:"AccountsAssignTagsDialog",data:()=>({newAccount:{name:""}}),computed:{...Object(l["c"])({dialogs:"accounts_v2/dialogs",tags:"tags/tags",account:"accounts_v2/accountForAssigningTags",loading:"accounts_v2/loading"})},created(){this.newAccount={...this.account},this.$store.dispatch("tags/loadTags")},methods:{async saveTags(){const t=await this.$store.dispatch("accounts_v2/saveTags",this.newAccount);t&&(this.$store.dispatch("tags/loadTags"),this.$store.dispatch("accounts_v2/closeDialog","assignTags"))}}},je=Le,Fe=Object(p["a"])(je,Oe,Ie,!1,null,null,null),Ne=Fe.exports;h()(Fe,{VBtn:g["a"],VCard:v["a"],VCardActions:f["a"],VCardText:f["b"],VCardTitle:f["c"],VCol:ot["a"],VCombobox:Xt["a"],VContainer:vt["a"],VDialog:b["a"],VRow:nt["a"],VSpacer:O["a"]});var Ee=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-dialog",{attrs:{value:t.dialogs.edit,persistent:"",fullscreen:""},on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"esc",27,e.key,["Esc","Escape"])?null:t.close(e)}}},[a("v-card",{attrs:{loading:t.loading.editDialog}},[a("v-toolbar",{attrs:{color:"primary"}},[a("v-btn",{attrs:{icon:""},on:{click:t.close}},[a("v-icon",[t._v("fas fa-times")])],1),a("v-toolbar-title",[t._v(t._s(t.$t("dialogs.accounts.edit.title",{accountName:t.account.name})))]),a("v-spacer"),a("v-toolbar-items",[a("v-btn",{attrs:{text:"",disabled:!t.validation.state},on:{click:t.saveAccount}},[t._v(" "+t._s(t.$t("common.save"))+" ")])],1)],1),a("v-card-text",[a("dialog-form",{attrs:{edit:"",account:t.account},on:{change:function(e){return t.changeAccount(e)},"validation-changed":function(e){t.validation.state=e}}})],1)],1)],1)},Re=[],ze=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-form",{ref:"form",model:{value:t.validation.state,callback:function(e){t.$set(t.validation,"state",e)},expression:"validation.state"}},[a("v-container",[a("v-dialog",{attrs:{width:"700",scrollable:""},model:{value:t.infoDialog,callback:function(e){t.infoDialog=e},expression:"infoDialog"}},[a("v-card",[a("v-card-title",{staticClass:"headline"},[t._v(" "+t._s(t.$t("common.howToGet"))+" ")]),a("v-card-text",{domProps:{innerHTML:t._s(t.$t("adsmanager.accounts.add.howToGetBmToken"))}}),a("v-divider"),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",text:""},on:{click:function(e){t.infoDialog=!1}}},[t._v(" "+t._s(t.$t("common.close"))+" ")])],1)],1)],1),a("v-row",[a("v-col",{attrs:{cols:"12",sm:"6"}},[a("v-col",{attrs:{cols:"12"}},[a("v-text-field",{attrs:{label:t.$t("common.name"),rules:t.validation.rules.name,required:"",outlined:"",dense:""},model:{value:t.newAccount.name,callback:function(e){t.$set(t.newAccount,"name",e)},expression:"newAccount.name"}})],1),a("v-col",{attrs:{cols:"12"}},[a("v-combobox",{attrs:{label:t.$t("common.tags"),items:t.tags.all,multiple:"",chips:"","deletable-chips":"",outlined:"",dense:!(t.newAccount.tags&&(!t.newAccount.tags||0!==t.newAccount.tags.length))},model:{value:t.newAccount.tags,callback:function(e){t.$set(t.newAccount,"tags",e)},expression:"newAccount.tags"}})],1),a("v-col",{attrs:{cols:"12"}},[a("v-textarea",{attrs:{label:t.$t("common.access_token"),rules:t.validation.rules.access_token,outlined:"",dense:"",spellcheck:!1},on:{change:t.accessTokenCheck},model:{value:t.newAccount.access_token,callback:function(e){t.$set(t.newAccount,"access_token",e)},expression:"newAccount.access_token"}}),t.showAccessTokenAlert?a("v-alert",{attrs:{text:"",color:"red",dense:"","hide-details":""}},[t._v(" "+t._s(t.$t("adsmanager.accounts.add.incorrectAccessTokenAlert"))+" ")]):t._e()],1),a("v-col",{attrs:{cols:"12"}},[a("v-expansion-panels",{attrs:{accordion:""}},[a("v-expansion-panel",[a("v-expansion-panel-header",[t._v(t._s(t.$t("upload.wizard.cardsTitles.additionally")))]),a("v-expansion-panel-content",[a("v-col",{attrs:{cols:"12"}},[a("v-textarea",{staticClass:"textarea-with-info-button",attrs:{label:t.$t("adsmanager.accounts.add.bmAccessToken")+" ("+t.$t("common.optional").toLowerCase()+")",outlined:"",dense:"","hide-details":"",spellcheck:!1},on:{change:t.bmAccessTokenCheck},scopedSlots:t._u([{key:"append",fn:function(){return[a("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on;return[a("v-btn",t._g({attrs:{"x-small":"",icon:""}},s),[a("v-icon",{attrs:{size:16}},[t._v(" far fa-question-circle ")])],1)]}}])},[a("span",[t._v(t._s(t.$t("adsmanager.accounts.add.infoBmToken")))])])]},proxy:!0}]),model:{value:t.newAccount.business_access_token,callback:function(e){t.$set(t.newAccount,"business_access_token",e)},expression:"newAccount.business_access_token"}}),a("div",[t.accountHasCookies?a("a",{attrs:{href:"#"},on:{click:t.getBmTokenWithCookies}},[t._v(" "+t._s(t.$t("adsmanager.accounts.getBmTokenWithCookies"))+" ")]):t._e(),t.gettingBmTokenWithCookies.progress?a("v-icon",{attrs:{size:14}},[t._v(" fas fa-circle-notch fa-spin ")]):t._e(),t.gettingBmTokenWithCookies.response&&!t.gettingBmTokenWithCookies.result?a("v-icon",{attrs:{size:16,color:"red"}},[t._v(" fas fa-times-circle ")]):t._e(),t.gettingBmTokenWithCookies.response&&t.gettingBmTokenWithCookies.result?a("v-icon",{attrs:{size:16,color:"green"}},[t._v(" fas fa-check-square ")]):t._e()],1),t.showBmAccessTokenAlert?a("v-alert",{staticClass:"my-2",attrs:{text:"",color:"red",dense:"","hide-details":""}},[t._v(" "+t._s(t.$t("adsmanager.accounts.add.incorrectBmAccessTokenAlert"))+" ")]):t._e(),a("div",{staticClass:"span-link",on:{click:function(e){t.infoDialog=!0}}},[t._v(" "+t._s(t.$t("common.howToGet"))+" ")])],1),a("v-col",{attrs:{cols:"12"}},[a("v-textarea",{staticClass:"textarea-with-info-button",attrs:{value:t.accountHasCookies?JSON.stringify(t.account.cookies):null,label:t.$t("common.cookies")+" ("+t.$t("common.optional").toLowerCase()+")",outlined:"",dense:"","hide-details":"",spellcheck:!1},on:{input:function(e){t.cookiesInput=e}},scopedSlots:t._u([{key:"append",fn:function(){return[a("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on;return[a("v-btn",t._g({attrs:{"x-small":"",icon:""}},s),[a("v-icon",{attrs:{size:16}},[t._v(" far fa-question-circle ")])],1)]}}])},[a("span",[t._v(t._s(t.$t("adsmanager.accounts.add.infoCookies")))])])]},proxy:!0}])}),a("v-alert",{directives:[{name:"show",rawName:"v-show",value:t.noFbCookies,expression:"noFbCookies"}],staticClass:"mt-2 mb-0",attrs:{color:"error",dark:"",text:""}},[t._v(" "+t._s(t.$t("adsmanager.accounts.noFbCookies"))+" ")])],1),a("v-col",{attrs:{cols:"12"}},[a("v-text-field",{attrs:{label:"Facebook "+t.$t("common.password"),outlined:"",dense:"","hide-details":"",spellcheck:!1},model:{value:t.newAccount.password,callback:function(e){t.$set(t.newAccount,"password",e)},expression:"newAccount.password"}})],1)],1)],1)],1)],1)],1),a("v-col",{attrs:{cols:"12",sm:"6"}},[a("v-col",{attrs:{cols:"12"}},[a("v-switch",{staticClass:"mt-0",attrs:{label:t.$t("common.useragent")},model:{value:t.show.useragent,callback:function(e){t.$set(t.show,"useragent",e)},expression:"show.useragent"}}),t.show.useragent?a("v-text-field",{attrs:{label:t.$t("common.useragent"),rules:t.validation.rules.useragent,outlined:"",dense:""},scopedSlots:t._u([{key:"prepend-inner",fn:function(){return[a("v-btn",{attrs:{"x-small":"",icon:""},on:{click:t.randomizeUseragent}},[a("v-icon",{staticStyle:{"margin-top":"3px"}},[t._v(" autorenew ")])],1)]},proxy:!0}],null,!1,1913038471),model:{value:t.newAccount.useragent,callback:function(e){t.$set(t.newAccount,"useragent",e)},expression:"newAccount.useragent"}}):t._e()],1),a("v-col",{attrs:{cols:"12"}},[a("v-switch",{attrs:{label:t.$t("common.proxy")},model:{value:t.show.proxy,callback:function(e){t.$set(t.show,"proxy",e)},expression:"show.proxy"}}),t.show.proxy?a("v-row",[a("v-col",{attrs:{cols:"12",md:"6"}},[a("v-autocomplete",{attrs:{items:t.proxy.all.concat(t.newProxies),label:t.$t("common.existingProxy"),"item-value":function(t){return t.id},filter:t.searchExistingProxy,clearable:"",outlined:"",dense:""},scopedSlots:t._u([{key:"item",fn:function(e){var a=e.item;return[t._v(" ["+t._s(a.accounts_count)+"] "+t._s("undefined"!==typeof a&&"undefined"!==typeof a.name&&null!==a.name?a.name:null===a.login?a.ip+":"+a.port:a.ip+":"+a.port+":"+a.login+":"+a.password)+" ")]}},{key:"selection",fn:function(e){var a=e.item;return[t._v(" ["+t._s(a.accounts_count)+"] "+t._s("undefined"!==typeof a&&"undefined"!==typeof a.name&&null!==a.name?a.name:null===a.login?a.ip+":"+a.port:a.ip+":"+a.port+":"+a.login+":"+a.password)+" ")]}}],null,!1,2306704892),model:{value:t.existingProxy,callback:function(e){t.existingProxy=e},expression:"existingProxy"}})],1),a("v-col",{attrs:{cols:"12",md:"6"}},[a("v-text-field",{attrs:{label:t.$t("adsmanager.accounts.add.quickInput"),outlined:"",dense:""},model:{value:t.quickInput,callback:function(e){t.quickInput=e},expression:"quickInput"}})],1),a("v-col",{attrs:{cols:"12",sm:"6"}},[t.newAccount.proxy?a("v-text-field",{attrs:{label:t.$t("common.name"),outlined:"",dense:""},model:{value:t.newAccount.proxy.name,callback:function(e){t.$set(t.newAccount.proxy,"name",e)},expression:"newAccount.proxy.name"}}):t._e()],1),a("v-col",{attrs:{cols:"12",sm:"6"}},[t.newAccount.proxy?a("v-select",{attrs:{label:t.$t("common.type"),items:t.proxy_types,rules:t.validation.rules.proxy,outlined:"",dense:""},model:{value:t.newAccount.proxy.type,callback:function(e){t.$set(t.newAccount.proxy,"type",e)},expression:"newAccount.proxy.type"}}):t._e()],1),a("v-col",{attrs:{cols:"12",sm:"6"}},[t.newAccount.proxy?a("v-text-field",{attrs:{label:t.$t("common.host"),rules:t.validation.rules.proxy,outlined:"",dense:""},model:{value:t.newAccount.proxy.ip,callback:function(e){t.$set(t.newAccount.proxy,"ip",e)},expression:"newAccount.proxy.ip"}}):t._e()],1),a("v-col",{attrs:{cols:"12",sm:"6"}},[t.newAccount.proxy?a("v-text-field",{attrs:{label:t.$t("common.port"),rules:t.validation.rules.proxy,outlined:"",dense:""},model:{value:t.newAccount.proxy.port,callback:function(e){t.$set(t.newAccount.proxy,"port",e)},expression:"newAccount.proxy.port"}}):t._e()],1),a("v-col",{attrs:{cols:"12",sm:"6"}},[t.newAccount.proxy?a("v-text-field",{attrs:{label:t.$t("common.login"),outlined:"",dense:""},model:{value:t.newAccount.proxy.login,callback:function(e){t.$set(t.newAccount.proxy,"login",e)},expression:"newAccount.proxy.login"}}):t._e()],1),a("v-col",{attrs:{cols:"12",sm:"6"}},[t.newAccount.proxy?a("v-text-field",{attrs:{label:t.$t("common.password"),outlined:"",dense:""},model:{value:t.newAccount.proxy.password,callback:function(e){t.$set(t.newAccount.proxy,"password",e)},expression:"newAccount.proxy.password"}}):t._e()],1)],1):t._e()],1)],1)],1)],1)],1)},Me=[],Be=a("8624"),Ue={name:"AccountsDialogForm",props:{edit:{type:Boolean,default:!1},account:{type:Object,default:()=>({})}},data:function(){return{proxy_types:tt["a"],useragents:Be["a"],validation:{state:!1,rules:{name:[t=>!!t||this.$t("common.required").toLowerCase()],access_token:[t=>!!t||this.$t("common.required").toLowerCase()],proxy:[t=>!t||0!==t.length||!this.show.proxy||this.$t("common.required").toLowerCase()],useragent:[t=>!t||0!==t.length||!this.show.useragent||this.$t("common.required").toLowerCase()]}},existingProxy:{},newAccount:{name:"",tags:[],access_token:"",business_access_token:"",useragent:"",proxy:{name:"",type:"",host:"",port:"",login:"",password:""},newProxy:null,cookies:null,lsd:"",fbdtsg:"",password:""},show:{useragent:!0,proxy:!1},quickInput:null,newProxies:[],showAccessTokenAlert:!1,showBmAccessTokenAlert:!1,cookiesInput:"",infoDialog:!1,gettingBmTokenWithCookies:{progress:!1,response:null,result:!1},noFbCookies:!1}},computed:{...Object(l["c"])({dialogs:"accounts_v2/dialogs",tags:"tags/tags",proxy:"proxy/proxy"}),accountHasCookies(){return"undefined"!==typeof this.account&&"undefined"!==typeof this.account.cookies&&Array.isArray(this.account.cookies)&&this.account.cookies.length>0}},watch:{"show.useragent":function(){!1===this.show.useragent&&(this.newAccount.useragent="")},"show.proxy":function(){this.$emit("proxyChange",this.show.proxy),!1===this.show.proxy?this.newAccount.proxy={name:"",type:"",ip:"",port:"",login:"",password:""}:this.existingProxy&&this.loadDataFromExistingProxy()},existingProxy:function(){this.loadDataFromExistingProxy()},newAccount:{deep:!0,handler(){this.$emit("change",this.newAccount)}},"newAccount.useragent":{deep:!0,handler(t){this.$emit("useragentChange",t)}},"validation.state":function(){this.$emit("validation-changed",this.validation.state)},quickInput:function(){this.parse()},cookiesInput:{handler(t){this.parseCookies(t)}},"newAccount.cookies":{deep:!0,handler(t){if(this.noFbCookies=!1,Array.isArray(t)&&t.length){const e=t.filter(t=>{try{const e=Object.keys(t);for(const a of e)if("domain"===a.toLowerCase()&&t[a].includes("facebook.com"))return!0;return!1}catch(e){return!1}});0===e.length&&(this.noFbCookies=!0)}}}},created(){this.randomizeUseragent(),this.edit&&(this.$store.dispatch("tags/loadTags"),this.$store.dispatch("proxy/loadProxy"),null!==this.account.proxy_id&&(this.show.proxy=!0,this.existingProxy=this.account.proxy_id),this.newAccount=this.$_.cloneDeep(this.account),null!==this.newAccount.user_agent&&this.newAccount.user_agent.length>0&&(this.show.useragent=!0,this.newAccount.useragent=this.newAccount.user_agent))},methods:{async getBmTokenWithCookies(){let t;this.$set(this.gettingBmTokenWithCookies,"progress",!0);try{t=await this.api("/accounts/get_business_token_with_cookies/?account_id="+this.account.id)}catch(e){this.$set(this.gettingBmTokenWithCookies,"progress",!1)}this.$set(this.gettingBmTokenWithCookies,"progress",!1),this.$set(this.gettingBmTokenWithCookies,"response",t.data),this.$set(this.gettingBmTokenWithCookies,"result",t.data.result),t.data&&t.data.result&&t.data.token&&this.$set(this.newAccount,"business_access_token",t.data.token)},searchExistingProxy(t,e){const a=e.toLowerCase();return!(!t||!t.name||-1===t.name.toString().toLowerCase().search(a))||(!(!t.ip||-1===t.ip.toString().toLowerCase().search(a))||(!(!t.port||-1===t.port.toString().toLowerCase().search(a))||(!(!t.login||-1===t.login.toString().toLowerCase().search(a))||!(!t.password||-1===t.password.toString().toLowerCase().search(a)))))},loadDataFromExistingProxy(){"undefined"===typeof this.existingProxy&&(this.newAccount.proxy={name:"",type:"",ip:"",port:"",login:"",password:""},this.quickInput=null);const t=this.proxy.all.find(t=>t.id===this.existingProxy);t&&(this.newAccount.proxy={...t})},accessTokenCheck(){return 0!==this.newAccount.access_token.toLowerCase().search("eaabs")?this.showAccessTokenAlert=!0:this.showAccessTokenAlert=!1},bmAccessTokenCheck(){return this.newAccount.business_access_token.toLowerCase().startsWith("eaag")?this.showBmAccessTokenAlert=!1:this.showBmAccessTokenAlert=!0},parse(){if(null===this.quickInput||""===this.quickInput)return;this.newProxies=[];let t={proxy:{id:null,ip:null,port:null,login:null,password:null,name:null,accounts_count:0,type:null},newProxy:null},e=this.quickInput.trim();if(-1===e.indexOf(":")){let a=this.proxy.all.find(t=>t.id===parseInt(e));t.proxy={...a},t.newProxy=null}else{t.newProxy=this.quickInput.trim();let a=null;-1===e.indexOf("/")?a="http":e.split("://").length>1&&(a=e.split("://")[0].toLowerCase(),"https"===a&&(a="http"),"socks"===a&&(a="socks5"),e=e.split("://")[1]),e.split(":").length>1&&(2===e.split(":").length&&(t.proxy={id:null,ip:e.split(":")[0].trim(),port:e.split(":")[1].trim(),login:null,password:null,name:null,accounts_count:0,type:a}),3===e.split(":").length&&(t.proxy={id:null,ip:e.split(":")[0].trim(),port:e.split(":")[1].trim(),login:null,password:null,name:e.split(":")[2].trim(),accounts_count:0,type:a}),4===e.split(":").length&&(t.proxy={id:null,ip:e.split(":")[0].trim(),port:e.split(":")[1].trim(),login:e.split(":")[2].trim(),password:e.split(":")[3].trim(),name:null,accounts_count:0,type:a}),5===e.split(":").length&&(t.proxy={id:null,ip:e.split(":")[0].trim(),port:e.split(":")[1].trim(),login:e.split(":")[2].trim(),password:e.split(":")[3].trim(),name:e.split(":")[4].trim(),accounts_count:0,type:a}))}null===t.proxy.id&&null!==t.proxy.ip&&null!==t.proxy.port&&(this.newProxies.push({...t.proxy}),this.existingProxy={...t.proxy},this.newAccount.proxy={...t.proxy})},randomizeUseragent(){let t=this.useragents.length,e=1,a=Math.floor(Math.random()*(t-e+1)+e);return this.newAccount.useragent=this.useragents[a-1]},isJsonString(t){try{JSON.parse(t)}catch(e){return!1}return!0},isBase64(t){try{return btoa(atob(t))===t}catch(e){return!1}},parseNetscapeCookies(t){const e=t.toString().split("\n");if(0===e.length)return[];const a=[];for(const s of e){const t=s.toString();if("#"===t.substring(0,1)||0===t.trim().length||-1===t.search("\t"))continue;const e=t.split("\t"),o={};o.domain="undefined"===typeof e[0]?null:e[0],o.httpOnly="undefined"===typeof e[1]?null:"TRUE"===e[1].toString().toUpperCase(),o.path="undefined"===typeof e[2]?null:e[2],o.secure="undefined"===typeof e[3]?null:"TRUE"===e[3].toString().toUpperCase(),o.expirationDate="undefined"===typeof e[4]?null:parseInt(e[4]),o.name="undefined"===typeof e[5]?null:e[5],o.value="undefined"===typeof e[6]?null:e[6],a.push(o)}return a},parseCookies(t){let e=t;this.newAccount.cookies="",this.isBase64(e)&&(e=atob(e)),this.isJsonString(e)?this.newAccount.cookies=JSON.parse(e):this.newAccount.cookies=this.parseNetscapeCookies(e)},sanitizeAdditionalTokens(t,e){"lsd"===e&&this.$set(this.newAccount,"lsd",t.split(" ").join("").split('"').join("").split("\n").join("").replace("lsd","").replace("LSD","")),"fbdtsg"===e&&this.$set(this.newAccount,"fbdtsg",t.split(" ").join("").split('"').join("").split("\n").join("").replace("fbdtsg","").replace("FBDTSG",""))}}},qe=Ue,He=(a("4cbb"),a("cd55")),We=a("49e2"),Ye=a("c865"),Je=a("0393"),Ge=a("4bd4"),Ke=a("3a2f"),Qe=Object(p["a"])(qe,ze,Me,!1,null,null,null),Xe=Qe.exports;h()(Qe,{VAlert:J["a"],VAutocomplete:st["a"],VBtn:g["a"],VCard:v["a"],VCardActions:f["a"],VCardText:f["b"],VCardTitle:f["c"],VCol:ot["a"],VCombobox:Xt["a"],VContainer:vt["a"],VDialog:b["a"],VDivider:V["a"],VExpansionPanel:He["a"],VExpansionPanelContent:We["a"],VExpansionPanelHeader:Ye["a"],VExpansionPanels:Je["a"],VForm:Ge["a"],VIcon:_["a"],VRow:nt["a"],VSelect:it["a"],VSpacer:O["a"],VSwitch:St["a"],VTextField:ct["a"],VTextarea:Pt["a"],VTooltip:Ke["a"]});var Ze={name:"AccountsSingleEditDialog",components:{DialogForm:Xe},data(){return{validation:{state:!1},newAccount:{},initialAccount:{},initialAccountChanges:!1}},computed:{...Object(l["c"])({dialogs:"accounts_v2/dialogs",loading:"accounts_v2/loading",account:"accounts_v2/forEdit"})},methods:{close(){(this.$_.isEqual(this.newAccount,this.initialAccount)||(this.confirmation=confirm(this.$t("common.closeDialogConfirmation")),this.confirmation))&&this.$store.dispatch("accounts_v2/closeDialog","edit")},changeAccount(t){this.newAccount=t,this.initialAccountChanges||(this.initialAccount=this.$_.cloneDeep(t),this.initialAccountChanges=!0)},saveAccount(){this.$store.dispatch("accounts_v2/saveAccount",this.newAccount)}}},ta=Ze,ea=Object(p["a"])(ta,Ee,Re,!1,null,null,null),aa=ea.exports;h()(ea,{VBtn:g["a"],VCard:v["a"],VCardText:f["b"],VDialog:b["a"],VIcon:_["a"],VSpacer:O["a"],VToolbar:I["a"],VToolbarItems:L["a"],VToolbarTitle:L["b"]});var sa=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-card",[a("v-card-text",{staticStyle:{padding:"0px 8px 0px 8px"}},[a("v-data-table",{staticClass:"stat-table stat-table-accounts",attrs:{id:"adsmanagerMainTableAccounts",value:t.selected,headers:t.cols,items:t.accounts.filtered,loading:t.loading.mainTable,"loading-text":t.$t("common.loading"),"fixed-header":"",height:t.$vuetify.breakpoint.xs||t.$vuetify.breakpoint.sm?t.innerHeight-166:t.innerHeight-50-48-32,"show-select":"","custom-sort":t.customSortsAccounts,"server-items-length":t.accounts.count,"hide-default-footer":"","mobile-breakpoint":0,"header-props":{"sort-icon":"arrow_downward"},page:t.page,options:t.options,"items-per-page":t.itemsPerPage},on:{"update:page":[function(e){t.page=e},t.updatePage],"update:options":function(e){t.options=e},"toggle-select-all":t.selectAll,"item-selected":t.selectItem,"update:items-per-page":function(e){return t.setItemsPerPage(e)}},scopedSlots:t._u([{key:"header.data-table-select",fn:function(e){var s=e.on,o=e.props;return[a("v-simple-checkbox",t._g(t._b({staticStyle:{width:"48px","text-align":"center"},attrs:{color:"primary"}},"v-simple-checkbox",o,!1),s))]}},{key:"body",fn:function(e){var s=e.items;return[a("tbody",t._l(s,(function(e){return a("tr",{key:"row-"+e.id,staticStyle:{cursor:"pointer"},on:{click:function(a){return t.selectItemByRow(e,a)}}},[a("td",[a("div",[a("v-simple-checkbox",{directives:[{name:"ripple",rawName:"v-ripple"}],staticStyle:{width:"48px","text-align":"center"},attrs:{color:"primary",value:void 0!==t.accounts.selected.find((function(t){return t.id===e.id}))},on:{input:function(a){return t.selectItem(e,a)}}})],1)]),a("td",[a("accounts-main-table-info",{attrs:{account:e}})],1),a("td",[a("accounts-main-table-status",{attrs:{account:e}})],1),t._l(t.profile.columns,(function(s){return[t.showSimpleStatCell(s)?a("simple-stat-cell",{key:"stat-col-"+s,attrs:{col:s,item:e}}):t._e(),t.actionCols.indexOf(s)>-1?a("complex-stat-cell-quantity",{key:"stat-col-"+s+"-quantity",attrs:{col:s,item:e}}):t._e(),s.lastIndexOf("cr")===s.length-2?a("complex-stat-cell-cr",{key:"stat-col-"+s+"-cr",attrs:{col:s,item:e}}):t._e(),s.lastIndexOf("cpa")===s.length-3?a("complex-stat-cell-cpa",{key:"stat-col-"+s+"-cpa",attrs:{col:s,item:e}}):t._e(),"account_fan_pages"===s?a("account-fan-pages-cell",{key:"stat-col-"+s+"-cpa",attrs:{item:e}}):t._e(),"account_bms"===s?a("account-bms-cell",{key:"stat-col-"+s+"-cpa",attrs:{item:e}}):t._e()]}))],2)})),0),a("tfoot",[t.accounts.filtered.length>0?a("tr",[a("td"),a("td"),a("td"),t._l(t.profile.columns,(function(e){return[t.showSimpleStatCell(e)?a("simple-stat-cell",{key:"stat-col-"+e+"-total",attrs:{col:e,"it-is-total-row":""}}):t._e(),t.actionCols.indexOf(e)>-1?a("complex-stat-cell-quantity",{key:"stat-col-"+e+"-quantity-total",attrs:{col:e,"it-is-total-row":""}}):t._e(),e.lastIndexOf("cr")===e.length-2?a("complex-stat-cell-cr",{key:"stat-col-"+e+"-cr-total",attrs:{col:e,"it-is-total-row":""}}):t._e(),e.lastIndexOf("cpa")===e.length-3?a("complex-stat-cell-cpa",{key:"stat-col-"+e+"-cpa-total",attrs:{col:e,"it-is-total-row":""}}):t._e(),"account_fan_pages"===e?a("td",{key:"stat-col-"+e+"-total"}):t._e(),"account_bms"===e?a("td",{key:"stat-col-"+e+"-total"}):t._e()]}))],2):t._e()])]}}],null,!0)}),a("div",{staticClass:"d-flex justify-end align-center dolphin-main-table-footer",class:{"justify-center":t.$vuetify.breakpoint.xs||t.$vuetify.breakpoint.sm,"justify-space-between":!t.$vuetify.breakpoint.xs&&!t.$vuetify.breakpoint.sm}},[t.$vuetify.breakpoint.xs||t.$vuetify.breakpoint.sm?t._e():a("div",{staticClass:"dolphin-main-table-footer-tags",staticStyle:{overflow:"hidden","white-space":"nowrap","overflow-x":"auto","scroll-direction":"horizontal",width:"auto","margin-right":"auto"}},t._l(t.popularTags,(function(e){return a("v-chip",{key:e,staticClass:"mr-1",attrs:{color:t.detectColor(e),dark:"",outlined:t.filters.tags&&!t.filters.tags.includes(e),"x-small":"",label:""},on:{click:function(a){return t.filterByTags(e)}}},[t._v(" "+t._s(e)+" ")])})),1),a("div",{staticClass:"mx-2",staticStyle:{"white-space":"nowrap"}},[t._v(" "+t._s(t.currentTableItems+" "+(t.accounts.count?t.$t("common.of").toLowerCase()+" "+t.accounts.count:""))+" ")]),a("div",{staticStyle:{"white-space":"nowrap"}},[a("v-btn",{attrs:{icon:"","x-small":"",disabled:1===t.page},on:{click:function(e){return t.changePage(!1)}}},[a("v-icon",{attrs:{size:12}},[t._v(" fas fa-chevron-left ")])],1),a("v-chip",{staticClass:"mx-2",attrs:{label:"",color:"primary",small:""}},[t._v(" "+t._s(t.page)+" ")]),a("v-btn",{attrs:{icon:"","x-small":"",disabled:t.page===t.pageCount},on:{click:function(e){return t.changePage(!0)}}},[a("v-icon",{attrs:{size:12}},[t._v(" fas fa-chevron-right ")])],1)],1),a("v-select",{staticClass:"dolphin-main-table-footer-items-per-page ml-2",class:{"dolphin-main-table-footer-items-per-page-mobile":t.$vuetify.breakpoint.sm||t.$vuetify.breakpoint.xs},staticStyle:{"max-width":"60px"},attrs:{value:t.itemsPerPage,items:[10,30,50,100,-1],"hide-details":"",dense:"",solo:""},on:{change:function(e){return t.setItemsPerPage(e)}},scopedSlots:t._u([{key:"item",fn:function(e){var a=e.item;return[t._v(" "+t._s(-1===a?t.$t("common.all"):a)+" ")]}},{key:"selection",fn:function(e){var a=e.item;return[t._v(" "+t._s(-1===a?t.$t("common.all"):a)+" ")]}}])})],1)],1)],1)],1)},oa=[],na=a("8458"),ia=a("1485"),ca=a("d3d0"),ra=a("b5b0"),la={methods:{customSort(t,e,a){return t&&this.stat&&0!==t.length&&0!==this.stat.length?(e[0]&&localStorage.setItem("adsmanager-sorting-index",e[0]),localStorage.setItem("adsmanager-sorting-is-desc",a[0]),e.length>0&&(e[0].search("quantity")>-1&&t.sort((t,s)=>{let o="undefined"===typeof this.stat[t.id]||"undefined"===typeof this.stat[t.id]["actions"]?0:"undefined"!==typeof this.stat[t.id]["actions"][e[0].replace("-quantity","")]?this.stat[t.id]["actions"][e[0].replace("-quantity","")]["quantity"]:0,n="undefined"===typeof this.stat[s.id]||"undefined"===typeof this.stat[s.id]["actions"]?0:"undefined"!==typeof this.stat[s.id]["actions"][e[0].replace("-quantity","")]?this.stat[s.id]["actions"][e[0].replace("-quantity","")]["quantity"]:0;return"action_results-quantity"===e[0]&&(o="undefined"===typeof this.stat[t.id]||"undefined"===typeof this.stat[t.id]["results"]?0:this.stat[t.id]["results"],n="undefined"===typeof this.stat[s.id]||"undefined"===typeof this.stat[s.id]["results"]?0:this.stat[s.id]["results"]),o>n?a[0]?1:-1:o<n?a[0]?-1:1:0}),e[0].search("cpa")>-1&&t.sort((t,s)=>{let o="undefined"===typeof this.stat[t.id]||"undefined"===typeof this.stat[t.id]["actions"]?0:"undefined"!==typeof this.stat[t.id]["actions"][e[0].replace("-cpa","")]?this.stat[t.id]["actions"][e[0].replace("-cpa","")]["cpa"]:0,n="undefined"===typeof this.stat[s.id]||"undefined"===typeof this.stat[s.id]["actions"]?0:"undefined"!==typeof this.stat[s.id]["actions"][e[0].replace("-cpa","")]?this.stat[s.id]["actions"][e[0].replace("-cpa","")]["cpa"]:0;return"action_results-cpa"===e[0]&&(o="undefined"===typeof this.stat[t.id]||"undefined"===typeof this.stat[t.id]["cpa"]?0:this.stat[t.id]["cpa"],n="undefined"===typeof this.stat[s.id]||"undefined"===typeof this.stat[s.id]["cpa"]?0:this.stat[s.id]["cpa"]),o>n?a[0]?1:-1:o<n?a[0]?-1:1:0}),e[0].search("cr")>-1&&t.sort((t,s)=>{let o="undefined"===typeof this.stat[t.id]||"undefined"===typeof this.stat[t.id]["actions"]?0:"undefined"!==typeof this.stat[t.id]["actions"][e[0].replace("-cr","")]?this.stat[t.id]["actions"][e[0].replace("-cr","")]["cr"]:0,n="undefined"===typeof this.stat[s.id]||"undefined"===typeof this.stat[s.id]["actions"]?0:"undefined"!==typeof this.stat[s.id]["actions"][e[0].replace("-cr","")]?this.stat[s.id]["actions"][e[0].replace("-cr","")]["cr"]:0;return"action_results-cr"===e[0]&&(o="undefined"===typeof this.stat[t.id]||"undefined"===typeof this.stat[t.id]["cr"]?0:this.stat[t.id]["cr"],n="undefined"===typeof this.stat[s.id]||"undefined"===typeof this.stat[s.id]["cr"]?0:this.stat[s.id]["cr"]),o>n?a[0]?1:-1:o<n?a[0]?-1:1:0}),this.stat&&"undefined"!==typeof this.stat&&"undefined"!==typeof this.stat[Object.keys(this.stat)[0]][e[0]]&&t.sort((t,s)=>{let o="undefined"===typeof this.stat[t.id]||"undefined"===typeof this.stat[t.id][e[0]]?0:this.stat[t.id][e[0]],n="undefined"===typeof this.stat[s.id]||"undefined"===typeof this.stat[s.id][e[0]]?0:this.stat[s.id][e[0]];return o>n?a[0]?1:-1:o<n?a[0]?-1:1:0}),"account"==e[0]?t.sort((t,e)=>{if("undefined"!==typeof t.name){const s=t.name.toString().localeCompare(e.name.toString());return a[0]?-1*s:s}return 0}):"cab"==e[0]?t.sort((t,e)=>{if("undefined"!==typeof t.name){const s=t.name.toString().localeCompare(e.name.toString());return a[0]?-1*s:s}return 0}):"date"==e[0]?t.sort((t,e)=>{if("undefined"!==typeof t.date){const s=t.date.toString().localeCompare(e.date.toString());return a[0]?-1*s:s}return 0}):"status"==e[0]&&t.sort((t,e)=>{const s={old:t.account&&t.account.status&&"ACTIVE"!==t.account.status?t.account.status:t.cab&&t.cab.status&&1!==parseInt(t.cab.status,10)?t.cab.status:t.effective_status?t.effective_status:t.status,new:e.account&&e.account.status&&"ACTIVE"!==e.account.status?e.account.status:e.cab&&e.cab.status&&1!==parseInt(e.cab.status,10)?e.cab.status:e.effective_status?e.effective_status:e.status};if("undefined"!==typeof s.old){const t=s.old.toString().localeCompare(s.new.toString());return a[0]?-1*t:t}return 0})),this.sortedItems=t,t):t}}},da=a("83c0"),ua=a("b59d"),pa=a("d858"),ma=a("1241"),ha=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("td",[t.show?a("span",["action_results-cpa"===t.col?a("span",[t._v(" "+t._s(t.itIsTotalRow?t.numeral(t.stat["cpa"]).format("0,0.[00]").split(",").join(" "):t.numeral(t.item["cpa"]).format("0,0.[00]").split(",").join(" "))+" ")]):a("span",[t._v(" "+t._s(t.itIsTotalRow?t.numeral(t.stat["actions"][t.col.slice(0,t.col.length-4)]["cpa"]).format("0,0.[00]").split(",").join(" "):t.numeral(t.item["actions"][t.col.slice(0,t.col.length-4)]["cpa"]).format("0,0.[00]").split(",").join(" "))+" ")])]):a("span",[t._v(" 0 ")]),a("span",[t._v(" "+t._s(t.currency))])])},ga=[],va=a("6612"),fa=a.n(va),ba={name:"AdsManagerComplexStatCellCpa",props:{item:{type:Object,default:()=>({})},col:{type:String,default:""},itIsTotalRow:{type:Boolean,default:!1}},data(){return{numeral:fa.a}},computed:{...Object(l["c"])({currency:"adsmanager/currency"}),stat(){return this.$store.getters[this.$store.state.adsmanager.activeTab.component+"_v2/stat"]},show(){return!!this.stat&&("action_results-cpa"===this.col?this.itIsTotalRow?"undefined"!==typeof this.stat&&"undefined"!==typeof this.stat["cpa"]:"undefined"!==typeof this.item&&"undefined"!==typeof this.item["cpa"]:this.itIsTotalRow?"undefined"!==typeof this.stat&&"undefined"!==typeof this.stat["actions"]&&"undefined"!==typeof this.stat["actions"][this.col.slice(0,this.col.length-4)]:"undefined"!==typeof this.item&&"undefined"!==typeof this.item["actions"]&&"undefined"!==typeof this.item["actions"][this.col.slice(0,this.col.length-4)])}}},_a=ba,ya=Object(p["a"])(_a,ha,ga,!1,null,null,null),xa=ya.exports,ka=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("td",[t.show?a("span",["action_results-cr"===t.col?a("span",[t._v(" "+t._s(t.itIsTotalRow?t.numeral(t.stat["cr"]).format("0.00"):t.numeral(t.item["cr"]).format("0.00"))+"% ")]):a("span",[t._v(" "+t._s(t.itIsTotalRow?t.numeral(t.stat["actions"][t.col.slice(0,t.col.length-3)]["cr"]).format("0.00"):t.numeral(t.item["actions"][t.col.slice(0,t.col.length-3)]["cr"]).format("0.00"))+"% ")])]):a("span",[t._v(" 0% ")])])},wa=[],$a={name:"AdsManagerComplexStatCellCr",props:{item:{type:Object,default:()=>({})},col:{type:String,default:""},itIsTotalRow:{type:Boolean,default:!1}},data(){return{numeral:fa.a}},computed:{stat(){return this.$store.getters[this.$store.state.adsmanager.activeTab.component+"_v2/stat"]},show(){return!!this.stat&&("action_results-cr"===this.col?this.itIsTotalRow?"undefined"!==typeof this.stat&&"undefined"!==typeof this.stat["cr"]:"undefined"!==typeof this.item&&"undefined"!==typeof this.item["cr"]:this.itIsTotalRow?"undefined"!==typeof this.stat&&"undefined"!==typeof this.stat["actions"]&&"undefined"!==typeof this.stat["actions"][this.col.slice(0,this.col.length-3)]:"undefined"!==typeof this.stat[this.item.id]&&"undefined"!==typeof this.stat[this.item.id]["actions"]&&"undefined"!==typeof this.stat[this.item.id]["actions"][this.col.slice(0,this.col.length-3)])}}},Ca=$a,Aa=Object(p["a"])(Ca,ka,wa,!1,null,null,null),Ta=Aa.exports,Da=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("td",[t.show?a("span",["action_results"===t.col?a("span",[t._v(" "+t._s(t.itIsTotalRow?t.numeral(t.stat["results"]).format("0,0.[00]").split(",").join(" "):t.numeral(t.item["results"]).format("0,0.[00]").split(",").join(" "))+" ")]):a("span",[t._v(" "+t._s(t.itIsTotalRow?t.numeral(t.stat["actions"][t.col]).format("0,0.[00]").split(",").join(" "):t.numeral(t.item["stat_actions"][t.col]).format("0,0.[00]").split(",").join(" "))+" ")])]):a("span",[t._v(" 0 ")])])},Sa=[],Pa={name:"AdsManagerComplexStatCellQuantity",props:{item:{type:Object,default:()=>({})},col:{type:String,default:""},itIsTotalRow:{type:Boolean,default:!1}},data(){return{numeral:fa.a}},computed:{stat(){return this.$store.getters[this.$store.state.adsmanager.activeTab.component+"_v2/stat"]},show(){return!!this.stat&&("action_results"===this.col?this.itIsTotalRow?"undefined"!==this.stat["results"]:"undefined"!==typeof this.item["results"]:this.itIsTotalRow?"undefined"!==typeof this.stat["actions"]&&"undefined"!==typeof this.stat["actions"][this.col]:this.item["stat_actions"]&&this.col in this.item["stat_actions"])}}},Va=Pa,Oa=Object(p["a"])(Va,Da,Sa,!1,null,null,null),Ia=Oa.exports,La=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("td",[t.show?a("span",[t._v(" "+t._s(t.itIsTotalRow?t.numeral(t.stat[t.col]).format("0,0.[00]").split(",").join(" "):t.numeral(t.item["stats"][t.col]).format("0,0.[00]").split(",").join(" "))+" ")]):a("span",[t._v(" 0 ")]),"spend"===t.col?a("span",[t._v(" "+t._s(t.currency))]):t._e(),"cpm"===t.col?a("span",[t._v(" "+t._s(t.currency))]):t._e(),"profit"===t.col?a("span",[t._v(" "+t._s(t.currency))]):t._e(),"revenue"===t.col?a("span",[t._v(" "+t._s(t.currency))]):t._e(),"roi"===t.col?a("span",[t._v("%")]):t._e(),"approve"===t.col?a("span",[t._v("%")]):t._e()])},ja=[],Fa={name:"AdsManagerSimpleStatCell",props:{item:{type:Object,default:()=>({})},col:{type:String,default:""},itIsTotalRow:{type:Boolean,default:!1}},data(){return{numeral:fa.a,excludedCols:["billing"]}},computed:{...Object(l["c"])({currency:"adsmanager/currency"}),stat(){return this.$store.getters[this.$store.state.adsmanager.activeTab.component+"_v2/stat"]},show(){return!!this.stat&&(!(this.excludedCols.indexOf(this.col)>-1)&&(this.itIsTotalRow?"undefined"!==typeof this.stat&&"undefined"!==typeof this.stat[this.col]:"undefined"!==typeof this.item&&"undefined"!==typeof this.item["stats"][this.col]))}}},Na=Fa,Ea=Object(p["a"])(Na,La,ja,!1,null,null,null),Ra=Ea.exports,za=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"my-2"},[a("div",[a("div",{style:t.$vuetify.breakpoint.xs?"display: flex; align-items: center;":""},[t.$vuetify.breakpoint.xs?a("v-btn",{staticClass:"mr-1",attrs:{"x-small":"",icon:""},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.openMainInfo(e)}}},[a("v-icon",{attrs:{size:16}},[t._v(" fas fa-info-circle ")])],1):t._e(),t.$vuetify.breakpoint.xs?t._e():a("span",{staticStyle:{color:"grey"}},[t._v(" ["+t._s(t.account.id)+"] ")]),t.$vuetify.breakpoint.xs?t._e():a("v-icon",{staticStyle:{cursor:"pointer","margin-right":"4px"},attrs:{size:12,title:t.$t("common.fbApiLog")},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.loadLog(t.account)}}},[t._v(" fas fa-book ")]),!t.$vuetify.breakpoint.xs&&t.account.is_syncing_now?a("v-tooltip",{attrs:{top:""},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on;return[a("v-icon",t._g({staticClass:"mr-1",attrs:{size:12,color:"primary"}},s),[t._v(" fas fa-spinner fa-pulse ")])]}}],null,!1,171416188)},[a("span",[t._v(t._s(t.$t("common.syncIconTooltip")))])]):t._e(),a("span",{staticStyle:{cursor:"pointer",color:"#2196F3","text-decoration":"underline",display:"inline-block","max-width":"150px"},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.editAccount(t.account)}}},[t._v(" "+t._s(t.account.name)+" ")])],1),1==t.account.archived?a("div",[a("v-chip",{staticClass:"mr-1",attrs:{"x-small":""}},[t._v(" "+t._s(t.$t("common.archived"))+" ")])],1):t._e(),t.$vuetify.breakpoint.xs||t.account.fb_id?t._e():a("div",{staticStyle:{width:"90%","margin-top":"4px"}},[a("v-alert",{staticStyle:{padding:"0 5px","font-size":"10px","line-height":"17px"},attrs:{text:"",color:"error"}},[t._v(" "+t._s(t.$t("adsmanager.accounts.noFacebookId"))+" "),a("a",{staticStyle:{"font-size":"10px"},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.$store.dispatch("accounts_v2/openDialog","noFacebookIdInfo")}}},[t._v(" "+t._s(t.$t("common.whatsThat"))+" ")])])],1),t.$vuetify.breakpoint.xs?t._e():a("div",{staticStyle:{"font-size":"11px",color:"gray"}},[a("span",{staticClass:"d-block",staticStyle:{"line-height":"14px"}},[t._v(" "+t._s(t.$t("common.owner"))+": "+t._s(t.account.user?t.account.user.display_name?t.account.user.display_name:t.account.user.login:"-")+" ")]),a("span",{staticClass:"d-block",staticStyle:{"line-height":"14px"}},[t._v(" "+t._s(t.$t("adsmanager.accounts.rulesAccepted"))+": "),t.account.rules_accepted?a("v-icon",{attrs:{size:12,color:"success"}},[t._v(" fas fa-check ")]):a("v-icon",{attrs:{size:12,color:"error"}},[t._v(" fas fa-times ")])],1)]),!t.$vuetify.breakpoint.xs&&t.account.permissions?a("div",{staticClass:"caption"},[a("a",{on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.showPermissions(e)}}},[t._v(" "+t._s(t.$t("adsmanager.accounts.shared").toLowerCase())+" ("+t._s(t.account.permissions.length)+") ")])]):t._e()]),a("account-tags",{attrs:{account:t.account}})],1)},Ma=[],Ba=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",t._l(t.account.tags,(function(e){return a("v-chip",{key:"account-"+t.account.id+"-tag-"+e,staticClass:"mr-1",attrs:{color:t.detectColor(e),outlined:"","x-small":"",label:""}},[t._v(" "+t._s(e)+" ")])})),1)},Ua=[],qa={name:"AccountsMainTableTags",props:{account:{type:Object,default:()=>({})}},methods:{detectColor(t){return"no-updates"===t||"не-обновлять"===t||"без-комментов"===t||"no-comments"===t?"red":"primary"}}},Ha=qa,Wa=Object(p["a"])(Ha,Ba,Ua,!1,null,null,null),Ya=Wa.exports;h()(Wa,{VChip:G["a"]});var Ja={name:"AccountsMainTableInfo",components:{AccountTags:Ya},props:{account:{type:Object,default:()=>({})}},methods:{async openMainInfo(){await this.$store.dispatch("accounts_v2/setForDialogMainInfo",this.account),await this.$store.dispatch("accounts_v2/openDialog","mainInfo")},editAccount(t){this.$store.dispatch("accounts_v2/initAccountForEdit",this.$_.cloneDeep(t))},async loadLog(t){this.$store.dispatch("fbApiLog/clearLog"),this.$store.dispatch("fbApiLog/openDialog","logSidebar"),this.$store.dispatch("fbApiLog/loadLog",[{object:"account_id",id:t.id}])},async showPermissions(){await this.$store.dispatch("accounts_v2/setForPermissions",this.account),await this.$store.dispatch("accounts_v2/openDialog","permissions")}}},Ga=Ja,Ka=Object(p["a"])(Ga,za,Ma,!1,null,null,null),Qa=Ka.exports;h()(Ka,{VAlert:J["a"],VBtn:g["a"],VChip:G["a"],VIcon:_["a"],VTooltip:Ke["a"]});var Xa=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[void 0!==t.colors[t.account.status]?a("v-chip",{staticStyle:{"font-weight":"bold"},attrs:{label:"",color:t.colors[t.account.status],"x-small":"",outlined:""}},["TOKEN_ERROR"===t.account.status?a("span",[t._v(" ERROR ")]):a("span",[t._v(" "+t._s(t.account.status)+" ")])]):t._e(),void 0===t.colors[t.account.status]?a("span",[t._v(" "+t._s(t.account.status)+" ")]):t._e(),t.account.proxy&&t.account.proxy.status&&-1==t.account.proxy.status?a("div",{staticStyle:{color:"#F44336","font-size":"12px"}},[t._v(" "+t._s(t.$t("common.proxyError"))+" ")]):t._e(),a("ads-manager-notes",{attrs:{item:t.account,component:"accounts"}})],1)},Za=[],ts=a("8bc7"),es={name:"AccountsMainTableStatus",components:{AdsManagerNotes:ts["a"]},props:{account:{type:Object,default:()=>({status:"NEW"})}},data:()=>({colors:H["a"]})},as=es,ss=Object(p["a"])(as,Xa,Za,!1,null,null,null),os=ss.exports;h()(ss,{VChip:G["a"]});var ns={components:{AccountsMainTableStatus:os,AccountsMainTableInfo:Qa,AccountFanPagesCell:ma["a"],AccountBmsCell:pa["a"],SimpleStatCell:Ra,ComplexStatCellQuantity:Ia,ComplexStatCellCr:Ta,ComplexStatCellCpa:xa},mixins:[da["a"],la,ua["a"],na["a"]],data:function(){return{actionCols:ia["a"],commonCols:ca["a"],specialCols:ra["a"],itemsPerPage:50,pageCount:1,cols:[],options:{}}},computed:{...Object(l["c"])({accounts:"accounts/accounts",loading:"accounts/loading",innerHeight:"main/innerHeight",profile:"main/profile",stat:"accounts/stat",pageCount:"accounts/count",page:"accounts/page",selected:"accounts/selected",filters:"accounts/filters"}),popularTags(){const t={};for(let s of this.accounts.all)s.tags&&s.tags.forEach(e=>{"undefined"===typeof t[e]?t[e]=1:t[e]+=t[e]});const e=[];for(let s in t)e.push([s,t[s]]);e.sort((function(t,e){return e[1]-t[1]}));const a=e.map(t=>t[0]);return a},currentTableItems(){return-1===this.itemsPerPage?this.accounts.filtered.length:1===this.page?"1 - "+this.itemsPerPage:this.page===this.pageCount?`${this.page*this.itemsPerPage-(this.itemsPerPage-1)} - ${this.accounts.filtered.length}`:`${this.page*this.itemsPerPage-(this.itemsPerPage-1)} - ${this.page*this.itemsPerPage}`},nativeCols(){let t=[];return t.push({text:this.$t("common.account"),value:"a.id",width:150}),t.push({text:this.$t("common.status"),value:"a.status",width:200}),t}},watch:{options:{async handler(){const{sortBy:t,sortDesc:e}=this.options;localStorage.setItem("adsmanager-sorting-index",t[0]),localStorage.setItem("adsmanager-sorting-is-desc",e[0]),await this.$store.dispatch("accounts_v2/LOAD_ACCOUNTS"),this.pageCount=localStorage.getItem("adsmanager-accounts-page-count")||0},deep:!1},profile:{deep:!0,handler(t,e){JSON.stringify(t.columns)!==JSON.stringify(e.columns)&&(this.cols=this.makeCols(this.nativeCols))}},stat:{deep:!0,handler(){this.stat&&this.customSort(this.accounts.filtered,[this.sortBy],[this.sortDesc])}},"accounts.filtered":{deep:!0,handler(){setTimeout(()=>{this.setWidths("Accounts")},100)}}},created(){this.filters.newVersion=!0,this.cols=this.makeCols(this.nativeCols),localStorage.setItem("adsmanager-items-page",1),localStorage.getItem("adsmanager-items-per-page-count")&&(this.itemsPerPage=parseInt(localStorage.getItem("adsmanager-items-per-page-count")))},beforeDestroy(){this.filters.newVersion=!1},methods:{detectColor(t){return"no-updates"===t||"не-обновлять"===t||"без-комментов"===t||"no-comments"===t?"red":"primary"},async setItemsPerPage(t){setTimeout(()=>{this.setWidths("Accounts")},100),localStorage.setItem("adsmanager-items-per-page-count",t),this.itemsPerPage=t,this.page=1,await this.$store.dispatch("accounts_v2/LOAD_ACCOUNTS"),this.pageCount=localStorage.getItem("adsmanager-accounts-page-count")||0},filterByTags(t){let e=this.filters.tags.concat([]);e.includes(t)?e=e.filter(e=>e!==t):e.push(t);const a={filter:"tags",data:e};this.$store.dispatch("accounts_v2/setSpecificFilter",a)},async updatePage(){localStorage.setItem("adsmanager-items-page",this.page),await this.$store.dispatch("accounts_v2/LOAD_ACCOUNTS"),this.pageCount=localStorage.getItem("adsmanager-accounts-page-count")||0,setTimeout(()=>{this.setWidths("Accounts")},100)},changePage(t){let e=1;e=this.page=t?this.page+1:this.page-1,this.$store.dispatch("accounts/setPage",e),this.$store.dispatch("accounts/loadAccounts")},showSimpleStatCell(t){return ca["a"].indexOf(t)>-1&&!["transactions_daterange","transactions_total"].includes(t)&&-1===ra["a"].indexOf(t)}}},is=ns,cs=(a("3ba1"),a("9e88")),rs=a("269a"),ls=a.n(rs),ds=a("5607"),us=Object(p["a"])(is,sa,oa,!1,null,null,null),ps=us.exports;h()(us,{VBtn:g["a"],VCard:v["a"],VCardText:f["b"],VChip:G["a"],VDataTable:P["a"],VIcon:_["a"],VSelect:it["a"],VSimpleCheckbox:cs["a"]}),ls()(us,{Ripple:ds["a"]});var ms=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-dialog",{attrs:{value:t.dialogs.multipleAssignTags,"max-width":"600px",persistent:!t.$vuetify.breakpoint.sm&&!t.$vuetify.breakpoint.xs,scrollable:!(!t.$vuetify.breakpoint.sm&&!t.$vuetify.breakpoint.xs)},on:{"click:outside":t.close,keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"esc",27,e.key,["Esc","Escape"])?null:t.close(e)}}},[a("v-card",{attrs:{loading:t.loading.multipleAssignTags}},[a("v-card-title",[a("span",{staticClass:"headline"},[t._v(" "+t._s(t.$t("dialogs.accounts.multipleAssignTags.title"))+" ")])]),a("v-card-text",[a("v-container",[a("v-row",[a("v-col",{staticClass:"pa-0",attrs:{cols:"12"}},[a("v-btn-toggle",{staticStyle:{"text-align":"center"},attrs:{color:"primary",borderless:"",multiple:"",mandatory:""},model:{value:t.tabs,callback:function(e){t.tabs=e},expression:"tabs"}},[a("v-btn",{staticStyle:{"font-size":"12px",height:"24px"},attrs:{value:"accounts"}},[a("span",[t._v(t._s(t.$t("upload.wizard.static.tags.accounts")))])]),a("v-btn",{staticStyle:{"font-size":"12px",height:"24px"},attrs:{value:"cabs"}},[a("span",[t._v(t._s(t.$t("upload.wizard.static.tags.cabs")))])]),a("v-btn",{staticStyle:{"font-size":"12px",height:"24px"},attrs:{value:"campaigns"}},[a("span",[t._v(t._s(t.$t("upload.wizard.static.tags.campaigns")))])]),a("v-btn",{staticStyle:{"font-size":"12px",height:"24px"},attrs:{value:"adsets"}},[a("span",[t._v(t._s(t.$t("upload.wizard.static.tags.adsets")))])]),a("v-btn",{staticStyle:{"font-size":"12px",height:"24px"},attrs:{value:"ads"}},[a("span",[t._v(t._s(t.$t("upload.wizard.static.tags.ads")))])])],1)],1),a("v-col",{attrs:{cols:"12"}},[a("v-combobox",{attrs:{label:t.$t("common.tags"),items:t.computedTags,multiple:"",chips:"","deletable-chips":"",clearable:"","hide-details":""},scopedSlots:t._u([{key:"item",fn:function(e){var s=e.item;return[t._v(" "+t._s(s)+" "),a("v-spacer"),a("v-list-item-action",{on:{click:function(t){t.stopPropagation()}}},[a("v-btn",{attrs:{small:"",icon:""},on:{click:function(e){return t.excludeTag(s)}}},[a("v-icon",{attrs:{size:16}},[t._v(" fas fa-times ")])],1)],1)]}}]),model:{value:t.selectedTags,callback:function(e){t.selectedTags=e},expression:"selectedTags"}}),a("div",[a("v-radio-group",{staticClass:"mt-3",staticStyle:{"margin-top":"0px"},attrs:{row:"",dense:"","hide-details":""},model:{value:t.mode,callback:function(e){t.mode=e},expression:"mode"}},[a("v-radio",{attrs:{label:t.$t("dialogs.accounts.multipleAssignTags.addTags"),value:1}}),a("v-radio",{attrs:{label:t.$t("dialogs.accounts.multipleAssignTags.removeTags"),value:-1}})],1)],1)],1),a("v-col",{attrs:{cols:12}},[a("v-alert",{staticStyle:{"font-size":"12px",padding:"8px","line-height":"14px"},attrs:{text:"",color:"primary"}},[a("p",{domProps:{innerHTML:t._s(t.$t("dialogs.accounts.multipleAssignTags.magicTags.description"))}}),a("ul",[a("li",{staticClass:"my-1"},[a("v-chip",{staticClass:"mr-1",staticStyle:{cursor:"pointer"},attrs:{color:"red",outlined:"","x-small":"",label:""},on:{click:function(e){t.addTag(t.$t("dialogs.accounts.multipleAssignTags.magicTags.noUpdatesTag"))}}},[t._v(" "+t._s(t.$t("dialogs.accounts.multipleAssignTags.magicTags.noUpdatesTag"))+" ")]),t._v(" - "+t._s(t.$t("dialogs.accounts.multipleAssignTags.magicTags.noUpdatesTagDesc"))+" ")],1),a("li",{staticClass:"my-1"},[a("v-chip",{staticClass:"mr-1",staticStyle:{cursor:"pointer"},attrs:{color:"red",outlined:"","x-small":"",label:""},on:{click:function(e){t.addTag(t.$t("dialogs.accounts.multipleAssignTags.magicTags.noCommentsTag"))}}},[t._v(" "+t._s(t.$t("dialogs.accounts.multipleAssignTags.magicTags.noCommentsTag"))+" ")]),t._v(" - "+t._s(t.$t("dialogs.accounts.multipleAssignTags.magicTags.noCommentsTagDesc"))+" ")],1)])])],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:t.close}},[t._v(" "+t._s(t.$t("common.close"))+" ")]),a("v-btn",{attrs:{color:"blue darken-1",text:"",disabled:!t.selectedTags.length},on:{click:t.saveTags}},[t._v(" "+t._s(t.$t("common.save"))+" ")])],1)],1)],1)},hs=[],gs={name:"AccountsMultipleAssignTagsDialog",data(){return{tabs:["accounts"],mode:1,selectedTags:[]}},computed:{...Object(l["c"])({dialogs:"accounts_v2/dialogs",currentLevelTags:"tags/currentLevelTags",accounts:"accounts_v2/selected",loading:"accounts_v2/loading"}),computedTags(){if(-1===this.mode){let t=[];return this.accounts.forEach(e=>{t=t.concat(e.tags)}),t}return this.currentLevelTags.all}},created(){this.$store.dispatch("tags/loadItems",{only_from:"accounts",exclude_tags:0})},methods:{close(){(0===this.selectedTags.length||(this.confirmation=confirm(this.$t("common.closeDialogConfirmation")),this.confirmation))&&this.$store.dispatch("accounts_v2/closeDialog","multipleAssignTags")},addTag(t){-1===this.selectedTags.indexOf(t.trim())&&this.selectedTags.push(t.trim())},async saveTags(){if(this.tabs.includes("accounts")){const t={ids:this.accounts.map(t=>t.id),tags:this.selectedTags,mode:this.mode},e=await this.$store.dispatch("accounts_v2/saveMultipleTags",t);e&&(this.$store.dispatch("tags/loadTags"),this.$store.dispatch("accounts_v2/closeDialog","multipleAssignTags"))}else this.addTagsToSelectedTabs(),this.$store.dispatch("main/alert",{color:"success",message:this.$t("common.saved")}),this.$store.dispatch("accounts_v2/closeDialog","multipleAssignTags");this.tabs.includes("accounts")&&this.tabs.length>1&&this.addTagsToSelectedTabs()},async addTagsToSelectedTabs(){for(const t of this.tabs)switch(t){case"cabs":await this.addTagsToCabs();break;case"campaigns":await this.addTagsToCampaigns();break;case"adsets":await this.addTagsToAdsets();break;case"ads":await this.addTagsToAds();break}},async addTagsToCabs(){const t=await this.api.post("/cabs",{users_ids:-1,accounts_ids:this.accounts.map(t=>t.id)}).catch(t=>{this.$store.dispatch("main/apiError",t,{root:!0})});if(200===t.status&&t.data.data){const e={ids:t.data.data.map(t=>t.id),tags:this.selectedTags,mode:this.mode};await this.api.post("/cabs/update_multiple_tags",e).catch(t=>{this.$store.dispatch("main/apiError",t,{root:!0})})}},async addTagsToCampaigns(){const t=await this.api.post("/campaigns",{users_ids:-1,accounts_ids:this.accounts.map(t=>t.id),cabs_ids:-1}).catch(t=>{this.$store.dispatch("main/apiError",t,{root:!0})});if(200===t.status&&t.data.data){const e={ids:t.data.data.map(t=>t.id),tags:this.selectedTags,mode:this.mode};await this.api.post("/campaigns/update_multiple_tags",e).catch(t=>{this.$store.dispatch("main/apiError",t,{root:!0})})}},async addTagsToAdsets(){const t=await this.api.post("/adsets",{users_ids:-1,accounts_ids:this.accounts.map(t=>t.id),cabs_ids:-1,campaigns_ids:-1}).catch(t=>{this.$store.dispatch("main/apiError",t,{root:!0})});if(200===t.status&&t.data.data){const e={ids:t.data.data.map(t=>t.id),tags:this.selectedTags,mode:this.mode};await this.api.post("/adsets/update_multiple_tags",e).catch(t=>{this.$store.dispatch("main/apiError",t,{root:!0})})}},async addTagsToAds(){const t=await this.api.post("/ads",{users_ids:-1,accounts_ids:this.accounts.map(t=>t.id),cabs_ids:-1,campaigns_ids:-1,adsets_ids:-1}).catch(t=>{this.$store.dispatch("main/apiError",t,{root:!0})});if(200===t.status&&t.data.data){const e={ids:t.data.data.map(t=>t.id),tags:this.selectedTags,mode:this.mode};await this.api.post("/ads/update_multiple_tags",e).catch(t=>{this.$store.dispatch("main/apiError",t,{root:!0})})}},async excludeTag(t){await this.api.post("/profile/exclude_tag",{tag:t}),await this.$store.dispatch("tags/loadItems",{only_from:"accounts",exclude_tags:0})}}},vs=gs,fs=a("a609"),bs=a("1800"),_s=a("67b6"),ys=a("43a6"),xs=Object(p["a"])(vs,ms,hs,!1,null,null,null),ks=xs.exports;h()(xs,{VAlert:J["a"],VBtn:g["a"],VBtnToggle:fs["a"],VCard:v["a"],VCardActions:f["a"],VCardText:f["b"],VCardTitle:f["c"],VChip:G["a"],VCol:ot["a"],VCombobox:Xt["a"],VContainer:vt["a"],VDialog:b["a"],VIcon:_["a"],VListItemAction:bs["a"],VRadio:_s["a"],VRadioGroup:ys["a"],VRow:nt["a"],VSpacer:O["a"]});var ws=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-dialog",{attrs:{value:t.dialogs.multipleShare,"max-width":"500px",scrollable:"",persistent:!t.$vuetify.breakpoint.sm&&!t.$vuetify.breakpoint.xs},on:{"click:outside":t.close,keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"esc",27,e.key,["Esc","Escape"])?null:t.close(e)}}},[a("v-card",{attrs:{loading:t.loading.multipleShare}},[a("v-card-title",[a("span",{staticClass:"headline"},[t._v(" "+t._s(t.$t("dialogs.accounts.multipeShare.title"))+" ")])]),a("v-card-text",{staticStyle:{"max-height":"700px"}},[a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("div",[a("v-btn",{staticClass:"my-1",staticStyle:{"margin-left":"0px"},attrs:{color:"primary","x-small":"",outlined:""},on:{click:t.selectAll}},[t._v(" "+t._s(t.$t("common.selectAll"))+" ")]),a("v-btn",{staticClass:"my-1 ml-1",staticStyle:{"margin-left":"0px"},attrs:{color:"primary","x-small":"",outlined:""},on:{click:t.unselectAll}},[t._v(" "+t._s(t.$t("common.unselectAll"))+" ")])],1),a("v-treeview",{attrs:{selectable:"",dense:"","open-on-click":"","selected-color":"primary",items:t.items},scopedSlots:t._u([{key:"prepend",fn:function(e){var s=e.item;return[-1!==s.id.search("user")?a("v-icon",{staticClass:"d-block text-center",attrs:{size:"16"}},[t._v(" fas fa-user ")]):t._e(),-1!==s.id.search("view")?a("v-icon",{staticClass:"d-block text-center",attrs:{size:"16"}},[t._v(" fas fa-eye ")]):t._e(),-1!==s.id.search("actions")?a("v-icon",{staticClass:"d-block text-center",attrs:{size:"16"}},[t._v(" fas fa-bolt ")]):t._e(),-1!==s.id.search("stat")?a("v-icon",{staticClass:"d-block text-center",attrs:{size:"16"}},[t._v(" fas fa-chart-bar ")]):t._e(),-1!==s.id.search("share")?a("v-icon",{staticClass:"d-block text-center",attrs:{size:"16"}},[t._v(" fas fa-share-alt ")]):t._e()]}}]),model:{value:t.permissions,callback:function(e){t.permissions=e},expression:"permissions"}}),a("div",[a("v-radio-group",{staticClass:"mt-3",staticStyle:{"margin-top":"0px"},attrs:{row:"",dense:"","hide-details":""},model:{value:t.mode,callback:function(e){t.mode=e},expression:"mode"}},[a("v-radio",{attrs:{label:t.$t("dialogs.accounts.multipeShare.addPermissions"),value:1}}),a("v-radio",{attrs:{label:t.$t("dialogs.accounts.multipeShare.removePermissions"),value:-1}})],1)],1)],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:t.close}},[t._v(" "+t._s(t.$t("common.close"))+" ")]),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:t.savePermissions}},[t._v(" "+t._s(t.$t("common.save"))+" ")])],1)],1)],1)},$s=[],Cs={name:"AccountsMultipleShareDialog",data:()=>({permissions:[],mode:1,allItems:[],users:[]}),computed:{...Object(l["c"])({accounts:"accounts_v2/selected",dialogs:"accounts_v2/dialogs",loading:"accounts_v2/loading",profile:"main/profile"}),items(){let t=[];return this.users.forEach(e=>{if(e.id===this.profile.id)return;let a={id:"user-"+e.id,name:null!==e.display_name?e.display_name:e.login};a.children=[{id:e.id+"-view",name:this.$t("dialogs.accounts.share.permissions.view")},{id:e.id+"-stat",name:this.$t("dialogs.accounts.share.permissions.stat")},{id:e.id+"-actions",name:this.$t("dialogs.accounts.share.permissions.actions")},{id:e.id+"-share",name:this.$t("dialogs.accounts.share.permissions.share")}],this.allItems=this.allItems.concat(a.children.map(t=>t.id)),t.push(a)}),t}},created(){this.loadUsers()},methods:{close(){(0===this.permissions.length&&-1!==this.mode||(this.confirmation=confirm(this.$t("common.closeDialogConfirmation")),this.confirmation))&&this.$store.dispatch("accounts_v2/closeDialog","multipleShare")},async loadUsers(){const t=await this.api("/users/all");"undefined"!==typeof t.data.data&&(this.users=t.data.data.filter(t=>1===parseInt(t.status)))},async savePermissions(){const t=await this.$store.dispatch("accounts_v2/saveMultiplePermissions",{ids:this.accounts.map(t=>t.id),permissions:this.permissions,mode:this.mode});t&&this.$store.dispatch("accounts_v2/closeDialog","multipleShare")},selectAll(){this.permissions=[],this.permissions=this.permissions.concat(this.allItems)},unselectAll(){this.permissions=[]}}},As=Cs,Ts=Object(p["a"])(As,ws,$s,!1,null,null,null),Ds=Ts.exports;h()(Ts,{VBtn:g["a"],VCard:v["a"],VCardActions:f["a"],VCardText:f["b"],VCardTitle:f["c"],VCol:ot["a"],VContainer:vt["a"],VDialog:b["a"],VIcon:_["a"],VRadio:_s["a"],VRadioGroup:ys["a"],VRow:nt["a"],VSpacer:O["a"],VTreeview:fe["a"]});var Ss=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-navigation-drawer",{staticStyle:{"z-index":"9999",width:"400px"},attrs:{value:t.dialogs.permissions,temporary:"",right:"",absolute:""},on:{transitionend:function(e){return t.$store.dispatch("accounts_v2/closeDialog","permissions")}}},[a("div",{staticStyle:{padding:"16px"}},[a("div",{staticClass:"mb-3"},[a("span",[a("v-btn",{staticClass:"sidebar-collapse-button",attrs:{color:"grey",fab:"","x-small":"",outlined:""},on:{click:function(e){return t.$store.dispatch("accounts_v2/closeDialog","permissions")}}},[a("v-icon",[t._v("keyboard_arrow_right")])],1)],1),a("span",{staticClass:"title"},[t._v(" ["+t._s(t.account.name)+"] "+t._s(t.$t("common.permissions").toLowerCase())+" ")])]),a("v-row",[t.permissions?a("v-col",{staticClass:"py-0 my-2",attrs:{cols:"12"}},t._l(t.permissions,(function(e,s){return a("div",{key:"permissions-"+s,staticClass:"mb-5"},[a("span",{staticClass:"headline"},[t._v(" "+t._s(s)+" ")]),e?a("div",t._l(e,(function(e){return a("div",{key:"permission-of-"+s+"-"+e,staticClass:"pl-3"},[e.search("view")>-1?a("v-icon",{staticStyle:{width:"32px"},attrs:{size:"16"}},[t._v(" fas fa-eye ")]):t._e(),e.search("actions")>-1?a("v-icon",{staticStyle:{width:"32px"},attrs:{size:"16"}},[t._v(" fas fa-bolt ")]):t._e(),e.search("stat")>-1?a("v-icon",{staticStyle:{width:"32px"},attrs:{size:"16"}},[t._v(" fas fa-chart-bar ")]):t._e(),e.search("share")>-1?a("v-icon",{staticStyle:{width:"32px"},attrs:{size:"16"}},[t._v(" fas fa-share-alt ")]):t._e(),t._v(" "+t._s(t.$t("dialogs.accounts.share.permissions."+e))+" ")],1)})),0):t._e()])})),0):t._e()],1)],1)])},Ps=[],Vs={name:"AccountsPermissionsSidebar",data(){return{permissions:{}}},computed:{...Object(l["c"])({dialogs:"accounts_v2/dialogs",account:"accounts_v2/forPermissions",users:"users/users"})},watch:{users:{deep:!0,handler(){this.parsePermissions()}}},async created(){await this.$store.dispatch("users/loadUsers")},methods:{parsePermissions(){this.account.permissions&&this.users.all&&(this.permission={},this.account.permissions.forEach(t=>{let e,a;[e,a]=t.split("-");const s=this.users.all.find(t=>t.id===parseInt(e));if(!s)return;const o=s.display_name||s.login;"undefined"!==typeof this.permissions[o]?-1===this.permissions[o].indexOf(a)&&this.permissions[o].push(a):this.permissions[o]=[a],this.$forceUpdate()}))}}},Os=Vs,Is=a("f774"),Ls=Object(p["a"])(Os,Ss,Ps,!1,null,null,null),js=Ls.exports;h()(Ls,{VBtn:g["a"],VCol:ot["a"],VIcon:_["a"],VNavigationDrawer:Is["a"],VRow:nt["a"]});var Fs=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-dialog",{attrs:{value:t.dialogs.share,"max-width":"500px",scrollable:"",persistent:""}},[a("v-card",{attrs:{loading:t.loading.share}},[a("v-card-title",[a("span",{staticClass:"headline"},[t._v(" "+t._s(t.$t("dialogs.accounts.share.title",{accountName:t.account.name}))+" ")])]),a("v-card-text",{staticStyle:{"max-height":"700px"}},[a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("v-treeview",{attrs:{selectable:"",dense:"","open-on-click":"","selected-color":"primary",items:t.items,open:t.openedItems},on:{"update:open":function(e){t.openedItems=e}},scopedSlots:t._u([{key:"prepend",fn:function(e){var s=e.item;return[-1!==s.id.search("user")?a("v-icon",{staticClass:"d-block text-center",attrs:{size:"16"}},[t._v(" fas fa-user ")]):t._e(),-1!==s.id.search("read")?a("v-icon",{staticClass:"d-block text-center",attrs:{size:"16"}},[t._v(" fas fa-eye ")]):t._e(),-1!==s.id.search("edit")?a("v-icon",{staticClass:"d-block text-center",attrs:{size:"16"}},[t._v(" fas fa-pencil-alt ")]):t._e(),-1!==s.id.search("stat")?a("v-icon",{staticClass:"d-block text-center",attrs:{size:"16"}},[t._v(" fas fa-chart-bar ")]):t._e(),-1!==s.id.search("share")?a("v-icon",{staticClass:"d-block text-center",attrs:{size:"16"}},[t._v(" fas fa-share-alt ")]):t._e()]}}]),model:{value:t.newAccount.permissions,callback:function(e){t.$set(t.newAccount,"permissions",e)},expression:"newAccount.permissions"}})],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(e){return t.$store.dispatch("accounts_v2/closeDialog","share")}}},[t._v(" "+t._s(t.$t("common.close"))+" ")]),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:t.savePermissions}},[t._v(" "+t._s(t.$t("common.save"))+" ")])],1)],1)],1)},Ns=[],Es={name:"AccountsShareDialog",data:()=>({newAccount:{permissions:[]},users:[]}),computed:{...Object(l["c"])({account:"accounts_v2/forShare",dialogs:"accounts_v2/dialogs",loading:"accounts_v2/loading",profile:"main/profile"}),openedItems(){let t=[];return this.users.forEach(e=>{if(e.id===this.profile.id)return;if(!Array.isArray(this.newAccount.permissions))return!1;const a=this.newAccount.permissions.find(t=>0===t.search(e.id+"-"));a&&t.push("user-"+e.id)}),t},items(){let t=[];return this.users.forEach(e=>{if(e.id===this.profile.id)return;let a={id:"user-"+e.id,name:null!==e.display_name?e.display_name:e.login};a.children=[{id:e.id+"-read",name:this.$t("dialogs.accounts.share.permissions.read")},{id:e.id+"-edit",name:this.$t("dialogs.accounts.share.permissions.edit")},{id:e.id+"-stat",name:this.$t("dialogs.accounts.share.permissions.stat")},{id:e.id+"-share",name:this.$t("dialogs.accounts.share.permissions.share")}],t.push(a)}),t}},created(){this.newAccount={...this.account},this.newAccount.permissions||(this.newAccount.permissions=[]),this.loadUsers()},methods:{async loadUsers(){const t=await this.api("/users/all");"undefined"!==typeof t.data.data&&(this.users=t.data.data)},async savePermissions(){const t=await this.$store.dispatch("accounts_v2/savePermissions",this.newAccount);t&&this.$store.dispatch("accounts_v2/closeDialog","share")}}},Rs=Es,zs=Object(p["a"])(Rs,Fs,Ns,!1,null,null,null),Ms=zs.exports;h()(zs,{VBtn:g["a"],VCard:v["a"],VCardActions:f["a"],VCardText:f["b"],VCardTitle:f["c"],VCol:ot["a"],VContainer:vt["a"],VDialog:b["a"],VIcon:_["a"],VRow:nt["a"],VSpacer:O["a"],VTreeview:fe["a"]});var Bs=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-dialog",{attrs:{value:t.dialogs.add,persistent:"",fullscreen:"",scrollable:""},on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"esc",27,e.key,["Esc","Escape"])?null:t.close(e)}}},[a("v-card",{attrs:{loading:t.loading.addDialog}},[a("v-toolbar",{staticClass:"white--text dialog-toolbar",attrs:{"max-height":48,color:"primary"}},[a("v-btn",{attrs:{color:"white",icon:""},on:{click:t.close}},[a("v-icon",[t._v("fas fa-times")])],1),a("v-toolbar-title",[t._v(t._s(t.$t("dialogs.accounts.singleAdd.title")))]),a("v-spacer"),a("v-toolbar-items",[a("v-btn",{attrs:{color:"white",text:"",disabled:0===t.tabs&&!t.validation.state,loading:t.loading.addDialog},on:{click:function(e){0===t.tabs?t.addAccount():1===t.tabs?t.addBulkAccounts():t.addLoginPassword()}}},[t._v(" "+t._s(t.$t("common.add"))+" ")])],1)],1),a("v-card-text",[a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("v-tabs",{attrs:{centered:""},model:{value:t.tabs,callback:function(e){t.tabs=e},expression:"tabs"}},[a("v-tab",[t._v(" "+t._s(t.$t("adsmanager.accounts.add.singleAdd"))+" ")]),a("v-tab-item",[a("dialog-form",{on:{change:function(e){t.newAccount=e},proxyChange:function(e){t.proxyState=e},useragentChange:function(e){!t.initialUseragentChanged&&t.setInitialUseragent(e)},"validation-changed":function(e){t.validation.state=e}}})],1),a("v-tab",[t._v(" "+t._s(t.$t("adsmanager.accounts.add.bulkAdd"))+" ")]),a("v-tab-item",[a("dialog-bulk-add")],1),a("v-tab-item",[a("dialog-login-password",{attrs:{"process-data":t.tab3}})],1),a("v-tab-item",[t._v(" "+t._s(t.$t("adsmanager.accounts.add.import"))+" ")])],1)],1)],1)],1)],1)],1)},Us=[],qs=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-stepper",{staticClass:"dialog-stepper",model:{value:t.step,callback:function(e){t.step=e},expression:"step"}},[a("v-stepper-header",[a("v-stepper-step",{attrs:{step:1,editable:""}},[t._v(" "+t._s(t.$t("adsmanager.accounts.add.bulk.dataInput"))+" ")]),a("v-stepper-step",{attrs:{step:2,editable:""},on:{click:t.openStep2}},[t._v(" "+t._s(t.$t("adsmanager.accounts.add.bulk.dataCheck"))+" ")])],1),a("v-stepper-items",[a("v-stepper-content",{attrs:{step:1}},[a("data-input")],1),a("v-stepper-content",{attrs:{step:2}},[a("data-check")],1)],1),a("v-row",[a("v-col",{staticStyle:{"text-align":"center"}},[1===t.step?a("v-btn",{attrs:{color:"primary",raised:""},on:{click:function(e){t.step++,t.openStep2()}}},[t._v(" "+t._s(t.$t("common.continue"))+" ")]):t._e()],1)],1)],1)},Hs=[],Ws=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-data-table",{attrs:{headers:t.cols,"fixed-header":"",items:t.importDialog.tab2.newAccounts},scopedSlots:t._u([{key:"item.name",fn:function(e){var s=e.item;return[a("v-text-field",{staticClass:"my-2 mr-2",staticStyle:{"min-width":"250px"},attrs:{label:t.$t("common.name"),outlined:"",dense:"","hide-details":""},model:{value:s.name,callback:function(e){t.$set(s,"name",e)},expression:"accounts.name"}})]}},{key:"item.access_token",fn:function(e){var s=e.item;return[a("v-text-field",{staticClass:"my-2 mr-2",attrs:{label:t.$t("common.access_token"),outlined:"",dense:"","hide-details":""},model:{value:s.access_token,callback:function(e){t.$set(s,"access_token",e)},expression:"accounts.access_token"}})]}},{key:"item.useragent",fn:function(e){var s=e.item;return[a("v-text-field",{staticClass:"my-2 mr-2",attrs:{label:t.$t("common.useragent"),outlined:"",dense:"","hide-details":""},scopedSlots:t._u([{key:"prepend-inner",fn:function(){return[a("v-btn",{attrs:{"x-small":"",icon:""},on:{click:function(e){t.randomizeUseragent(t.importDialog.tab2.newAccounts.indexOf(s))}}},[a("v-icon",{staticStyle:{"margin-top":"3px"}},[t._v(" autorenew ")])],1)]},proxy:!0},{key:"append",fn:function(){return[a("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var o=e.on;return[a("v-btn",t._g({staticStyle:{"margin-top":"2px"},attrs:{icon:"","x-small":""},on:{click:function(e){t.copyToAnotherAccounts("user_agent",t.importDialog.tab2.newAccounts.indexOf(s))}}},o),[a("v-icon",[t._v("clear_all")])],1)]}}],null,!0)},[a("span",[t._v(t._s(t.$t("adsmanager.accounts.add.copyToAnotherAccounts")))])])]},proxy:!0}],null,!0),model:{value:s.user_agent,callback:function(e){t.$set(s,"user_agent",e)},expression:"accounts.user_agent"}})]}},{key:"item.proxy",fn:function(e){var s=e.item;return[a("v-autocomplete",{staticClass:"my-2",class:{"mr-2":!t.$vuetify.breakpoint.xs},attrs:{items:t.importDialog.tab2.newProxies.concat(t.proxy.all),"item-value":function(t){return t},label:s.proxy.id?t.$t("common.existingProxy"):t.$t("common.proxyNew"),filter:t.searchExistingProxy,outlined:"",dense:"","hide-details":"",placeholder:t.$t("common.proxyNo").toLowerCase()},scopedSlots:t._u([{key:"item",fn:function(e){var a=e.item;return[t._v(" "+t._s("undefined"!==typeof a.name&&null!==a.name?"["+a.accounts_count+"] "+a.name:null===a.login&&a.free?t.$t("adsmanager.accounts.add.leastLoaded"):null===a.login?"["+a.accounts_count+"] "+a.ip+":"+a.port:"["+a.accounts_count+"] "+a.ip+":"+a.port+":"+a.login+":"+a.password)+" ")]}},{key:"selection",fn:function(e){var a=e.item;return[t._v(" "+t._s("undefined"!==typeof a.name&&null!==a.name?"["+a.accounts_count+"] "+a.name:null===a.login&&a.free?t.$t("adsmanager.accounts.add.leastLoaded"):null===a.login?"["+a.accounts_count+"] "+a.ip+":"+a.port:"["+a.accounts_count+"] "+a.ip+":"+a.port+":"+a.login+":"+a.password)+" ")]}},{key:"append-outer",fn:function(){return[a("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var o=e.on;return[a("v-btn",t._g({attrs:{icon:"","x-small":""},on:{click:function(e){t.copyToAnotherAccounts("proxy",t.importDialog.tab2.newAccounts.indexOf(s))}}},o),[a("v-icon",[t._v("clear_all")])],1)]}}],null,!0)},[a("span",[t._v(t._s(t.$t("adsmanager.accounts.add.copyToAnotherAccounts")))])])]},proxy:!0}],null,!0),model:{value:s.proxy,callback:function(e){t.$set(s,"proxy",e)},expression:"accounts.proxy"}})]}},{key:"item.tags",fn:function(e){var s=e.item;return[a("v-combobox",{staticClass:"my-2",attrs:{label:t.$t("common.tags"),items:t.tags.all,"single-line":"",dense:!(s.tags&&(!s.tags||0!==s.tags.length)),"small-chips":"",multiple:"",chips:"","deletable-chips":"",clearable:"",outlined:"","hide-details":""},scopedSlots:t._u([{key:"append-outer",fn:function(){return[a("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var o=e.on;return[a("v-btn",t._g({staticStyle:{"margin-top":"2px"},attrs:{icon:"","x-small":""},on:{click:function(e){t.copyToAnotherAccounts("tags",t.importDialog.tab2.newAccounts.indexOf(s))}}},o),[a("v-icon",[t._v("clear_all")])],1)]}}],null,!0)},[a("span",[t._v(t._s(t.$t("adsmanager.accounts.add.copyToAnotherAccounts")))])])]},proxy:!0}],null,!0),model:{value:s.tags,callback:function(e){t.$set(s,"tags",e)},expression:"accounts.tags"}})]}},{key:"item.cookies",fn:function(e){var s=e.item;return[a("v-textarea",{staticClass:"textarea-with-info-button mr-2",attrs:{value:t.isJsonString(s.cookies)?s.cookies:null,label:t.$t("common.cookies"),rows:1,outlined:"",dense:"",spellcheck:!1,"hide-details":""},on:{input:function(t){s.cookies=t}}})]}},{key:"item.password",fn:function(e){var s=e.item;return[a("v-text-field",{staticClass:"mr-2",attrs:{label:t.$t("common.password"),outlined:"",dense:"","hide-details":""},model:{value:s.password,callback:function(e){t.$set(s,"password",e)},expression:"account.password"}})]}}],null,!0)})],1)},Ys=[],Js={name:"AccountsDialogBulkAddDataCheck",data(){return{data:[],currentAccount:null,useragents:Be["a"]}},computed:{...Object(l["c"])({proxy:"proxy/proxy",tags:"tags/tags",importDialog:"accounts_v2/importDialog"}),cols(){let t=[];return t.push({text:this.$t("common.name"),value:"name"}),t.push({text:this.$t("common.access_token"),value:"access_token",width:250,sortable:!1}),t.push({text:this.$t("common.useragent"),value:"useragent",width:250,sortable:!1}),t.push({text:this.$t("common.proxy"),value:"proxy",width:250,sortable:!1}),t.push({text:this.$t("common.tags"),value:"tags",width:250,sortable:!1}),t.push({text:this.$t("common.cookies"),value:"cookies",width:250,sortable:!1}),t.push({text:this.$t("common.password"),value:"password",width:250,sortable:!1}),t}},methods:{setTab2NewAccountsOptions(t,e,a){let s={index:t,option:e,value:a};this.$store.dispatch("accounts_v2/setTab2NewAccountsOptions",s)},searchExistingProxy(t,e){const a=e.toLowerCase();return!(void 0===typeof t.name||!t.name||-1===t.name.toString().toLowerCase().search(a))||(!(!t.ip||-1===t.ip.toString().toLowerCase().search(a))||(!(!t.port||-1===t.port.toString().toLowerCase().search(a))||(!(!t.login||-1===t.login.toString().toLowerCase().search(a))||!(!t.password||-1===t.password.toString().toLowerCase().search(a)))))},copyToAnotherAccounts(t,e){for(const a in this.importDialog.tab2.newAccounts)this.importDialog.tab2.newAccounts[a][t]=this.importDialog.tab2.newAccounts[e][t]},randomizeUseragent(t){let e=this.useragents.length,a=1,s=Math.floor(Math.random()*(e-a+1)+a);return this.setTab2NewAccountsOptions(t,"user_agent",this.useragents[s-1])},isJsonString(t){try{JSON.parse(t)}catch(e){return!1}return!0}}},Gs=Js,Ks=(a("b299"),Object(p["a"])(Gs,Ws,Ys,!1,null,null,null)),Qs=Ks.exports;h()(Ks,{VAutocomplete:st["a"],VBtn:g["a"],VCombobox:Xt["a"],VDataTable:P["a"],VIcon:_["a"],VTextField:ct["a"],VTextarea:Pt["a"],VTooltip:Ke["a"]});var Xs=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-row",[a("v-col",{attrs:{cols:"12",md:"8"}},[a("v-alert",{attrs:{color:"primary",text:""},domProps:{innerHTML:t._s(t.$t("adsmanager.accounts.add.bulk.formats"))}}),a("v-textarea",{attrs:{rows:"10",dense:"",outlined:"","auto-grow":"","hide-details":""},model:{value:t.importDialog.tab2.dataRaw,callback:function(e){t.$set(t.importDialog.tab2,"dataRaw",e)},expression:"importDialog.tab2.dataRaw"}})],1),a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-simple-table",{staticClass:"add-accounts-data-input-table",attrs:{height:"400","fixed-header":""},scopedSlots:t._u([{key:"default",fn:function(){return[a("thead",[a("tr",[a("th",[t._v(t._s(t.$t("common.id")))]),a("th",[t._v(t._s(t.$t("common.nameProxy")))])])]),a("tbody",t._l(t.proxy.all,(function(e,s){return a("tr",{key:"new-proxy-"+s},[a("td",[t._v(t._s(e.id))]),a("td",[t._v(t._s(e.name))])])})),0)]},proxy:!0}])})],1)],1)},Zs=[],to={name:"AccountsDialogBulkAddDataInput",data(){return{data:[]}},computed:{...Object(l["c"])({proxy:"proxy/proxy",importDialog:"accounts_v2/importDialog"})},watch:{"importDialog.tab2.dataRaw"(){this.parse()},data:{deep:!0,handler(){this.importDialog.tab2.newAccounts=this.data}}},methods:{parse(){const t=this.importDialog.tab2.dataRaw.split("\n");this.data=[],this.$store.dispatch("accounts_v2/setTab2NewProxies",[]);let e=this.importDialog.tab2.newProxies,a={free:!0,id:null,ip:null,port:null,login:null,password:null,name:null,accounts_count:null,type:null};if(this.proxy&&this.proxy.all&&Array.isArray(this.proxy.all)&&this.proxy.all.length>0&&e.push(a),0!==t.length)for(const s of t){if(!s.trim())return;let t=s.split("::["),a=[];if(t.length>1){a=t[0].split("::");const e=t[1].split("]::");a.push(`[${e[0]}]`),e.length>1&&a.push(e[1])}else a=s.split("::");let o={name:null,access_token:null,user_agent:null,proxy:{id:null,ip:null,port:null,login:null,password:null,name:null,accounts_count:0,type:null},newProxy:null,tags:null,cookies:null,password:null};if(a.length>1){if(o.name=a[0].trim(),o.access_token=a[1]?a[1].trim():"",o.user_agent=a[2]?a[2].trim():"",a.length>3){let t=a[3].trim();if(-1===t.indexOf(":")){let e=this.proxy.all.find(e=>e.id===parseInt(t));o.proxy={...e},o.newProxy=null}else{o.newProxy=a[3].trim();let e=null;-1===t.indexOf("/")?e="http":t.split("://").length>1&&(e=t.split("://")[0].toLowerCase(),"https"===e&&(e="http"),"socks"===e&&(e="socks5"),t=t.split("://")[1]),t.split(":").length>1&&(2===t.split(":").length&&(o.proxy={id:null,ip:t.split(":")[0].trim(),port:t.split(":")[1].trim(),login:null,password:null,name:null,accounts_count:0,type:e}),3===t.split(":").length&&(o.proxy={id:null,ip:t.split(":")[0].trim(),port:t.split(":")[1].trim(),login:null,password:null,name:t.split(":")[2].trim(),accounts_count:0,type:e}),4===t.split(":").length&&(o.proxy={id:null,ip:t.split(":")[0].trim(),port:t.split(":")[1].trim(),login:t.split(":")[2].trim(),password:t.split(":")[3].trim(),name:null,accounts_count:0,type:e}),5===t.split(":").length&&(o.proxy={id:null,ip:t.split(":")[0].trim(),port:t.split(":")[1].trim(),login:t.split(":")[2].trim(),password:t.split(":")[3].trim(),name:t.split(":")[4].trim(),accounts_count:0,type:e}))}}o.cookies=a[4]?a[4].trim():"",o.password=a[5]?a[5].trim():""}o.name&&o.access_token&&this.data.push(o),null===o.proxy.id&&null!==o.proxy.ip&&null!==o.proxy.port&&(e.push(o.proxy),this.$store.dispatch("accounts_v2/setTab2NewProxies",e))}}}},eo=to,ao=(a("9608"),a("1f4f")),so=Object(p["a"])(eo,Xs,Zs,!1,null,null,null),oo=so.exports;h()(so,{VAlert:J["a"],VCol:ot["a"],VRow:nt["a"],VSimpleTable:ao["a"],VTextarea:Pt["a"]});var no={name:"AccountsDialogBulkAdd",components:{DataInput:oo,DataCheck:Qs},data(){return{step:1,useragents:Be["a"]}},computed:{...Object(l["c"])({importDialog:"accounts_v2/importDialog"})},methods:{openStep2(){for(let t in this.importDialog.tab2.newAccounts)if(""===this.importDialog.tab2.newAccounts[t].user_agent||null===this.importDialog.tab2.newAccounts[t].user_agent||"User agent"===this.importDialog.tab2.newAccounts[t].user_agent){let e=this.useragents.length,a=1,s=Math.floor(Math.random()*(e-a+1)+a),o={index:t,option:"user_agent",value:this.useragents[s-1]};this.$store.dispatch("accounts_v2/setTab2NewAccountsOptions",o)}}}},io=no,co=a("7e85"),ro=a("e516"),lo=a("9c54"),uo=a("56a4"),po=Object(p["a"])(io,qs,Hs,!1,null,null,null),mo=po.exports;h()(po,{VBtn:g["a"],VCol:ot["a"],VRow:nt["a"],VStepper:co["a"],VStepperContent:ro["a"],VStepperHeader:lo["a"],VStepperItems:lo["b"],VStepperStep:uo["a"]});var ho=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-stepper",{staticClass:"dialog-stepper",model:{value:t.step,callback:function(e){t.step=e},expression:"step"}},[a("v-stepper-header",[a("v-stepper-step",{attrs:{step:1,editable:""}},[t._v(" "+t._s(t.$t("adsmanager.accounts.add.bulk.dataInput"))+" ")]),a("v-stepper-step",{attrs:{step:2,editable:""},on:{click:t.openStep2}},[t._v(" "+t._s(t.$t("adsmanager.accounts.add.bulk.dataCheck"))+" ")])],1),a("v-stepper-items",[a("v-stepper-content",{attrs:{step:1}},[a("data-input")],1),a("v-stepper-content",{attrs:{step:2}},[a("data-check",{attrs:{"process-data":t.processData}})],1)],1),a("v-row",[a("v-col",{staticStyle:{"text-align":"center"}},[2!==t.step?a("v-btn",{attrs:{color:"primary",raised:""},on:{click:function(e){t.step++,t.openStep2()}}},[t._v(" "+t._s(t.$t("common.continue"))+" ")]):t._e()],1)],1)],1)},go=[],vo=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",[a("v-dialog",{attrs:{width:"700",scrollable:""},model:{value:t.detailsDialog,callback:function(e){t.detailsDialog=e},expression:"detailsDialog"}},[a("v-card",[a("v-card-title",{staticClass:"headline"},[t._v(" "+t._s(t.$t("common.learnMore"))+" ")]),a("v-card-text",["undefined"!==typeof t.forDetails.images?a("div",[!t.forDetails.result&&t.forDetails.out?a("code",[t._v(" "+t._s(t.forDetails.out)+" ")]):t._e(),t._l(t.forDetails.images,(function(e){return a("img",{key:e,staticClass:"my-1",staticStyle:{width:"100%",height:"auto"},attrs:{src:t.baseUrl+e}})}))],2):t._e(),"api"===t.importDialog.tab3.mode?a("div",[a("code",[t._v(t._s(JSON.stringify(t.forDetails.response)))])]):t._e()]),a("v-divider"),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",text:""},on:{click:function(e){t.detailsDialog=!1}}},[t._v(" "+t._s(t.$t("common.close"))+" ")])],1)],1)],1)],1),a("div",[a("v-data-table",{attrs:{headers:t.cols,"fixed-header":"",items:t.importDialog.tab3.newAccounts},scopedSlots:t._u([{key:"item.name",fn:function(e){var s=e.item;return[a("v-text-field",{staticClass:"my-2 mr-2",attrs:{value:s.name,label:t.$t("common.name"),outlined:"",dense:"","hide-details":""},on:{input:function(e){t.setTab3NewAccountsOptions(t.importDialog.tab3.newAccounts.indexOf(s),"name",e)}}})]}},{key:"item.login",fn:function(e){var s=e.item;return[a("v-text-field",{staticClass:"my-2 mr-2",attrs:{value:s.login,label:t.$t("common.login"),outlined:"",dense:"","hide-details":""},on:{input:function(e){t.setTab3NewAccountsOptions(t.importDialog.tab3.newAccounts.indexOf(s),"login",e)}}})]}},{key:"item.password",fn:function(e){var s=e.item;return[a("v-text-field",{staticClass:"my-2 mr-2",attrs:{value:s.password,label:t.$t("common.password"),outlined:"",dense:"","hide-details":""},on:{input:function(e){t.setTab3NewAccountsOptions(t.importDialog.tab3.newAccounts.indexOf(s),"password",e)}}})]}},{key:"item.useragent",fn:function(e){var s=e.item;return[a("v-text-field",{staticClass:"my-2 mr-2",attrs:{value:s.user_agent,label:t.$t("common.useragent"),outlined:"",dense:"","hide-details":""},on:{input:function(e){t.setTab3NewAccountsOptions(t.importDialog.tab3.newAccounts.indexOf(s),"user_agent",e)}},scopedSlots:t._u([{key:"prepend-inner",fn:function(){return[a("v-btn",{attrs:{"x-small":"",icon:""},on:{click:function(e){t.randomizeUseragent(t.importDialog.tab3.newAccounts.indexOf(s))}}},[a("v-icon",{staticStyle:{"margin-top":"3px"}},[t._v(" autorenew ")])],1)]},proxy:!0},{key:"append",fn:function(){return[a("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var o=e.on;return[a("v-btn",t._g({staticStyle:{"margin-top":"2px"},attrs:{icon:"","x-small":""},on:{click:function(e){t.copyToAnotherAccounts("user_agent",t.importDialog.tab3.newAccounts.indexOf(s))}}},o),[a("v-icon",[t._v("clear_all")])],1)]}}],null,!0)},[a("span",[t._v(t._s(t.$t("adsmanager.accounts.add.copyToAnotherAccounts")))])])]},proxy:!0}],null,!0)})]}},{key:"item.proxy",fn:function(e){var s=e.item;return[a("v-autocomplete",{staticClass:"my-2",class:{"mr-2":!t.$vuetify.breakpoint.xs},attrs:{value:s.proxy,items:t.importDialog.tab3.newProxies.concat(t.proxy.all),"item-value":function(t){return t},label:s.proxy.id?t.$t("common.existingProxy"):t.$t("common.proxyNew"),filter:t.searchExistingProxy,outlined:"",dense:"","hide-details":"",placeholder:t.$t("common.proxyNo").toLowerCase()},on:{input:function(e){t.setTab3NewAccountsOptions(t.importDialog.tab3.newAccounts.indexOf(s),"proxy",e)}},scopedSlots:t._u([{key:"item",fn:function(e){var a=e.item;return[t._v(" "+t._s("undefined"!==typeof a.name&&null!==a.name?"["+a.accounts_count+"] "+a.name:null===a.login&&a.free?t.$t("adsmanager.accounts.add.leastLoaded"):null===a.login?"["+a.accounts_count+"] "+a.ip+":"+a.port:"["+a.accounts_count+"] "+a.ip+":"+a.port+":"+a.login+":"+a.password)+" ")]}},{key:"selection",fn:function(e){var a=e.item;return[t._v(" "+t._s("undefined"!==typeof a.name&&null!==a.name?"["+a.accounts_count+"] "+a.name:null===a.login&&a.free?t.$t("adsmanager.accounts.add.leastLoaded"):null===a.login?"["+a.accounts_count+"] "+a.ip+":"+a.port:"["+a.accounts_count+"] "+a.ip+":"+a.port+":"+a.login+":"+a.password)+" ")]}},{key:"append-outer",fn:function(){return[a("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var o=e.on;return[a("v-btn",t._g({attrs:{icon:"","x-small":""},on:{click:function(e){t.copyToAnotherAccounts("proxy",t.importDialog.tab3.newAccounts.indexOf(s))}}},o),[a("v-icon",[t._v("clear_all")])],1)]}}],null,!0)},[a("span",[t._v(t._s(t.$t("adsmanager.accounts.add.copyToAnotherAccounts")))])])]},proxy:!0}],null,!0)})]}},{key:"item.tags",fn:function(e){var s=e.item;return[a("v-combobox",{staticClass:"my-2",class:{"mr-2":!t.$vuetify.breakpoint.xs},attrs:{value:s.tags,label:t.$t("common.tags"),items:t.tags.all,"single-line":"",dense:!(s.tags&&(!s.tags||0!==s.tags.length)),"small-chips":"",multiple:"",chips:"","deletable-chips":"",clearable:"",outlined:"","hide-details":""},on:{input:function(e){t.setTab3NewAccountsOptions(t.importDialog.tab3.newAccounts.indexOf(s),"tags",e)}},scopedSlots:t._u([{key:"append-outer",fn:function(){return[a("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var o=e.on;return[a("v-btn",t._g({staticStyle:{"margin-top":"2px"},attrs:{icon:"","x-small":""},on:{click:function(e){t.copyToAnotherAccounts("tags",t.importDialog.tab3.newAccounts.indexOf(s))}}},o),[a("v-icon",[t._v("clear_all")])],1)]}}],null,!0)},[a("span",[t._v(t._s(t.$t("adsmanager.accounts.add.copyToAnotherAccounts")))])])]},proxy:!0}],null,!0)})]}},{key:"item.status",fn:function(e){var s=e.item;return["undefined"!==typeof t.processData.responses[t.importDialog.tab3.newAccounts.indexOf(s)]&&t.processData.responses[t.importDialog.tab3.newAccounts.indexOf(s)]&&0!==t.processData.responses[t.importDialog.tab3.newAccounts.indexOf(s)].toString().length?t._e():a("v-progress-linear",{attrs:{indeterminate:"undefined"!==typeof t.processData.loading[t.importDialog.tab3.newAccounts.indexOf(s)]&&t.processData.loading[t.importDialog.tab3.newAccounts.indexOf(s)],value:0}}),"undefined"!==typeof t.processData.responses[t.importDialog.tab3.newAccounts.indexOf(s)]&&"undefined"!==typeof t.processData.responses[t.importDialog.tab3.newAccounts.indexOf(s)].result&&t.processData.responses[t.importDialog.tab3.newAccounts.indexOf(s)].result?a("span",[a("v-icon",{attrs:{color:"green"}},[t._v("check_box")]),a("a",{staticStyle:{"font-size":"12px"},attrs:{href:"#"},on:{click:function(e){t.openDetails(t.processData.responses[t.importDialog.tab3.newAccounts.indexOf(s)])}}},[t._v(" "+t._s(t.$t("common.learnMore"))+" ")])],1):t._e(),"undefined"===typeof t.processData.responses[t.importDialog.tab3.newAccounts.indexOf(s)]||"undefined"===typeof t.processData.responses[t.importDialog.tab3.newAccounts.indexOf(s)].result||t.processData.responses[t.importDialog.tab3.newAccounts.indexOf(s)].result?t._e():a("span",[a("v-icon",{staticClass:"mr-1",attrs:{color:"red"}},[t._v("cancel")]),a("a",{staticStyle:{"font-size":"12px"},attrs:{href:"#"},on:{click:function(e){t.openDetails(t.processData.responses[t.importDialog.tab3.newAccounts.indexOf(s)])}}},[t._v(" "+t._s(t.$t("common.learnMore"))+" ")])],1)]}}])})],1)])},fo=[],bo={name:"AccountsDialogLoginPasswordDataCheck",props:{processData:{type:Object,default:()=>({responses:{},loading:{}})}},data(){return{data:[],currentAccount:null,detailsDialog:!1,forDetails:{},useragents:Be["a"]}},computed:{...Object(l["c"])({proxy:"proxy/proxy",tags:"tags/tags",importDialog:"accounts_v2/importDialog"}),cols(){let t=[];return t.push({text:this.$t("common.name"),value:"name",width:200}),t.push({text:this.$t("common.login"),value:"login",width:200,sortable:!1}),t.push({text:this.$t("common.password"),value:"password",width:200,sortable:!1}),t.push({text:this.$t("common.useragent"),value:"useragent",width:200,sortable:!1}),t.push({text:this.$t("common.proxy"),value:"proxy",width:200,sortable:!1}),t.push({text:this.$t("common.tags"),value:"tags",width:200,sortable:!1}),t.push({text:this.$t("common.status"),value:"status",sortable:!1}),t}},methods:{setTab3NewAccountsOptions(t,e,a){let s={index:t,option:e,value:a};this.$store.dispatch("accounts_v2/setTab3NewAccountsOptions",s)},searchExistingProxy(t,e){const a=e.toLowerCase();return!(void 0===typeof t.name||!t.name||-1===t.name.toString().toLowerCase().search(a))||(!(!t.ip||-1===t.ip.toString().toLowerCase().search(a))||(!(!t.port||-1===t.port.toString().toLowerCase().search(a))||(!(!t.login||-1===t.login.toString().toLowerCase().search(a))||!(!t.password||-1===t.password.toString().toLowerCase().search(a)))))},copyToAnotherAccounts(t,e){for(const a in this.importDialog.tab3.newAccounts)this.setTab3NewAccountsOptions(a,t,this.importDialog.tab3.newAccounts[e][t])},openDetails(t){this.forDetails=t,this.detailsDialog=!0},randomizeUseragent(t){let e=this.useragents.length,a=1,s=Math.floor(Math.random()*(e-a+1)+a);return this.setTab3NewAccountsOptions(t,"user_agent",this.useragents[s-1])}}},_o=bo,yo=(a("59ef"),Object(p["a"])(_o,vo,fo,!1,null,null,null)),xo=yo.exports;h()(yo,{VAutocomplete:st["a"],VBtn:g["a"],VCard:v["a"],VCardActions:f["a"],VCardText:f["b"],VCardTitle:f["c"],VCombobox:Xt["a"],VDataTable:P["a"],VDialog:b["a"],VDivider:V["a"],VIcon:_["a"],VProgressLinear:y["a"],VSpacer:O["a"],VTextField:ct["a"],VTooltip:Ke["a"]});var ko=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-row",[a("v-col",{attrs:{cols:"12",md:"8"}},[a("v-alert",{attrs:{color:"primary",text:""},domProps:{innerHTML:t._s(t.$t("adsmanager.accounts.add.loginPassword.formats"))}}),a("v-textarea",{attrs:{value:t.importDialog.tab3.dataRaw,rows:"10",dense:"",outlined:"","auto-grow":"","hide-details":""},on:{input:function(e){return t.setImportDialogOptions("dataRaw",e)}}}),t.alertUseragent?a("v-alert",{staticClass:"mt-4",attrs:{color:"red",text:"","hide-details":""},domProps:{innerHTML:t._s(t.$t("adsmanager.accounts.add.alertUseragent"))}}):t._e()],1),a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-simple-table",{staticClass:"add-accounts-data-input-table",attrs:{height:"400","fixed-header":""},scopedSlots:t._u([{key:"default",fn:function(){return[a("thead",[a("tr",[a("th",[t._v(t._s(t.$t("common.id")))]),a("th",[t._v(t._s(t.$t("common.nameProxy")))])])]),a("tbody",t._l(t.proxy.all,(function(e,s){return a("tr",{key:"new-proxy-"+s},[a("td",[t._v(t._s(e.id))]),a("td",[t._v(t._s(e.name))])])})),0)]},proxy:!0}])})],1)],1)},wo=[],$o={name:"AccountsDialogLoginPasswordDataInput",data(){return{data:[],useragents:Be["a"],alertUseragent:!1}},computed:{...Object(l["c"])({proxy:"proxy/proxy",importDialog:"accounts_v2/importDialog"})},watch:{"importDialog.tab3.dataRaw"(){this.parse()},data:{deep:!0,handler(){this.setImportDialogOptions("newAccounts",this.data)}}},methods:{setImportDialogOptions(t,e){let a={category:"tab3",option:t,value:e};this.$store.dispatch("accounts_v2/setImportDialogOptions",a)},parse(){this.alertUseragent=!1;const t=this.importDialog.tab3.dataRaw.split("\n");this.data=[],this.$store.dispatch("accounts_v2/setTab3NewProxies",[]);let e=this.importDialog.tab3.newProxies,a={free:!0,id:null,ip:null,port:null,login:null,password:null,name:null,accounts_count:null,type:null};e.push(a),0!==t.length&&t.forEach(t=>{if(!t.trim())return;let a={name:null,login:null,password:null,user_agent:null,proxy:{id:null,ip:null,port:null,login:null,password:null,name:null,accounts_count:0,type:null},newProxy:null,tags:null};if(t.split("::").length>1){const e=t.split("::")[0];e&&(a.name=e.trim());const s=t.split("::")[1].trim();s&&(a.login=s.trim());const o=t.split("::")[2].trim();o&&(a.password=o.trim());const n=t.split("::")[3].trim();if(n&&(a.user_agent=n.trim()),t.split("::")[3].trim().toLowerCase().indexOf("android")>-1&&(this.alertUseragent=!0),0===a.user_agent.toString().length&&(a.user_agent=Be["a"][parseInt(Math.random()*Be["a"].length)]),t.split("::").length>4){let e=t.split("::")[4].trim();if(-1===e.indexOf(":")){let t=this.proxy.all.find(t=>t.id===parseInt(e));a.proxy={...t},a.newProxy=null}else{a.newProxy=t.split("::")[4].trim();let s=null;-1===e.indexOf("/")?s="http":e.split("://").length>1&&(s=e.split("://")[0].toLowerCase(),"https"===s&&(s="http"),"socks"===s&&(s="socks5"),e=e.split("://")[1]),e.split(":").length>1&&(2===e.split(":").length&&(a.proxy={id:null,ip:e.split(":")[0].trim(),port:e.split(":")[1].trim(),login:null,password:null,name:null,accounts_count:0,type:s}),3===e.split(":").length&&(a.proxy={id:null,ip:e.split(":")[0].trim(),port:e.split(":")[1].trim(),login:null,password:null,name:e.split(":")[2].trim(),accounts_count:0,type:s}),4===e.split(":").length&&(a.proxy={id:null,ip:e.split(":")[0].trim(),port:e.split(":")[1].trim(),login:e.split(":")[2].trim(),password:e.split(":")[3].trim(),name:null,accounts_count:0,type:s}),5===e.split(":").length&&(a.proxy={id:null,ip:e.split(":")[0].trim(),port:e.split(":")[1].trim(),login:e.split(":")[2].trim(),password:e.split(":")[3].trim(),name:e.split(":")[4].trim(),accounts_count:0,type:s}))}}}a.name&&a.login&&a.password&&this.data.push(a),null===a.proxy.id&&null!==a.proxy.ip&&null!==a.proxy.port&&(e.push(a.proxy),this.$store.dispatch("accounts_v2/setTab3NewProxies",e))})}}},Co=$o,Ao=(a("6056"),Object(p["a"])(Co,ko,wo,!1,null,null,null)),To=Ao.exports;h()(Ao,{VAlert:J["a"],VCol:ot["a"],VRow:nt["a"],VSimpleTable:ao["a"],VTextarea:Pt["a"]});var Do={name:"AccountsDialogLoginPassword",components:{DataInput:To,DataCheck:xo},props:{processData:{type:Object,default:()=>({responses:{},loading:{}})}},data(){return{step:1,useragents:Be["a"]}},computed:{...Object(l["c"])({importDialog:"accounts_v2/importDialog"})},methods:{openStep2(){for(let t in this.importDialog.tab3.newAccounts)if(""===this.importDialog.tab3.newAccounts[t].user_agent||null===this.importDialog.tab3.newAccounts[t].user_agent||"User agent"===this.importDialog.tab3.newAccounts[t].user_agent){let e=this.useragents.length,a=1,s=Math.floor(Math.random()*(e-a+1)+a),o={index:t,option:"user_agent",value:this.useragents[s-1]};this.$store.dispatch("accounts_v2/setTab3NewAccountsOptions",o)}}}},So=Do,Po=Object(p["a"])(So,ho,go,!1,null,null,null),Vo=Po.exports;h()(Po,{VBtn:g["a"],VCol:ot["a"],VRow:nt["a"],VStepper:co["a"],VStepperContent:ro["a"],VStepperHeader:lo["a"],VStepperItems:lo["b"],VStepperStep:uo["a"]});var Oo={name:"AccountsSingleAddDialog",components:{DialogBulkAdd:mo,DialogLoginPassword:Vo,DialogForm:Xe},data(){return{validation:{state:!1},newAccount:{},tabs:0,tab3:{responses:{},loading:{}},proxyState:!1,initialUseragent:"",initialUseragentChanged:!1}},computed:{...Object(l["c"])({dialogs:"accounts_v2/dialogs",loading:"accounts_v2/loading",importDialog:"accounts_v2/importDialog"})},created(){this.$store.dispatch("tags/loadTags"),this.$store.dispatch("proxy/loadProxy")},methods:{close(){(""===this.newAccount.access_token&&""===this.newAccount.name&&0===this.newAccount.tags.length&&this.initialUseragent===this.newAccount.useragent&&""!==this.newAccount.useragent&&null===this.newAccount.cookies&&!this.proxyState&&""===this.importDialog.tab2.dataRaw&&""===this.importDialog.tab3.dataRaw||(this.confirmation=confirm(this.$t("common.closeDialogConfirmation")),this.confirmation))&&this.$store.dispatch("accounts_v2/closeDialog","add")},setInitialUseragent(t){this.initialUseragent=t,this.initialUseragentChanged=!0},addAccount(){this.$store.dispatch("accounts_v2/addAccount",this.newAccount)},async addBulkAccounts(){await this.$store.dispatch("accounts_v2/setCreateCabsCount",0);for(const t of this.importDialog.tab2.newAccounts){const e=this.$_.cloneDeep(t);e.cookies=e.cookies?JSON.parse(e.cookies):null,await this.$store.dispatch("accounts_v2/createBulkAccounts",e)}this.$store.dispatch("accounts_v2/closeDialog","add")},async addLoginPassword(){await this.$store.dispatch("accounts_v2/setAddDialogLoading",!0),this.$set(this.tab3,"loading",{}),this.$set(this.tab3,"responses",{});for(const t in this.importDialog.tab3.newAccounts){this.$set(this.tab3.loading,t,!0);const e=await this.api.post("/accounts/add",this.importDialog.tab3.newAccounts[t]);if("undefined"!==typeof e.data.data&&"undefined"!==e.data.data.account_id){const a=e.data.data.account_id;let s="get_token_via_emulation";switch(this.importDialog.tab3.mode){case"browser":s="get_token_via_emulation";break;case"api":s="get_token_via_api";break;case"form":s="get_token_via_form";break}const o=await this.api.post("/automator/"+s,{account_id:a});this.$set(this.tab3.responses,t,o.data)}this.$set(this.tab3.loading,t,!1)}await this.$store.dispatch("accounts_v2/setAddDialogLoading",!1)}}},Io=Oo,Lo=a("71a3"),jo=a("c671"),Fo=a("fe57"),No=Object(p["a"])(Io,Bs,Us,!1,null,null,null),Eo=No.exports;h()(No,{VBtn:g["a"],VCard:v["a"],VCardText:f["b"],VCol:ot["a"],VDialog:b["a"],VIcon:_["a"],VRow:nt["a"],VSpacer:O["a"],VTab:Lo["a"],VTabItem:jo["a"],VTabs:Fo["a"],VToolbar:I["a"],VToolbarItems:L["a"],VToolbarTitle:L["b"]});var Ro=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-row",{staticClass:"topbar-row"},[t.showFilters?a("filters-bar",{attrs:{show:t.showFilters,"active-filters-count":t.activeFiltersCount},on:{close:function(e){t.showFilters=!1}}}):t._e(),a("v-col",{staticStyle:{"padding-right":"0"},attrs:{cols:12,md:8}},[a("v-row",[a("v-col",{class:{"px-0":t.$vuetify.breakpoint.xs},staticStyle:{"padding-bottom":"0"},attrs:{cols:7,sm:4}},[a("topbar-actions")],1),a("v-col",{staticClass:"maintable-topbar py-0",class:{"px-0":t.$vuetify.breakpoint.xs,"justify-end":t.$vuetify.breakpoint.xs||t.$vuetify.breakpoint.sm},attrs:{cols:5,sm:8}},[t.$vuetify.breakpoint.xs||t.$vuetify.breakpoint.sm?t._e():a("div",{staticStyle:{float:"right",width:"85px"},style:t.$vuetify.breakpoint.sm||t.$vuetify.breakpoint.xs?t.$vuetify.breakpoint.sm?"margin-bottom: 8px;":"":"margin-left: 8px;"},[a("currency-selector")],1),a("refresh"),t.$vuetify.breakpoint.xs||t.$vuetify.breakpoint.sm?t._e():a("div",{staticStyle:{float:"right"}},[a("topbar-cols")],1),a("div",{staticStyle:{float:"right"}},[a("v-btn",{staticClass:"white--text",class:{"px-0":t.$vuetify.breakpoint.xs},staticStyle:{"margin-top":"1px"},attrs:{small:"",text:0===t.activeFiltersCount||t.$vuetify.breakpoint.sm||t.$vuetify.breakpoint.xs,color:0===t.activeFiltersCount?"primary":"red"},on:{click:function(e){t.showFilters=!0}}},[a("v-icon",{staticClass:"mr-1",attrs:{size:18}},[t._v(" filter_list ")]),t._v(" "+t._s(t.$t("common.filters"))+" "),t.activeFiltersCount>0?a("span",[t._v(" ("+t._s(t.activeFiltersCount)+") ")]):t._e(),t.activeFiltersCount>0?a("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on;return[a("v-btn",t._g({attrs:{"x-small":"",icon:"",dark:""},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.$store.dispatch("accounts_v2/clearFilters")}}},s),[a("v-icon",{attrs:{size:13}},[t._v(" fas fa-times ")])],1)]}}],null,!1,3155558238)},[a("span",[t._v(t._s(t.$t("common.clear"))+" "+t._s(t.$t("common.filters").toLowerCase()))])]):t._e()],1)],1),t.$vuetify.breakpoint.xs||t.$vuetify.breakpoint.sm?t._e():a("div",{staticStyle:{float:"right"}},[a("v-btn",{staticStyle:{"min-width":"0","margin-top":"1px"},style:t.$vuetify.breakpoint.sm||t.$vuetify.breakpoint.xs?"":"margin-left: 12px;",attrs:{small:"",color:"primary",text:""},on:{click:function(e){t.$store.dispatch("accounts_v2/openDialog","add"),t.$store.dispatch("accounts_v2/clearImportDialog")}}},[a("v-icon",{attrs:{size:18}},[t._v(" add ")]),t._v(" "+t._s(t.$t("common.add"))+" "+t._s(t.$t("common.account"))+" ")],1)],1)],1)],1)],1),a("v-col",{attrs:{cols:12,md:4}},[a("v-row",[a("v-col",{staticClass:"py-0",class:{"pl-0":t.$vuetify.breakpoint.xs},attrs:{cols:6}},[a("filters-date",{style:t.$vuetify.breakpoint.sm?"padding-right: 8px;":""})],1),a("v-col",{staticClass:"py-0",class:{"pr-0":t.$vuetify.breakpoint.xs},attrs:{cols:6}},[a("v-text-field",{style:t.$vuetify.breakpoint.sm?"margin-left: 8px;":"",attrs:{dense:"",clearable:"",solo:"",label:t.$t("filters.searchByName"),"single-line":"","prepend-inner-icon":"fas fa-search","hide-details":"",value:t.filters.name},on:{input:t.filterName}})],1)],1)],1)],1)},zo=[],Mo=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-combobox",{attrs:{label:"Валюта",items:t.currencies,value:t.currency,solo:"","hide-details":"",height:30,dense:""},on:{change:t.currencyChange}})},Bo=[],Uo=a("1451"),qo={name:"AdsManagerCurrencySelectorV2",data:function(){return{currencies:Uo["a"]}},computed:{...Object(l["c"])({currency:"adsmanager/currency"})},methods:{currencyChange(t){this.$store.dispatch("adsmanager/changeCurrency",t),this.$store.dispatch("accounts_v2/LOAD_ACCOUNTS")}}},Ho=qo,Wo=Object(p["a"])(Ho,Mo,Bo,!1,null,null,null),Yo=Wo.exports;h()(Wo,{VCombobox:Xt["a"]});var Jo=a("c86e"),Go=a("0365"),Ko=a("fc9b"),Qo=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("date-range-picker",{staticClass:"adsmanager-date-range-picker",staticStyle:{width:"100%"},attrs:{"date-range":t.globalFiltersDates,ranges:t.ranges,"locale-data":t.localeData,"auto-apply":"",opens:t.$vuetify.breakpoint.xs?"right":"left","control-container-class":"form-control"},on:{select:t.changeDates},scopedSlots:t._u([{key:"input",fn:function(e){return[a("v-text-field",{staticStyle:{cursor:"pointer"},attrs:{dense:"",solo:"","single-line":"","prepend-inner-icon":"fas fa-calendar","hide-details":"",value:t.moment(e.startDate).format("YYYY-MM-DD")+" - "+t.moment(e.endDate).format("YYYY-MM-DD"),readonly:""}})]}}])})},Xo=[],Zo=a("c1df"),tn=a.n(Zo),en=a("bbf5"),an=a.n(en),sn={name:"AdsManagerFiltersDate",components:{DateRangePicker:an.a},data(){return{moment:tn.a,dateRange:{startDate:"2020-04-23",endDate:"2020-04-23"},localeData:{firstDay:"ru"===localStorage.getItem("language")?1:0,direction:"ltr",format:"yyyy-mm-dd",separator:" - ",applyLabel:"Apply",cancelLabel:"Cancel",weekLabel:"W",customRangeLabel:"Custom Range",daysOfWeek:[this.$t("common.datePicker.daysOfWeek.sun"),this.$t("common.datePicker.daysOfWeek.mon"),this.$t("common.datePicker.daysOfWeek.tue"),this.$t("common.datePicker.daysOfWeek.wed"),this.$t("common.datePicker.daysOfWeek.thu"),this.$t("common.datePicker.daysOfWeek.fri"),this.$t("common.datePicker.daysOfWeek.sat")],monthNames:[this.$t("common.datePicker.monthNames.jan"),this.$t("common.datePicker.monthNames.feb"),this.$t("common.datePicker.monthNames.mar"),this.$t("common.datePicker.monthNames.apr"),this.$t("common.datePicker.monthNames.may"),this.$t("common.datePicker.monthNames.jun"),this.$t("common.datePicker.monthNames.jul"),this.$t("common.datePicker.monthNames.aug"),this.$t("common.datePicker.monthNames.sep"),this.$t("common.datePicker.monthNames.oct"),this.$t("common.datePicker.monthNames.nov"),this.$t("common.datePicker.monthNames.dec")]}}},computed:{...Object(l["c"])({globalFilters:"adsmanager/filters",profile:"main/profile"}),ranges(){const t=new Date;t.setHours(0,0,0,0);const e=new Date;e.setDate(t.getDate()-1),e.setHours(0,0,0,0);const a=new Date;a.setDate(t.getDate()-7),a.setHours(0,0,0,0);const s=new Date;s.setDate(t.getDate()-14),s.setHours(0,0,0,0);const o=new Date;return o.setDate(t.getDate()-30),o.setHours(0,0,0,0),{[this.$t("common.datePicker.ranges.today")]:[t,t],[this.$t("common.datePicker.ranges.yesterday")]:[e,e],[this.$t("common.datePicker.ranges.last7Days")]:[a,t],[this.$t("common.datePicker.ranges.last14Days")]:[s,t],[this.$t("common.datePicker.ranges.last30Days")]:[o,t],[this.$t("common.datePicker.ranges.thisWeek")]:[tn()().startOf("week").toDate(),t],[this.$t("common.datePicker.ranges.lastWeek")]:[tn()().subtract(1,"weeks").startOf("week").toDate(),tn()().subtract(1,"weeks").endOf("week").toDate()],[this.$t("common.datePicker.ranges.thisMonth")]:[new Date(t.getFullYear(),t.getMonth(),1),t],[this.$t("common.datePicker.ranges.lastMonth")]:[new Date(t.getFullYear(),t.getMonth()-1,1),new Date(t.getFullYear(),t.getMonth(),0)],[this.$t("common.datePicker.ranges.thisYear")]:[new Date(t.getFullYear(),0,1),new Date(t.getFullYear(),11,31)]}},globalFiltersDates(){const t={startDate:this.moment().startOf("day").format("YYYY-MM-DD HH:mm:ss"),endDate:this.moment().endOf("day").format("YYYY-MM-DD HH:mm:ss")};if(this.globalFilters.dates&&this.globalFilters.dates.startDate&&this.globalFilters.dates.endDate){const e=this.moment(this.globalFilters.dates.startDate).startOf("day").format("YYYY-MM-DDTHH:mm:ss"),a=this.moment(this.globalFilters.dates.endDate).endOf("day").format("YYYY-MM-DDTHH:mm:ss");t.startDate=new Date(e),t.endDate=new Date(a)}return t}},methods:{changeDates(t){this.$store.dispatch("adsmanager/setFiltersDates",{startDate:this.moment(t.startDate).format("YYYY-MM-DD"),endDate:this.moment(t.endDate).format("YYYY-MM-DD")}),this.$store.dispatch("accounts_v2/LOAD_ACCOUNTS")}}},on=sn,nn=Object(p["a"])(on,Qo,Xo,!1,null,null,null),cn=nn.exports;h()(nn,{VTextField:ct["a"]});var rn=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-navigation-drawer",{staticStyle:{"z-index":"9999",width:"400px"},attrs:{value:t.show,temporary:"",right:"",absolute:""},on:{transitionend:function(e){return t.$emit("close")}}},[a("div",{staticStyle:{padding:"16px"}},[a("div",{staticClass:"mb-3"},[a("span",[a("v-btn",{staticClass:"sidebar-collapse-button",attrs:{color:"grey",fab:"","x-small":"",outlined:""},on:{click:function(e){return t.$emit("close")}}},[a("v-icon",[t._v("keyboard_arrow_right")])],1)],1),a("span",{staticClass:"title"},[t._v(" "+t._s(t.$t("common.filters"))+" ")])]),a("v-row",[a("v-col",{staticClass:"py-0 my-2",attrs:{cols:"12"}},[a("v-combobox",{attrs:{label:t.$t("filters.status"),items:t.accountsStatuses,value:t.filters.statuses,multiple:"",chips:"","deletable-chips":"",clearable:"",dense:"","small-chips":"","single-line":"",solo:"","prepend-inner-icon":"fas fa-code","hide-details":""},on:{change:t.filterStatus}})],1),a("v-col",{staticClass:"py-0 mt-2",attrs:{cols:"12"}},[a("v-combobox",{attrs:{label:t.$t("common.tags"),items:t.currentLevelTags.all,value:t.filters.tags,multiple:"",chips:"","deletable-chips":"",clearable:"",dense:"","small-chips":"",solo:"","prepend-inner-icon":"fas fa-tags","hide-details":""},on:{change:t.filterTags}})],1),a("v-col",{staticClass:"py-0 mt-2",attrs:{cols:"12"}},[a("h5",[t._v(" "+t._s(t.$t("adsmanager.accounts.filters.archived"))+" ")]),a("v-checkbox",{attrs:{label:t.$t("adsmanager.accounts.filters.showArchivedAccounts")},on:{change:function(e){return t.$store.dispatch("accounts_v2/setSpecificFilter",{filter:"showArchived",data:!!e})}},model:{value:t.filters.showArchived,callback:function(e){t.$set(t.filters,"showArchived",e)},expression:"filters.showArchived"}})],1),a("v-col",{staticClass:"py-0 mt-2",attrs:{cols:"12"}},[a("h5",[t._v(" "+t._s(t.$t("common.spend"))+" ")]),a("v-checkbox",{attrs:{label:t.$t("common.withSpend")},on:{change:function(e){return t.$store.dispatch("accounts_v2/setSpecificFilter",{filter:"withSpend",data:!!e})}},model:{value:t.filters.withSpend,callback:function(e){t.$set(t.filters,"withSpend",e)},expression:"filters.withSpend"}})],1)],1),t.$vuetify.breakpoint.xs||t.$vuetify.breakpoint.sm?a("v-col",{staticClass:"py-0 mt-2",attrs:{cols:"12"}},[t.activeFiltersCount>0?a("v-btn",{staticClass:"mr-1",attrs:{text:"",block:"",color:"primary",small:""},on:{click:function(e){return t.$store.dispatch("accounts_v2/clearFilters")}}},[a("v-icon",{staticClass:"mr-1",attrs:{size:18}},[t._v(" close ")]),t._v(" "+t._s(t.$t("common.clear"))+" "+t._s(t.$t("common.filters"))+" ")],1):t._e()],1):t._e(),t.$vuetify.breakpoint.xs||t.$vuetify.breakpoint.sm?a("v-col",{staticClass:"py-0 mt-2",attrs:{cols:"12"}},[a("topbar-cols")],1):t._e()],1)])},ln=[],dn={name:"AccountsFiltersBar",components:{TopbarCols:Ko["a"]},props:{show:{type:Boolean,default:!1},activeFiltersCount:{type:Number,default:0}},data(){return{loadCurrentLevelTagsInterval:0,accountsStatuses:Go["a"]}},computed:{...Object(l["c"])({accounts:"accounts_v2/ACCOUNTS",filters:"accounts_v2/FILTERS",currentLevelTags:"tags/currentLevelTags"})},watch:{"filters.withSpend":{handler(){this.$store.dispatch("accounts_v2/LOAD_ACCOUNTS")},deep:!1},"filters.showArchived":{handler(){this.$store.dispatch("accounts_v2/LOAD_ACCOUNTS")},deep:!1}},created(){this.filters.newVersion=!0,this.$store.dispatch("tags/loadItems",{only_from:"accounts",exclude_tags:0}),this.loadCurrentLevelTagsInterval=setInterval(()=>{this.$store.dispatch("tags/loadItems",{only_from:"accounts",exclude_tags:0})},6e4)},beforeDestroy(){this.filters.newVersion=!1,clearInterval(this.loadCurrentLevelTagsInterval)},methods:{async filterStatus(t){t&&this.$store.dispatch("accounts_v2/clearSelected"),await this.$store.dispatch("accounts_v2/setFiltersStatuses",t.map(t=>"undefined"!==typeof t.value?t.value:t)),localStorage.setItem("adsmanager-accounts-filters",JSON.stringify(this.filters)),this.$store.dispatch("accounts_v2/LOAD_ACCOUNTS")},async filterTags(t){t&&t.length>0&&this.$store.dispatch("accounts_v2/clearSelected");const e={filter:"tags",data:t};await this.$store.dispatch("accounts_v2/setSpecificFilter",e),this.$store.dispatch("accounts_v2/LOAD_ACCOUNTS")}}},un=dn,pn=Object(p["a"])(un,rn,ln,!1,null,null,null),mn=pn.exports;h()(pn,{VBtn:g["a"],VCheckbox:S["a"],VCol:ot["a"],VCombobox:Xt["a"],VIcon:_["a"],VNavigationDrawer:Is["a"],VRow:nt["a"]});var hn=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticStyle:{float:"left"}},[a("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on;return[a("v-btn",t._g({staticStyle:{"min-width":"0",width:"30px","margin-top":"1px"},attrs:{small:"",disabled:0===t.accounts.selected.length,color:"primary",text:""},on:{click:function(e){return t.$store.dispatch("accounts_v2/openDialog","multipleAssignTags")}}},s),[a("v-icon",{attrs:{size:12}},[t._v(" fas fa-tags ")])],1)]}}])},[a("span",[t._v(t._s(t.$t("common.tags")))])])],1),t.$vuetify.breakpoint.xs||t.$vuetify.breakpoint.sm?t._e():a("div",{staticStyle:{float:"left"}},[a("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on;return[a("v-btn",t._g({staticStyle:{"min-width":"0",width:"30px","margin-top":"1px"},attrs:{small:"",disabled:0===t.accounts.selected.length,color:"primary",text:""},on:{click:function(e){return t.$store.dispatch("accounts_v2/openDialog","multipleShare")}}},s),[a("v-icon",{attrs:{size:12}},[t._v(" fas fa-share-alt ")])],1)]}}],null,!1,413531814)},[a("span",[t._v(t._s(t.$t("common.share")))])])],1),t.$vuetify.breakpoint.xs||t.$vuetify.breakpoint.sm?t._e():a("div",{staticStyle:{float:"left"}},[a("multiple-tokens-check")],1),a("div",{staticStyle:{float:"left"}},[a("v-menu",{attrs:{"offset-y":"","open-on-hover":!t.$vuetify.breakpoint.sm&&!t.$vuetify.breakpoint.xs,"close-on-click":"","close-on-content-click":!t.$vuetify.breakpoint.xs&&!t.$vuetify.breakpoint.sm,"content-class":"adsmanager-topbar-actions-menu"},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on;return[a("v-btn",t._g({staticStyle:{"min-width":"0",width:"30px","margin-top":"1px"},attrs:{disabled:0===t.accounts.selected.length,small:"",color:"primary",text:""}},s),[a("v-icon",{attrs:{size:12}},[t._v(" fas fa-ellipsis-v ")])],1)]}}])},[a("v-list",[t.$vuetify.breakpoint.xs||t.$vuetify.breakpoint.sm?a("v-list-item",{attrs:{dense:""},on:{click:function(e){return t.$store.dispatch("accounts_v2/openDialog","multipleShare")}}},[a("v-list-item-title",[t._v(t._s(t.$t("common.share")))])],1):t._e(),a("v-list-item",{attrs:{dense:""},on:{click:function(e){return t.$store.dispatch("accounts_v2/openDialog","initPersonalCab")}}},[a("v-list-item-title",[t._v(t._s(t.$t("adsmanager.accounts.initPersonalCab.actionText")))])],1),a("v-list-item",{attrs:{dense:""},on:{click:function(e){return t.$store.dispatch("accounts_v2/openDialog","acceptRules")}}},[a("v-list-item-title",[t._v(t._s(t.$t("common.acceptRules")))])],1),a("v-list-item",{attrs:{dense:""},on:{click:function(e){return t.$store.dispatch("accounts_v2/openDialog","changeProxy")}}},[a("v-list-item-title",[t._v(t._s(t.$t("proxy.changeProxy")))])],1),a("v-list-item",{attrs:{dense:""},on:{click:function(e){return t.$store.dispatch("accounts_v2/openDialog","adAccountsManagement")}}},[a("v-list-item-title",[t._v(t._s(t.$t("adsmanager.accounts.adAccountsManagement")))])],1),a("v-divider"),a("v-list-item",{attrs:{dense:""},on:{click:function(e){return t.$store.dispatch("accounts_v2/openDialog","createFanPage")}}},[a("v-list-item-title",[t._v(t._s(t.$t("common.createFanPage")))])],1),a("v-list-item",{attrs:{dense:""},on:{click:function(e){return t.$store.dispatch("accounts_v2/openDialog","createBm")}}},[a("v-list-item-title",[t._v(t._s(t.$t("common.createBm")))])],1),a("v-list-item",{attrs:{dense:""},on:{click:function(e){return t.$store.dispatch("accounts_v2/openDialog","shareFanPage")}}},[a("v-list-item-title",[t._v(t._s(t.$t("adsmanager.accounts.shareFanPage")))])],1),a("v-list-item",{attrs:{dense:""},on:{click:function(e){return t.$store.dispatch("accounts_v2/openDialog","pageAppeal")}}},[a("v-list-item-title",[t._v(t._s(t.$t("adsmanager.accounts.pageAppeal")))])],1),a("v-list-item",{attrs:{dense:""},on:{click:function(e){return t.$store.dispatch("accounts_v2/openDialog","turnOffPageNotifications")}}},[a("v-list-item-title",[t._v(t._s(t.$t("adsmanager.accounts.turnOffPageNotifications")))])],1),a("v-divider"),a("v-list-item",{attrs:{dense:""},on:{click:function(e){return t.$store.dispatch("accounts_v2/openDialog","moveAccountsToAnotherUser")}}},[a("v-list-item-title",[t._v(t._s(t.$t("adsmanager.accounts.moveAccountsToAnotherUser")))])],1),a("accounts-dialog-archive"),a("v-list-item",{attrs:{dense:""},on:{click:t.unarchive}},[a("v-list-item-title",[t._v(t._s(t.$t("common.unarchive")))])],1),a("multiple-delete"),a("action-export"),t.$vuetify.breakpoint.xs||t.$vuetify.breakpoint.sm?a("v-list-item",{attrs:{dense:""},on:{click:function(e){t.$store.dispatch("accounts_v2/openDialog","add"),t.$store.dispatch("accounts_v2/clearImportDialog")}}},[a("v-list-item-title",[t._v(" "+t._s(t.$t("common.add"))+" "+t._s(t.$t("common.account"))+" ")])],1):t._e(),t.$vuetify.breakpoint.xs||t.$vuetify.breakpoint.sm?a("v-list-item",{attrs:{dense:""}},[a("v-list-item-title",[a("multiple-tokens-check")],1)],1):t._e()],1)],1)],1),a("div",{staticStyle:{float:"left"}},[a("div",{staticClass:"body-2 ml-1",style:{color:t.accounts.selected.length>0?"":"gray",paddingTop:"5px",fontSize:t.$vuetify.breakpoint.xs?"12px !important":""}},[t._v(" "+t._s(t.$t("common.selected"))+": "+t._s(t.accounts.selected.length)+" ")])])])},gn=[],vn=a("0895"),fn=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-list-item",{attrs:{dense:""},on:{click:t.archive}},[a("v-list-item-title",[t._v(t._s(t.$t("common.archive")))])],1)},bn=[],_n={name:"AccountsDialogArchive",computed:{...Object(l["c"])({accounts:"accounts_v2/accounts"})},methods:{archive(){if(confirm(this.$t("common.confirmPlease"))){const t={ids:this.accounts.selected.map(t=>t.id)};this.$store.dispatch("accounts_v2/archive",t)}}}},yn=_n,xn=Object(p["a"])(yn,fn,bn,!1,null,null,null),kn=xn.exports;h()(xn,{VListItem:Nt["a"],VListItemTitle:Et["c"]});var wn=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-list-item",{attrs:{dense:""},on:{click:t.multipleDelete}},[a("v-list-item-title",[t._v(t._s(t.$t("common.delete")))])],1)},$n=[],Cn={name:"AccountsMultipleDelete",computed:{...Object(l["c"])({accounts:"accounts_v2/ACCOUNTS"})},methods:{multipleDelete(){this.$store.dispatch("accounts_v2/openDialog","approveDeletion")}}},An=Cn,Tn=Object(p["a"])(An,wn,$n,!1,null,null,null),Dn=Tn.exports;h()(Tn,{VListItem:Nt["a"],VListItemTitle:Et["c"]});var Sn=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-dialog",{attrs:{"hide-overlay":"",persistent:"",width:"300"},model:{value:t.checkTokenLoading.loading,callback:function(e){t.$set(t.checkTokenLoading,"loading",e)},expression:"checkTokenLoading.loading"}},[a("v-card",{staticClass:"pr-4",attrs:{color:"primary"}},[a("v-card-text",[a("div",{staticStyle:{display:"flex","justify-content":"space-between","align-items":"center","min-height":"40px",color:"white"}},[a("div",[t._v(" "+t._s(t.$t("dialogs.accounts.multipleTokensCheck.title"))+" ")]),a("div",[t._v(" "+t._s(t.checkTokenLoading.done)+" / "+t._s(t.checkTokenLoading.accounts.length)+" ")])]),a("v-progress-linear",{staticClass:"mb-0",attrs:{indeterminate:"",color:"white"}}),a("v-btn",{staticStyle:{position:"absolute",right:"2px",top:"2px"},attrs:{icon:"",small:""},on:{click:function(e){return t.$store.dispatch("accounts_v2/setLoadingOptions",{dialog:"checkTokenLoading",option:"stopRequest",value:!0})}}},[a("v-icon",{attrs:{size:14,color:"white"}},[t._v(" fas fa-times-circle ")])],1)],1)],1)],1),t.$vuetify.breakpoint.xs||t.$vuetify.breakpoint.sm?t._e():a("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on;return[a("v-btn",t._g({staticStyle:{"min-width":"0",width:"30px","margin-top":"1px"},attrs:{small:"",disabled:0===t.accounts.selected.length,color:"primary",text:""},on:{click:t.multipleCheckTokens}},s),[a("v-icon",{attrs:{size:12}},[t._v(" fas fa-code ")])],1)]}}],null,!1,67478116)},[a("span",[t._v(t._s(t.$t("common.checkTokens")))])]),t.$vuetify.breakpoint.xs||t.$vuetify.breakpoint.sm?a("v-btn",{attrs:{color:"primary",text:"",block:"",small:""},on:{click:t.multipleCheckTokens}},[t._v(" "+t._s(t.$t("dialogs.accounts.multipleTokensCheck.title"))+" ")]):t._e()],1)},Pn=[],Vn={name:"AccountsMultipleTokensCheck",computed:{...Object(l["c"])({accounts:"accounts_v2/ACCOUNTS",checkTokenLoading:"accounts_v2/checkTokenLoading"})},watch:{"checkTokenLoading.stopRequest":{handler(){if(this.checkTokenLoading.stopRequest){for(let t of this.checkTokenLoading.source)t.cancel();this.$store.dispatch("accounts_v2/setLoadingOptions",{dialog:"checkTokenLoading",option:"showLoading",value:!1})}}}},methods:{multipleCheckTokens(){this.checkTokenLoading.requestStatus||confirm(this.$t("common.confirmPlease"))&&(this.$store.dispatch("accounts_v2/setLoadingOptions",{dialog:"checkTokenLoading",option:"requestStatus",value:!0}),this.$store.dispatch("accounts_v2/setLoadingOptions",{dialog:"checkTokenLoading",option:"stopRequest",value:!1}),this.$store.dispatch("accounts_v2/setLoadingOptions",{dialog:"checkTokenLoading",option:"loading",value:!0}),this.accounts.selected&&this.accounts.selected.length>0&&(this.$store.dispatch("accounts_v2/setLoadingOptions",{dialog:"checkTokenLoading",option:"accounts",value:this.accounts.selected}),this.checkTokenLoading.accounts.forEach((t,e)=>{const a=r.a.CancelToken;let s={dialog:"checkTokenLoading",index:e,source:a.source()};this.$store.dispatch("accounts_v2/setLoadingSource",s),this.api("/accounts/check_token/"+t.id,{cancelToken:this.checkTokenLoading.source[e].token}).catch(()=>!0).then(t=>{console.log(JSON.stringify(t.data)),this.$store.dispatch("accounts_v2/setLoadingOptions",{dialog:"checkTokenLoading",option:"done",value:this.checkTokenLoading.done+1}),this.checkTokenLoading.done===this.checkTokenLoading.accounts.length&&(this.$store.dispatch("accounts_v2/setLoadingOptions",{dialog:"checkTokenLoading",option:"done",value:0}),this.$store.dispatch("accounts_v2/setLoadingOptions",{dialog:"checkTokenLoading",option:"requestStatus",value:!1}),this.$store.dispatch("accounts_v2/setLoadingOptions",{dialog:"checkTokenLoading",option:"loading",value:!1}),this.$store.dispatch("accounts_v2/LOAD_ACCOUNTS"))})})))}}},On=Vn,In=(a("b741"),Object(p["a"])(On,Sn,Pn,!1,null,"7739afb3",null)),Ln=In.exports;h()(In,{VBtn:g["a"],VCard:v["a"],VCardText:f["b"],VDialog:b["a"],VIcon:_["a"],VProgressLinear:y["a"],VTooltip:Ke["a"]});var jn={name:"AccountsTopbarActions",components:{AccountsDialogArchive:kn,MultipleTokensCheck:Ln,MultipleDelete:Dn,ActionExport:vn["a"]},computed:{...Object(l["c"])({accounts:"accounts_v2/ACCOUNTS",profile:"main/profile"})},methods:{unarchive(){this.$store.dispatch("accounts_v2/openDialog","unarchive")}}},Fn=jn,Nn=a("8860"),En=a("e449"),Rn=Object(p["a"])(Fn,hn,gn,!1,null,null,null),zn=Rn.exports;h()(Rn,{VBtn:g["a"],VDivider:V["a"],VIcon:_["a"],VList:Nn["a"],VListItem:Nt["a"],VListItemTitle:Et["c"],VMenu:En["a"],VTooltip:Ke["a"]});var Mn={name:"AccountsTopbar",components:{CurrencySelector:Yo,Refresh:Jo["a"],FiltersBar:mn,FiltersDate:cn,TopbarActions:zn,TopbarCols:Ko["a"]},data(){return{nameSearchText:"",accountsStatuses:Go["a"],showFilters:!1}},computed:{...Object(l["c"])({accounts:"accounts_v2/ACCOUNTS",filters:"accounts_v2/FILTERS",tags:"tags/tags"}),activeFiltersCount(){let t=0;return this.filters?("undefined"!==typeof this.filters.statuses&&this.filters.statuses&&this.filters.statuses.length>0&&t++,"undefined"!==typeof this.filters.tags&&this.filters.tags&&this.filters.tags.length>0&&t++,"undefined"!==typeof this.filters.showArchived&&this.filters.showArchived&&t++,"undefined"!==typeof this.filters.withSpend&&this.filters.withSpend&&t++,t):0}},methods:{filterName(t){localStorage.setItem("adsmanager-accounts-filters",JSON.stringify(this.filters)),this.$store.dispatch("accounts_v2/LOAD_ACCOUNTS"),this.nameSearchText=t,setTimeout(async()=>{t===this.nameSearchText&&await this.$store.dispatch("accounts_v2/setFiltersName",t)},500)}}},Bn=Mn,Un=Object(p["a"])(Bn,Ro,zo,!1,null,"2580e9a2",null),qn=Un.exports;h()(Un,{VBtn:g["a"],VCol:ot["a"],VIcon:_["a"],VRow:nt["a"],VTextField:ct["a"],VTooltip:Ke["a"]});var Hn={name:"Accounts",components:{DialogAcceptRules:k,DialogChangeProxy:lt,DialogCreateBm:bt,DialogCreateFanPage:Ot,DialogInitPersonalCab:Mt,DialogMainInfo:Yt,DialogMoveAccountsToAnotherUser:te,DialogNoFacebookIdInfo:ie,DialogUnarchive:Ve,DialogApproveDeletion:Q,Topbar:qn,MainTable:ps,AssignTagsDialog:Ne,ShareDialog:Ms,SingleAddDialog:Eo,EditDialog:aa,MultipleShareDialog:Ds,MultipleAssignTagsDialog:ks,PermissionsSidebar:js,DialogShareFanPage:_e,DialogAdditionalTokensInfo:B,DialogAdAccountsManagement:F,DialogPageAppeal:pe,DialogTurnOffPageNotifications:Ce},data(){return{updateStatInterval:0,scrollSetted:!1,table:null,scrollPosition:0}},computed:{...Object(l["c"])({dialogs:"accounts_v2/dialogs",globalFilters:"adsmanager/filters",accounts:"accounts_v2/accounts"})},watch:{globalFilters:{deep:!0,async handler(){await this.$store.dispatch("accounts_v2/filterAccounts")}},"accounts.filtered":{deep:!0,handler(){this.table=document.querySelector(".stat-table-accounts .v-data-table__wrapper"),this.table&&this.table.scrollHeight>this.table.clientHeight&&!this.scrollSetted&&(localStorage.getItem("adsmanager-accounts-table-scroll-position")&&(this.table.scrollTop=parseInt(localStorage.getItem("adsmanager-accounts-table-scroll-position"))),this.table.addEventListener("scroll",this.tableScrollHandler),this.scrollSetted=!0)}}},created(){this.$store.dispatch("accounts_v2/LOAD_ACCOUNTS"),this.$store.dispatch("users/loadUsers"),this.updateStatInterval=setInterval(()=>{this.$store.dispatch("accounts_v2/LOAD_ACCOUNTS"),this.$store.dispatch("users/loadUsers")},6e4)},mounted(){this.$store.dispatch("accounts_v2/filterAccounts")},beforeDestroy(){clearInterval(this.updateStatInterval)},methods:{tableScrollHandler(t){t&&t.target&&(this.scrollPosition=t.target.scrollTop,setTimeout(()=>{t&&t.target&&t.target.scrollTop===this.scrollPosition&&localStorage.setItem("adsmanager-accounts-table-scroll-position",t.target.scrollTop)},1e3))}}},Wn=Hn,Yn=Object(p["a"])(Wn,s,o,!1,null,null,null);e["default"]=Yn.exports},beb9:function(t,e,a){"use strict";a("457d")},c857:function(t,e,a){"use strict";t.exports=function(t){return"object"===typeof t&&null!==t}},ce35:function(t,e,a){"use strict";t.exports=9007199254740991},d1a8:function(t,e,a){},d25b:function(t,e,a){"use strict";var s=a("5bc1"),o=a("6274"),n=s.fixme;t.exports=function(t){return t?t.inspected||(t.min=n(t.min,0,o,!0),t.max=n(t.max,0,o,!1)):t={min:0,max:o},t.inspected=!0,s(t)}},dc95:function(t,e,a){},de4d:function(t,e,a){"use strict";var s=a("14bd"),o=a("fec5"),n=a("c857"),i=a("8362");t.exports=function(t){if("string"===typeof t)return t;if(s(t))return"";if(o(t))return Symbol.prototype.toString.call(t);if(n(t)&&i(t.toString))return t.toString();var e=""+t;return"0"===e&&1/t===-1/0?"-0":e}},e58a:function(t,e,a){"use strict";a("2379")},e8ee:function(t,e,a){},eb94:function(t,e,a){"use strict";t.exports=function(t){if(null==t)return!1;var e=Object(t);return e===e.window}},fd15:function(t,e,a){"use strict";var s=a("1945"),o=a("6d47");t.exports=function(){return o(s)}},fec5:function(t,e,a){"use strict";var s=Object.prototype.toString,o=a("5156")();if(o){var n=Symbol.prototype.toString,i=/^Symbol\(.*\)$/,c=function(t){return"symbol"===typeof t.valueOf()&&i.test(n.call(t))};t.exports=function(t){if("symbol"===typeof t)return!0;if("[object Symbol]"!==s.call(t))return!1;try{return c(t)}catch(e){return!1}}}else t.exports=function(t){return!1}}}]);
//# sourceMappingURL=chunk-0f0e84e6.9da45474.js.map