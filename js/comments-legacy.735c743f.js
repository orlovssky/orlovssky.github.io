(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["comments"],{"0bef":function(e,t,n){"use strict";n.r(t);var s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("v-progress-linear",{attrs:{indeterminate:e.mainLoading}}),n("tabs"),n(e.componentName,{tag:"component"})],1)},a=[],i=n("5530"),o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-tabs",{attrs:{centered:"",grow:"",value:e.tabNumber,height:32}},[n("v-tab",{key:"tab-feed",attrs:{value:0},on:{click:function(t){return e.selectTab("feed")}}},[e._v(" "+e._s(e.$t("comments.tabs.commentsFeed"))+" ")]),n("v-tab",{key:"tab-settings",attrs:{value:1},on:{click:function(t){return e.selectTab("settings")}}},[e._v(" "+e._s(e.$t("comments.tabs.settings"))+" ")])],1)},r=[],c=n("2f62"),l={name:"CommentsTabs",data:function(){return{tabs:["feed","settings"]}},computed:Object(i["a"])(Object(i["a"])({},Object(c["c"])({activeTab:"comments/activeTab"})),{},{tabNumber:function(){switch(this.$route.params.tab){case"feed":return 0;case"settings":return 1;default:return 0}}}),methods:{changeTab:function(e){this.$store.dispatch("comments/setActiveTab",{tab:e,component:this.tabs[e]})},selectTab:function(e){this.$router.push({path:"/comments/".concat(e),params:{tab:e}})}}},m=l,d=n("2877"),u=n("6544"),h=n.n(u),f=n("71a3"),g=n("fe57"),p=Object(d["a"])(m,o,r,!1,null,null,null),v=p.exports;h()(p,{VTab:f["a"],VTabs:g["a"]});var b=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"px-2"},[n("topbar"),n("v-row",[n("v-col",{attrs:{cols:"12",md:"6","offset-md":"3",xl:"4","offset-xl":"4"}},[n("v-card",{attrs:{height:e.cardHeight}},[n("v-card-title",[n("v-icon",{staticClass:"mr-1",attrs:{size:18,color:"primary"}},[e._v(" fab fa-facebook-square ")]),e._v(" Facebook ")],1),n("v-card-text",[n("fb-timeline")],1)],1)],1)],1)],1)},I=[],x=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-timeline",{ref:"fbTimeline",staticClass:"comments-fb-timeline",style:{height:e.cardHeight+"px"},attrs:{dense:""}},[e.fbComments.length?e._l(e.fbComments,(function(e,t){return n("timeline-item",{key:"comments-feed-fb-comment-"+t+"-"+e,attrs:{comment:e,"comment-index":t}})})):n("v-timeline-item",{attrs:{"hide-dot":""}},[e._v(" "+e._s(e.$t("adsmanager.ads.noComments"))+" ")])],2)},_=[],w=n("1da1"),$=(n("96cf"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-timeline-item",{staticClass:"mr-4",attrs:{small:"",color:e.commentColor}},[n("v-card",[n("v-card-title",{staticClass:"d-flex justify-space-between align-center"},[n("div",{staticClass:"d-flex align-center"},[e.statusIcon?n("v-icon",{staticClass:"mr-2",attrs:{size:"15",color:"red"}},[e._v(" "+e._s(e.statusIcon)+" ")]):e._e(),e.comment.author?n("span",{class:{"hidden-or-deleted":e.commentIsHiddenOrDeleted}},[e._v(" "+e._s(e.comment.author)+" ")]):e._e()],1),n("div",{staticClass:"d-flex align-center"},["new"===e.comment.status?n("v-btn",e._b({attrs:{loading:e.loading.hide},on:{click:e.hideComment}},"v-btn",e.actionBtnProps,!1),[e._v(" "+e._s(e.$t("common.hide").toLowerCase())+" ")]):e._e(),"hidden"===e.comment.status?n("v-btn",e._b({attrs:{loading:e.loading.show},on:{click:e.showComment}},"v-btn",e.actionBtnProps,!1),[e._v(" "+e._s(e.$t("common.show").toLowerCase())+" ")]):e._e(),e.commentIsHiddenOrNew?n("v-btn",e._b({attrs:{loading:e.loading.delete},on:{click:e.deleteComment}},"v-btn",e.actionBtnProps,!1),[e._v(" "+e._s(e.$t("common.delete").toLowerCase())+" ")]):e._e(),n("span",{staticClass:"text-small-grey ml-2"},[e._v(" "+e._s(e.moment().format("YYYY-MM-DD HH:mm"))+" ")])],1)]),n("v-card-text",[e.showUnhiddenManuallyWarning?n("div",{staticClass:"mb-4 text-small-grey"},[e._v(" "+e._s(e.$t("comments.unhiddenManuallyWarning"))+" ")]):e._e(),n("span",{class:{"hidden-or-deleted":e.commentIsHiddenOrDeleted}},[e._v(" "+e._s(e.comment.message)+" ")]),e.comment.ad_account?n("div",{staticClass:"text-small-grey"},[e._v(" "+e._s(e.$t("common.adAccount")+": "+e.comment.ad_account.name)+" ")]):e._e()])],1)],1)}),C=[],y=(n("a9e3"),{name:"CommentsFeedTimelineItem",props:{comment:{type:Object,required:!0},commentIndex:{type:Number,required:!0}},data:function(){return{actionBtnProps:{text:!0,xSmall:!0,color:"primary"},loading:{show:!1,hide:!1,delete:!1}}},computed:{commentColor:function(){switch(this.comment.status){case"new":return"primary";default:return"grey"}},statusIcon:function(){switch(this.comment.status){case"hidden":return"far fa-eye-slash";case"deleted":return"fas fa-trash-alt";default:return null}},commentIsHiddenOrDeleted:function(){return"hidden"===this.comment.status||"deleted"===this.comment.status},commentIsHiddenOrNew:function(){return"hidden"===this.comment.status||"new"===this.comment.status},actionName:function(){switch(this.comment.status){case"new":return this.$t("common.hide").toLowerCase();case"hidden":return this.$t("common.show").toLowerCase();default:return null}},showUnhiddenManuallyWarning:function(){return this.comment.unhidden_from_dolphin&&"new"===this.comment.status}},methods:{hideComment:function(){var e=this;return Object(w["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.loading.hide=!0,n=e.$_.cloneDeep(e.comment),n.status="hidden",t.prev=3,t.next=6,e.api.patch("/fb-comments",{action:"hide",ids:[n.id]});case 6:t.next=10;break;case 8:t.prev=8,t.t0=t["catch"](3);case 10:e.$store.dispatch("comments/replaceFbComment",{index:e.commentIndex,comment:n}),e.loading.hide=!1;case 12:case"end":return t.stop()}}),t,null,[[3,8]])})))()},showComment:function(){var e=this;return Object(w["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.loading.show=!0,n=e.$_.cloneDeep(e.comment),n.status="new",n.unhidden_from_dolphin=!0,t.prev=4,t.next=7,e.api.patch("/fb-comments",{action:"unhide",ids:[n.id]});case 7:t.next=11;break;case 9:t.prev=9,t.t0=t["catch"](4);case 11:e.$store.dispatch("comments/replaceFbComment",{index:e.commentIndex,comment:n}),e.loading.show=!1;case 13:case"end":return t.stop()}}),t,null,[[4,9]])})))()},deleteComment:function(){var e=this;return Object(w["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.loading.delete=!0,n=e.$_.cloneDeep(e.comment),n.status="deleted",t.prev=3,t.next=6,e.api.delete("/fb-comments",{ids:[n.id]});case 6:t.next=10;break;case 8:t.prev=8,t.t0=t["catch"](3);case 10:e.$store.dispatch("comments/replaceFbComment",{index:e.commentIndex,comment:n}),e.loading.delete=!1;case 12:case"end":return t.stop()}}),t,null,[[3,8]])})))()}}}),k=y,D=(n("fd7b"),n("8336")),O=n("b0af"),S=n("99d9"),T=n("132d"),j=n("1e06"),V=Object(d["a"])(k,$,C,!1,null,"b7d58382",null),P=V.exports;h()(V,{VBtn:D["a"],VCard:O["a"],VCardText:S["b"],VCardTitle:S["c"],VIcon:T["a"],VTimelineItem:j["a"]});var F={name:"CommentsFeedFbTimeline",components:{TimelineItem:P},computed:Object(i["a"])(Object(i["a"])({},Object(c["c"])({innerHeight:"main/innerHeight",fbComments:"comments/fbComments",meta:"comments/meta",loading:"comments/loading"})),{},{cardHeight:function(){return this.innerHeight-4-32-46-16-4-24-64-24}}),mounted:function(){this.$refs.fbTimeline.$el.addEventListener("scroll",this.fbScrollHandler)},beforeDestroy:function(){this.$refs.fbTimeline.$el.removeEventListener("scroll",this.fbScrollHandler)},methods:{fbScrollHandler:function(e){var t=this;return Object(w["a"])(regeneratorRuntime.mark((function n(){var s,a,i,o,r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(!t.meta.isLastPage){n.next=2;break}return n.abrupt("return");case 2:if(!t.loading.fbComments){n.next=4;break}return n.abrupt("return");case 4:s=e.target,a=s.scrollTop,i=s.scrollHeight,o=s.clientHeight,r=a/(i-o),Math.round(100*r)>95&&t.$store.dispatch("comments/loadFbComments",!0);case 7:case"end":return n.stop()}}),n)})))()}}},W=F,M=(n("f7d4"),n("8414")),H=Object(d["a"])(W,x,_,!1,null,null,null),A=H.exports;h()(H,{VTimeline:M["a"],VTimelineItem:j["a"]});var Y=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"py-2 d-flex justify-end align-center"},[n("filters-bar",{attrs:{show:e.showFilters},on:{close:function(t){e.showFilters=!1}}}),n("v-btn",{staticClass:"mr-3",attrs:{small:"",dark:"",text:e.filtersBtnIsText,color:e.filtersColor},on:{click:function(t){e.showFilters=!0}}},[n("v-icon",{staticClass:"mr-1",attrs:{size:18}},[e._v(" filter_list ")]),e._v(" "+e._s(e.$t("common.filters"))+" ")],1),n("date-range-picker",{attrs:{"date-range":e.filters.dates,"locale-data":e.localeData,ranges:e.ranges,"auto-apply":"","control-container-class":"form-control",opens:"left"},on:{select:e.changeDates},scopedSlots:e._u([{key:"input",fn:function(t){return[n("v-text-field",{attrs:{value:e.dateRangePickerValue(t),dense:"",solo:"","single-line":"","prepend-inner-icon":"fas fa-calendar","hide-details":"",readonly:""}})]}}])})],1)},L=[],N=n("ade3"),B=(n("99af"),n("c1df")),R=n.n(B),E=n("bbf5"),z=n.n(E),q=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-navigation-drawer",{staticClass:"pa-4",attrs:{value:e.show,temporary:"",right:"",absolute:"",width:"400"},on:{input:e.handleDrawerInput}},[n("div",{staticClass:"mb-3"},[n("v-btn",{staticClass:"sidebar-collapse-button",attrs:{color:"grey",fab:"","x-small":"",outlined:""},on:{click:function(t){return e.$emit("close")}}},[n("v-icon",[e._v("keyboard_arrow_right")])],1),n("span",{staticClass:"title"},[e._v(" "+e._s(e.$t("common.filters"))+" ")])],1),n("v-autocomplete",{ref:"commentsFeedFiltersBarAccountsAutocomplete",attrs:{attach:"",items:e.accounts.list,"item-value":"id","item-text":"name",value:e.filters.accounts,label:e.$t("common.account"),multiple:"",clearable:"",outlined:"",dense:!e.filters.accounts.length,"hide-details":"",chips:"","deletable-chips":"","small-chips":"",loading:e.loading.accounts},on:{focus:e.handleAccountsFocus}})],1)},U=[],J={name:"CommentsFeedFiltersBar",props:{show:{type:Boolean,default:!1}},data:function(){return{scrollHandlerAdded:!1}},computed:Object(i["a"])({},Object(c["c"])({filters:"comments/filters",accounts:"comments/accounts",loading:"comments/loading"})),beforeDestroy:function(){var e=this.$refs.commentsFeedFiltersBarAccountsAutocomplete.$el;e&&e.querySelector(".v-menu__content.v-autocomplete__content")&&e.querySelector(".v-menu__content.v-autocomplete__content").addEventListener("scroll",this.scrollHandler)},methods:{handleAccountsFocus:function(){var e=this,t=this.$refs.commentsFeedFiltersBarAccountsAutocomplete.$el;t&&!this.scrollHandlerAdded&&(this.scrollHandlerAdded=!0,setTimeout((function(){t.querySelector(".v-menu__content.v-autocomplete__content").addEventListener("scroll",e.scrollHandler)}),1e3))},handleDrawerInput:function(e){!1===e&&this.$emit("close")},scrollHandler:function(e){if(!this.accounts.meta.isLastPage&&!this.loading.accounts){var t=e.target,n=t.scrollTop,s=t.scrollHeight,a=t.clientHeight,i=n/(s-a);Math.round(100*i)>95&&this.$store.dispatch("comments/loadAccounts",!0)}}}},K=J,G=(n("b8af"),n("c6a6")),Q=n("f774"),X=Object(d["a"])(K,q,U,!1,null,"3f3fd024",null),Z=X.exports;h()(X,{VAutocomplete:G["a"],VBtn:D["a"],VIcon:T["a"],VNavigationDrawer:Q["a"]});var ee={name:"CommentsFeedTopbar",components:{FiltersBar:Z,DateRangePicker:z.a},data:function(){return{showFilters:!1}},computed:Object(i["a"])(Object(i["a"])({},Object(c["c"])({filters:"comments/filters"})),{},{filtersColor:function(){return this.filters.accounts.length||this.filters.tags.length?"red":"primary"},filtersBtnIsText:function(){return!this.filters.accounts.length&&!this.filters.tags.length},ranges:function(){var e,t=new Date;t.setHours(0,0,0,0);var n=new Date;n.setDate(t.getDate()-1),n.setHours(0,0,0,0);var s=new Date;s.setDate(t.getDate()-7),s.setHours(0,0,0,0);var a=new Date;a.setDate(t.getDate()-14),a.setHours(0,0,0,0);var i=new Date;return i.setDate(t.getDate()-30),i.setHours(0,0,0,0),e={},Object(N["a"])(e,this.$t("common.datePicker.ranges.today"),[t,t]),Object(N["a"])(e,this.$t("common.datePicker.ranges.yesterday"),[n,n]),Object(N["a"])(e,this.$t("common.datePicker.ranges.last7Days"),[s,t]),Object(N["a"])(e,this.$t("common.datePicker.ranges.last14Days"),[a,t]),Object(N["a"])(e,this.$t("common.datePicker.ranges.last30Days"),[i,t]),Object(N["a"])(e,this.$t("common.datePicker.ranges.thisWeek"),[R()().startOf("week").toDate(),t]),Object(N["a"])(e,this.$t("common.datePicker.ranges.lastWeek"),[R()().subtract(1,"weeks").startOf("week").toDate(),R()().subtract(1,"weeks").endOf("week").toDate()]),Object(N["a"])(e,this.$t("common.datePicker.ranges.thisMonth"),[new Date(t.getFullYear(),t.getMonth(),1),t]),Object(N["a"])(e,this.$t("common.datePicker.ranges.lastMonth"),[new Date(t.getFullYear(),t.getMonth()-1,1),new Date(t.getFullYear(),t.getMonth(),0)]),Object(N["a"])(e,this.$t("common.datePicker.ranges.thisYear"),[new Date(t.getFullYear(),0,1),new Date(t.getFullYear(),11,31)]),e},localeData:function(){return{firstDay:"ru"===localStorage.getItem("language")?1:0,direction:"ltr",format:"yyyy-mm-dd",separator:" - ",applyLabel:"Apply",cancelLabel:"Cancel",weekLabel:"W",customRangeLabel:"Custom Range",daysOfWeek:[this.$t("common.datePicker.daysOfWeek.sun"),this.$t("common.datePicker.daysOfWeek.mon"),this.$t("common.datePicker.daysOfWeek.tue"),this.$t("common.datePicker.daysOfWeek.wed"),this.$t("common.datePicker.daysOfWeek.thu"),this.$t("common.datePicker.daysOfWeek.fri"),this.$t("common.datePicker.daysOfWeek.sat")],monthNames:[this.$t("common.datePicker.monthNames.jan"),this.$t("common.datePicker.monthNames.feb"),this.$t("common.datePicker.monthNames.mar"),this.$t("common.datePicker.monthNames.apr"),this.$t("common.datePicker.monthNames.may"),this.$t("common.datePicker.monthNames.jun"),this.$t("common.datePicker.monthNames.jul"),this.$t("common.datePicker.monthNames.aug"),this.$t("common.datePicker.monthNames.sep"),this.$t("common.datePicker.monthNames.oct"),this.$t("common.datePicker.monthNames.nov"),this.$t("common.datePicker.monthNames.dec")]}}}),methods:{dateRangePickerValue:function(e){return"".concat(R()(e.startDate).format("YYYY-MM-DD"),"-").concat(R()(e.endDate).format("YYYY-MM-DD"))},changeDates:function(e){var t=this;return Object(w["a"])(regeneratorRuntime.mark((function n(){var s,a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return s=e.startDate,a=e.endDate,s=t.moment(s).format("YYYY-MM-DD"),a=t.moment(a).format("YYYY-MM-DD"),localStorage.setItem("comments-filters-dates",JSON.stringify({startDate:s,endDate:a})),n.next=6,t.$store.dispatch("comments/setFiltersDates",{startDate:s,endDate:a});case 6:t.$store.dispatch("comments/loadFbComments");case 7:case"end":return n.stop()}}),n)})))()}}},te=ee,ne=n("8654"),se=Object(d["a"])(te,Y,L,!1,null,null,null),ae=se.exports;h()(se,{VBtn:D["a"],VIcon:T["a"],VTextField:ne["a"]});var ie={name:"CommentsFeed",components:{Topbar:ae,FbTimeline:A},computed:Object(i["a"])(Object(i["a"])({},Object(c["c"])({innerHeight:"main/innerHeight"})),{},{cardHeight:function(){return this.innerHeight-4-32-46-16-4-24}})},oe=ie,re=n("62ad"),ce=n("0fd9"),le=Object(d["a"])(oe,b,I,!1,null,null,null),me=le.exports;h()(le,{VCard:O["a"],VCardText:S["b"],VCardTitle:S["c"],VCol:re["a"],VIcon:T["a"],VRow:ce["a"]});var de=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-row",{staticClass:"pa-4"},[n("v-col",e._b({},"v-col",e.colProps,!1),[n("settings-mode")],1),n("v-col",e._b({},"v-col",e.colProps,!1),[n("settings-trigger-words")],1)],1)},ue=[],he=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-card",{attrs:{outlined:""}},[n("v-card-title",[e._v(" "+e._s(e.$t("comments.mode"))+" ")]),n("v-card-text",[n("v-switch",{staticClass:"mt-0 pt-0",attrs:{"input-value":e.settings.process,label:e.$t("settings.facebookApi.dataUpdate.comments"),dense:"","hide-details":""},on:{change:e.handleProccessChange}}),e.settings.process?n("v-text-field",{staticClass:"mt-3 comments-settings-interval-input",attrs:{value:e.settings.interval,label:e.$t("settings.exportCosts.interval"),outlined:"",dense:"","hide-details":"",suffix:e.$t("common.min").toLowerCase()},on:{input:e.handleIntervalInput}}):e._e(),e.settings.process?n("v-select",{staticClass:"mt-3 comments-settings-interval-input",attrs:{value:e.settings.mode,items:e.commentsModes,outlined:"",label:e.$t("settings.facebookApi.comments.mode"),dense:"","hide-details":""},on:{change:e.handleModeChange}}):e._e()],1),n("v-card-actions",[n("v-btn",{attrs:{text:"",color:"primary",loading:e.loading},on:{click:e.save}},[e._v(" "+e._s(e.$t("common.save"))+" ")])],1)],1)},fe=[],ge={name:"CommentsSettingsMode",data:function(){return{loading:!1,commentsModes:[{text:this.$t("settings.facebookApi.comments.download"),value:"download"},{text:this.$t("settings.facebookApi.comments.hide_all"),value:"hide_all"},{text:this.$t("settings.facebookApi.comments.hide_new"),value:"hide_new"},{text:this.$t("settings.facebookApi.comments.delete_all"),value:"delete_all"},{text:this.$t("settings.facebookApi.comments.delete_new"),value:"delete_new"}]}},computed:Object(i["a"])({},Object(c["c"])({settings:"comments/settings"})),methods:{handleProccessChange:function(e){this.$store.dispatch("comments/setSettingsProperty",{key:"process",value:e})},handleIntervalInput:function(e){this.$store.dispatch("comments/setSettingsProperty",{key:"interval",value:e})},handleModeChange:function(e){this.$store.dispatch("comments/setSettingsProperty",{key:"mode",value:e})},save:function(){var e=this;return Object(w["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,e.loading=!0,t.next=4,e.api.put("/fb-comment-settings",{process:e.settings.process,mode:e.settings.mode,interval:e.settings.interval});case 4:t.next=8;break;case 6:t.prev=6,t.t0=t["catch"](0);case 8:return t.prev=8,e.loading=!1,t.finish(8);case 11:case"end":return t.stop()}}),t,null,[[0,6,8,11]])})))()}}},pe=ge,ve=(n("fd2d"),n("b974")),be=n("b73d"),Ie=Object(d["a"])(pe,he,fe,!1,null,null,null),xe=Ie.exports;h()(Ie,{VBtn:D["a"],VCard:O["a"],VCardActions:S["a"],VCardText:S["b"],VCardTitle:S["c"],VSelect:ve["a"],VSwitch:be["a"],VTextField:ne["a"]});var _e=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-card",{attrs:{outlined:""}},[e.dialogs.dialogWhatIsTriggerWords?n("what-is-trigger-words"):e._e(),n("v-card-title",[e._v(" "+e._s(e.$t("comments.triggerWords"))+" "),n("v-btn",{staticClass:"ml-1",attrs:{icon:"","x-small":""}},[n("v-icon",{attrs:{size:16,color:"primary"},on:{click:function(t){return e.$store.dispatch("comments/openDialog","dialogWhatIsTriggerWords")}}},[e._v(" far fa-question-circle ")])],1)],1),n("v-card-text",[n("v-btn-toggle",{attrs:{value:e.settings.triggerWordsInclude,borderless:"",color:"primary",mandatory:"",dense:""},on:{change:e.handleTriggerWordsIncludeChange}},[n("v-btn",{attrs:{value:"exclude",small:""}},[n("span",[e._v(e._s(e.$t("comments.removeComments")))])]),n("v-btn",{attrs:{value:"include",small:""}},[n("span",[e._v(e._s(e.$t("comments.leaveComments")))])])],1),n("v-textarea",{staticClass:"mt-4 comments-settings-textarea",attrs:{value:e.settings.triggerWords,rows:"10",label:e.$t("comments.triggerWords"),"no-resize":"",outlined:"",dense:"","hide-details":""},on:{input:e.handleTriggerWordsInput}})],1),n("v-card-actions",[n("v-btn",{attrs:{text:"",color:"primary",loading:e.loading},on:{click:e.save}},[e._v(" "+e._s(e.$t("common.save"))+" ")])],1)],1)},we=[],$e=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-dialog",{attrs:{width:"800",scrollable:""},model:{value:e.dialogs.dialogWhatIsTriggerWords,callback:function(t){e.$set(e.dialogs,"dialogWhatIsTriggerWords",t)},expression:"dialogs.dialogWhatIsTriggerWords"}},[n("v-card",[n("v-card-title",{staticClass:"headline"},[e._v(" "+e._s(e.$t("comments.whatIsTriggerWordsTitle"))+" ")]),n("v-card-text",{domProps:{innerHTML:e._s(e.$t("comments.whatIsTriggerWords"))}}),n("v-divider"),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{color:"primary",text:""},on:{click:function(t){return e.$store.dispatch("comments/closeDialog","dialogWhatIsTriggerWords")}}},[e._v(" "+e._s(e.$t("common.close"))+" ")])],1)],1)],1)},Ce=[],ye={name:"CommentsSettingsDialogWhatIsTriggerWords",computed:Object(i["a"])({},Object(c["c"])({dialogs:"comments/dialogs"}))},ke=ye,De=n("169a"),Oe=n("ce7e"),Se=n("2fa4"),Te=Object(d["a"])(ke,$e,Ce,!1,null,null,null),je=Te.exports;h()(Te,{VBtn:D["a"],VCard:O["a"],VCardActions:S["a"],VCardText:S["b"],VCardTitle:S["c"],VDialog:De["a"],VDivider:Oe["a"],VSpacer:Se["a"]});var Ve={name:"CommentsSettingsTriggerWords",components:{WhatIsTriggerWords:je},data:function(){return{loading:!1}},computed:Object(i["a"])({},Object(c["c"])({dialogs:"comments/dialogs",settings:"comments/settings"})),methods:{handleTriggerWordsIncludeChange:function(e){this.$store.dispatch("comments/setSettingsProperty",{key:"triggerWordsInclude",value:e})},handleTriggerWordsInput:function(e){this.$store.dispatch("comments/setSettingsProperty",{key:"triggerWords",value:e})},save:function(){var e=this;return Object(w["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,e.loading=!0,t.next=4,e.api.put("/fb-comment-settings",{triggerWords:e.settings.triggerWords,triggerWordsInclude:e.settings.triggerWordsInclude});case 4:t.next=8;break;case 6:t.prev=6,t.t0=t["catch"](0);case 8:return t.prev=8,e.loading=!1,t.finish(8);case 11:case"end":return t.stop()}}),t,null,[[0,6,8,11]])})))()}}},Pe=Ve,Fe=n("a609"),We=n("a844"),Me=Object(d["a"])(Pe,_e,we,!1,null,null,null),He=Me.exports;h()(Me,{VBtn:D["a"],VBtnToggle:Fe["a"],VCard:O["a"],VCardActions:S["a"],VCardText:S["b"],VCardTitle:S["c"],VIcon:T["a"],VTextarea:We["a"]});var Ae={name:"CommentsSettings",components:{SettingsMode:xe,SettingsTriggerWords:He},data:function(){return{colProps:{cols:"12",md:"6"}}}},Ye=Ae,Le=Object(d["a"])(Ye,de,ue,!1,null,null,null),Ne=Le.exports;h()(Le,{VCol:re["a"],VRow:ce["a"]});var Be={name:"Comments",components:{Tabs:v,Feed:me,Settings:Ne},computed:Object(i["a"])(Object(i["a"])({},Object(c["c"])({loading:"comments/loading"})),{},{componentName:function(){return"undefined"!==typeof this.$route.params.tab?this.$route.params.tab:"feed"},mainLoading:function(){return this.loading.settings||this.loading.fbComments}}),created:function(){this.$store.dispatch("comments/loadFbComments"),this.$store.dispatch("comments/loadSettings"),this.$store.dispatch("comments/loadAccounts")}},Re=Be,Ee=n("8e36"),ze=Object(d["a"])(Re,s,a,!1,null,null,null);t["default"]=ze.exports;h()(ze,{VProgressLinear:Ee["a"]})},"14d7":function(e,t,n){},"2bfd":function(e,t,n){},b8af:function(e,t,n){"use strict";n("ea5c")},c6a6:function(e,t,n){"use strict";var s=n("5530"),a=(n("d81d"),n("4de4"),n("498a"),n("7db0"),n("2bfd"),n("b974")),i=n("8654"),o=n("d9f7"),r=n("80d2"),c=Object(s["a"])(Object(s["a"])({},a["b"]),{},{offsetY:!0,offsetOverflow:!0,transition:!1});t["a"]=a["a"].extend({name:"v-autocomplete",props:{allowOverflow:{type:Boolean,default:!0},autoSelectFirst:{type:Boolean,default:!1},filter:{type:Function,default:function(e,t,n){return n.toLocaleLowerCase().indexOf(t.toLocaleLowerCase())>-1}},hideNoData:Boolean,menuProps:{type:a["a"].options.props.menuProps.type,default:function(){return c}},noFilter:Boolean,searchInput:{type:String,default:void 0}},data:function(){return{lazySearch:this.searchInput}},computed:{classes:function(){return Object(s["a"])(Object(s["a"])({},a["a"].options.computed.classes.call(this)),{},{"v-autocomplete":!0,"v-autocomplete--is-selecting-index":this.selectedIndex>-1})},computedItems:function(){return this.filteredItems},selectedValues:function(){var e=this;return this.selectedItems.map((function(t){return e.getValue(t)}))},hasDisplayedItems:function(){var e=this;return this.hideSelected?this.filteredItems.some((function(t){return!e.hasItem(t)})):this.filteredItems.length>0},currentRange:function(){return null==this.selectedItem?0:String(this.getText(this.selectedItem)).length},filteredItems:function(){var e=this;return!this.isSearching||this.noFilter||null==this.internalSearch?this.allItems:this.allItems.filter((function(t){return e.filter(t,String(e.internalSearch),String(e.getText(t)))}))},internalSearch:{get:function(){return this.lazySearch},set:function(e){this.lazySearch=e,this.$emit("update:search-input",e)}},isAnyValueAllowed:function(){return!1},isDirty:function(){return this.searchIsDirty||this.selectedItems.length>0},isSearching:function(){return this.multiple&&this.searchIsDirty||this.searchIsDirty&&this.internalSearch!==this.getText(this.selectedItem)},menuCanShow:function(){return!!this.isFocused&&(this.hasDisplayedItems||!this.hideNoData)},$_menuProps:function(){var e=a["a"].options.computed.$_menuProps.call(this);return e.contentClass="v-autocomplete__content ".concat(e.contentClass||"").trim(),Object(s["a"])(Object(s["a"])({},c),e)},searchIsDirty:function(){return null!=this.internalSearch&&""!==this.internalSearch},selectedItem:function(){var e=this;return this.multiple?null:this.selectedItems.find((function(t){return e.valueComparator(e.getValue(t),e.getValue(e.internalValue))}))},listData:function(){var e=a["a"].options.computed.listData.call(this);return e.props=Object(s["a"])(Object(s["a"])({},e.props),{},{items:this.virtualizedItems,noFilter:this.noFilter||!this.isSearching||!this.filteredItems.length,searchInput:this.internalSearch}),e}},watch:{filteredItems:"onFilteredItemsChanged",internalValue:"setSearch",isFocused:function(e){e?(document.addEventListener("copy",this.onCopy),this.$refs.input&&this.$refs.input.select()):(document.removeEventListener("copy",this.onCopy),this.updateSelf())},isMenuActive:function(e){!e&&this.hasSlot&&(this.lazySearch=void 0)},items:function(e,t){t&&t.length||!this.hideNoData||!this.isFocused||this.isMenuActive||!e.length||this.activateMenu()},searchInput:function(e){this.lazySearch=e},internalSearch:"onInternalSearchChanged",itemText:"updateSelf"},created:function(){this.setSearch()},methods:{onFilteredItemsChanged:function(e,t){var n=this;e!==t&&(this.setMenuIndex(-1),this.$nextTick((function(){n.internalSearch&&(1===e.length||n.autoSelectFirst)&&(n.$refs.menu.getTiles(),n.setMenuIndex(0))})))},onInternalSearchChanged:function(){this.updateMenuDimensions()},updateMenuDimensions:function(){this.isMenuActive&&this.$refs.menu&&this.$refs.menu.updateDimensions()},changeSelectedIndex:function(e){this.searchIsDirty||(this.multiple&&e===r["w"].left?-1===this.selectedIndex?this.selectedIndex=this.selectedItems.length-1:this.selectedIndex--:this.multiple&&e===r["w"].right?this.selectedIndex>=this.selectedItems.length-1?this.selectedIndex=-1:this.selectedIndex++:e!==r["w"].backspace&&e!==r["w"].delete||this.deleteCurrentItem())},deleteCurrentItem:function(){if(!this.readonly){var e=this.selectedItems.length-1;if(-1!==this.selectedIndex||0===e){var t=this.selectedItems[this.selectedIndex];if(!this.getDisabled(t)){var n=this.selectedIndex===e?this.selectedIndex-1:this.selectedItems[this.selectedIndex+1]?this.selectedIndex:-1;-1===n?this.setValue(this.multiple?[]:void 0):this.selectItem(t),this.selectedIndex=n}}else this.selectedIndex=e}},clearableCallback:function(){this.internalSearch=void 0,a["a"].options.methods.clearableCallback.call(this)},genInput:function(){var e=i["a"].options.methods.genInput.call(this);return e.data=Object(o["a"])(e.data,{attrs:{"aria-activedescendant":Object(r["o"])(this.$refs.menu,"activeTile.id"),autocomplete:Object(r["o"])(e.data,"attrs.autocomplete","off")},domProps:{value:this.internalSearch}}),e},genInputSlot:function(){var e=a["a"].options.methods.genInputSlot.call(this);return e.data.attrs.role="combobox",e},genSelections:function(){return this.hasSlot||this.multiple?a["a"].options.methods.genSelections.call(this):[]},onClick:function(e){this.isDisabled||(this.selectedIndex>-1?this.selectedIndex=-1:this.onFocus(),this.isAppendInner(e.target)||this.activateMenu())},onInput:function(e){if(!(this.selectedIndex>-1)&&e.target){var t=e.target,n=t.value;t.value&&this.activateMenu(),this.internalSearch=n,this.badInput=t.validity&&t.validity.badInput}},onKeyDown:function(e){var t=e.keyCode;a["a"].options.methods.onKeyDown.call(this,e),this.changeSelectedIndex(t)},onSpaceDown:function(e){},onTabDown:function(e){a["a"].options.methods.onTabDown.call(this,e),this.updateSelf()},onUpDown:function(e){e.preventDefault(),this.activateMenu()},selectItem:function(e){a["a"].options.methods.selectItem.call(this,e),this.setSearch()},setSelectedItems:function(){a["a"].options.methods.setSelectedItems.call(this),this.isFocused||this.setSearch()},setSearch:function(){var e=this;this.$nextTick((function(){e.multiple&&e.internalSearch&&e.isMenuActive||(e.internalSearch=!e.selectedItems.length||e.multiple||e.hasSlot?null:e.getText(e.selectedItem))}))},updateSelf:function(){(this.searchIsDirty||this.internalValue)&&(this.valueComparator(this.internalSearch,this.getValue(this.internalValue))||this.setSearch())},hasItem:function(e){return this.selectedValues.indexOf(this.getValue(e))>-1},onCopy:function(e){if(-1!==this.selectedIndex){var t=this.selectedItems[this.selectedIndex],n=this.getText(t);e.clipboardData.setData("text/plain",n),e.clipboardData.setData("text/vnd.vuetify.autocomplete.item+plain",n),e.preventDefault()}}}})},ea5c:function(e,t,n){},f7bc:function(e,t,n){},f7d4:function(e,t,n){"use strict";n("fb49")},fb49:function(e,t,n){},fd2d:function(e,t,n){"use strict";n("14d7")},fd7b:function(e,t,n){"use strict";n("f7bc")}}]);
//# sourceMappingURL=comments-legacy.735c743f.js.map