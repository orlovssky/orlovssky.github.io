(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["autorules"],{1451:function(e,t,a){"use strict";t["a"]=["AED","AFN","ALL","AMD","ANG","AOA","ARS","AUD","AWG","AZN","BAM","BBD","BDT","BGN","BHD","BIF","BMD","BND","BOB","BRL","BSD","BTC","BTN","BWP","BYN","BZD","CAD","CDF","CHF","CLF","CLP","CNH","CNY","COP","CRC","CUC","CUP","CVE","CZK","DJF","DKK","DOP","DZD","EGP","ERN","ETB","EUR","FJD","FKP","GBP","GEL","GGP","GHS","GIP","GMD","GNF","GTQ","GYD","HKD","HNL","HRK","HTG","HUF","IDR","ILS","IMP","INR","IQD","IRR","ISK","JEP","JMD","JOD","JPY","KES","KGS","KHR","KMF","KPW","KRW","KWD","KYD","KZT","LAK","LBP","LKR","LRD","LSL","LYD","MAD","MDL","MGA","MKD","MMK","MNT","MOP","MRO","MRU","MUR","MVR","MWK","MXN","MYR","MZN","NAD","NGN","NIO","NOK","NPR","NZD","OMR","PAB","PEN","PGK","PHP","PKR","PLN","PYG","QAR","RON","RSD","RUB","RWF","SAR","SBD","SCR","SDG","SEK","SGD","SHP","SLL","SOS","SRD","SSP","STD","STN","SVC","SYP","SZL","THB","TJS","TMT","TND","TOP","TRY","TTD","TWD","TZS","UAH","UGX","USD","UYU","UZS","VEF","VES","VND","VUV","WST","XAF","XAG","XAU","XCD","XDR","XOF","XPD","XPF","XPT","YER","ZAR","ZMW","ZWL"]},"1abd":function(e,t,a){},"2b5d":function(e,t,a){"use strict";var s=a("5530"),o=(a("d3b7"),a("25f0"),a("7db0"),a("8a79"),a("fb6a"),a("b0c0"),a("a434"),a("2bfd"),a("b974")),i=a("c6a6"),l=a("80d2");t["a"]=i["a"].extend({name:"v-combobox",props:{delimiters:{type:Array,default:function(){return[]}},returnObject:{type:Boolean,default:!0}},data:function(){return{editingIndex:-1}},computed:{computedCounterValue:function(){return this.multiple?this.selectedItems.length:(this.internalSearch||"").toString().length},hasSlot:function(){return o["a"].options.computed.hasSlot.call(this)||this.multiple},isAnyValueAllowed:function(){return!0},menuCanShow:function(){return!!this.isFocused&&(this.hasDisplayedItems||!!this.$slots["no-data"]&&!this.hideNoData)}},methods:{onInternalSearchChanged:function(e){if(e&&this.multiple&&this.delimiters.length){var t=this.delimiters.find((function(t){return e.endsWith(t)}));null!=t&&(this.internalSearch=e.slice(0,e.length-t.length),this.updateTags())}this.updateMenuDimensions()},genInput:function(){var e=i["a"].options.methods.genInput.call(this);return delete e.data.attrs.name,e.data.on.paste=this.onPaste,e},genChipSelection:function(e,t){var a=this,i=o["a"].options.methods.genChipSelection.call(this,e,t);return this.multiple&&(i.componentOptions.listeners=Object(s["a"])(Object(s["a"])({},i.componentOptions.listeners),{},{dblclick:function(){a.editingIndex=t,a.internalSearch=a.getText(e),a.selectedIndex=-1}})),i},onChipInput:function(e){o["a"].options.methods.onChipInput.call(this,e),this.editingIndex=-1},onEnterDown:function(e){e.preventDefault(),this.getMenuIndex()>-1||this.$nextTick(this.updateSelf)},onFilteredItemsChanged:function(e,t){this.autoSelectFirst&&i["a"].options.methods.onFilteredItemsChanged.call(this,e,t)},onKeyDown:function(e){var t=e.keyCode;o["a"].options.methods.onKeyDown.call(this,e),this.multiple&&t===l["w"].left&&0===this.$refs.input.selectionStart?this.updateSelf():t===l["w"].enter&&this.onEnterDown(e),this.changeSelectedIndex(t)},onTabDown:function(e){if(this.multiple&&this.internalSearch&&-1===this.getMenuIndex())return e.preventDefault(),e.stopPropagation(),this.updateTags();i["a"].options.methods.onTabDown.call(this,e)},selectItem:function(e){this.editingIndex>-1?this.updateEditing():i["a"].options.methods.selectItem.call(this,e)},setSelectedItems:function(){null==this.internalValue||""===this.internalValue?this.selectedItems=[]:this.selectedItems=this.multiple?this.internalValue:[this.internalValue]},setValue:function(e){o["a"].options.methods.setValue.call(this,null!=e?e:this.internalSearch)},updateEditing:function(){var e=this.internalValue.slice();e[this.editingIndex]=this.internalSearch,this.setValue(e),this.editingIndex=-1},updateCombobox:function(){var e=Boolean(this.$scopedSlots.selection)||this.hasChips;e&&!this.searchIsDirty||(this.internalSearch!==this.getText(this.internalValue)&&this.setValue(),e&&(this.internalSearch=void 0))},updateSelf:function(){this.multiple?this.updateTags():this.updateCombobox()},updateTags:function(){var e=this.getMenuIndex();if(!(e<0)||this.searchIsDirty){if(this.editingIndex>-1)return this.updateEditing();var t=this.selectedItems.indexOf(this.internalSearch);if(t>-1){var a=this.internalValue.slice();a.splice(t,1),this.setValue(a)}if(e>-1)return this.internalSearch=null;this.selectItem(this.internalSearch),this.internalSearch=null}},onPaste:function(e){if(this.multiple&&!this.searchIsDirty){var t=e.clipboardData.getData("text/vnd.vuetify.autocomplete.item+plain");t&&-1===this.findExistingIndex(t)&&(e.preventDefault(),o["a"].options.methods.selectItem.call(this,t))}}}})},4367:function(e,t,a){"use strict";t["a"]={methods:{customSorts:function(e,t,a,s,o,i){var l=t[0];"undefined"===typeof l?l="none":"ad"===l&&(l="name");var n=a[0]?"asc":"desc";return localStorage.getItem(s)===l&&localStorage.getItem(o)===n||(localStorage.setItem(s,l),localStorage.setItem(o,n),this.$store.dispatch(i,{key:l,value:n})),e},customSortsAds:function(e,t,a){return this.customSorts(e,t,a,"sort-ads-key","sort-ads-value","ads/sortAds")},customSortsAdsets:function(e,t,a){return this.customSorts(e,t,a,"sort-adsets-key","sort-adsets-value","adsets/sortAdsets")},customSortsCampaigns:function(e,t,a){return this.customSorts(e,t,a,"sort-campaigns-key","sort-campaigns-value","campaigns/sortCampaigns")},customSortsAccounts:function(e,t,a){return this.customSorts(e,t,a,"sort-accounts-key","sort-accounts-value","accounts/sortAccounts")},customSortsBms:function(e,t,a){return this.customSorts(e,t,a,"sort-bms-key","sort-bms-value","bms/sortBms")},customSortsAdAccounts:function(e,t,a){return this.customSorts(e,t,a,"sort-cabs-key","sort-cabs-value","cabs/sortCabs")},customSortsTiktokAccounts:function(e,t,a){return this.customSorts(e,t,a,"sort-accounts-key","sort-accounts-value","tiktokAdsmanagerAccounts/sortAccounts")},customSortsTiktokAdAccounts:function(e,t,a){return this.customSorts(e,t,a,"sort-ad_accounts-key","sort-ad_accounts-value","tiktokAdsmanagerAdAccounts/sortAdAccounts")},customSortsTiktokCampaigns:function(e,t,a){return this.customSorts(e,t,a,"sort-campaigns-key","sort-campaigns-value","tiktokAdsmanagerCampaigns/sortCampaigns")},customSortsTiktokAdsets:function(e,t,a){return this.customSorts(e,t,a,"sort-adsets-key","sort-adsets-value","tiktokAdsmanagerAdsets/sortAdsets")},customSortsTiktokAds:function(e,t,a){return this.customSorts(e,t,a,"sort-ad-key","sort-ad-value","tiktokAdsmanagerAds/sortAds")},customSortsUsers:function(e,t,a){return this.customSorts(e,t,a,"sort-users-key","sort-users-value","users/sortUsers")},customSortsRules:function(e,t,a){return this.customSorts(e,t,a,"sort-rules-key","sort-rules-value","rules/sortRules")},customSortsProxies:function(e,t,a){return this.customSorts(e,t,a,"sort-proxies-key","sort-proxies-value","proxy/sortProxies")}}}},"8a79":function(e,t,a){"use strict";var s=a("23e7"),o=a("06cf").f,i=a("50c4"),l=a("5a34"),n=a("1d80"),r=a("ab13"),c=a("c430"),u="".endsWith,p=Math.min,d=r("endsWith"),m=!c&&!d&&!!function(){var e=o(String.prototype,"endsWith");return e&&!e.writable}();s({target:"String",proto:!0,forced:!m&&!d},{endsWith:function(e){var t=String(n(this));l(e);var a=arguments.length>1?arguments[1]:void 0,s=i(t.length),o=void 0===a?s:p(i(a),s),r=String(e);return u?u.call(t,r,o):t.slice(o-r.length,o)===r}})},de5a:function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("tabs"),a("div",[a(e.componentName,{tag:"component"})],1)],1)},o=[],i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-tabs",{attrs:{centered:"",grow:"",value:e.tabNumber,height:32}},[a("v-tab",{key:"tab-rules",attrs:{value:0},on:{click:function(t){return e.selectTab("rules")}}},[e._v(" "+e._s(e.$t("autoRules.tabs.facebookRules"))+" ")]),a("v-tab",{key:"tab-groups",attrs:{value:1},on:{click:function(t){return e.selectTab("groups")}}},[e._v(" "+e._s(e.$t("autoRules.tabs.rulesGroups"))+" ")]),a("v-tab",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],key:"tab-roi",on:{click:function(t){return e.selectTab("roi")}}},[e._v(" "+e._s(e.$t("autoRules.tabs.roiBasedRules"))+" ")])],1)},l=[],n=a("5530"),r=a("2f62"),c={name:"AutoRulesTabs",data:function(){return{tabs:["rules","groups","roi"]}},computed:Object(n["a"])(Object(n["a"])({},Object(r["c"])({activeTab:"autorules/activeTab"})),{},{tabNumber:function(){return"undefined"===typeof this.$route.params.tab||"rules"===this.$route.params.tab?0:"groups"===this.$route.params.tab?1:"roi"===this.$route.params.tab?2:0}}),methods:{changeTab:function(e){this.$store.dispatch("autorules/setActiveTab",{tab:e,component:this.tabs[e]})},selectTab:function(e){return this.$route.params.tab===e||this.$router.push({path:"/fbrules/".concat(e),params:{tab:e}})}}},u=c,p=a("2877"),d=a("6544"),m=a.n(d),_=a("71a3"),v=a("fe57"),f=Object(p["a"])(u,i,l,!1,null,null,null),h=f.exports;m()(f,{VTab:_["a"],VTabs:v["a"]});var b=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticStyle:{padding:"8px"}},[e.dialogs.rulesGroupDialog?a("rules-group-dialog"):e._e(),e.dialogs.share?a("dialog-share"):e._e(),a("topbar"),a("main-table")],1)},g=[],x=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-dialog",{attrs:{value:e.dialogs.share,"max-width":"500px",scrollable:""},on:{"click:outside":e.close,keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"])?null:e.close(t)}}},[a("v-card",{attrs:{loading:e.loading.share}},[a("v-card-title",{staticClass:"pb-0"},[a("span",{staticClass:"headline"},[e._v(" "+e._s(e.$t("common.share"))+" ")])]),a("v-card-text",{staticStyle:{"max-height":"700px"}},[a("v-row",[a("v-col",{attrs:{cols:12}},[a("div",[a("v-btn",{staticClass:"my-1",staticStyle:{"margin-left":"0px"},attrs:{color:"primary","x-small":"",outlined:""},on:{click:e.selectAll}},[e._v(" "+e._s(e.$t("common.selectAll"))+" ")]),a("v-btn",{staticClass:"my-1 ml-1",staticStyle:{"margin-left":"0px"},attrs:{color:"primary","x-small":"",outlined:""},on:{click:e.unselectAll}},[e._v(" "+e._s(e.$t("common.unselectAll"))+" ")])],1),a("v-treeview",{attrs:{selectable:"",dense:"","open-on-click":"","selected-color":"primary",items:e.items},scopedSlots:e._u([{key:"prepend",fn:function(t){var s=t.item;return[-1!==s.id.search("user")?a("v-icon",{staticClass:"d-block text-center",attrs:{size:"16"}},[e._v(" fas fa-user ")]):e._e(),-1!==s.id.search("view")?a("v-icon",{staticClass:"d-block text-center",attrs:{size:"16"}},[e._v(" fas fa-eye ")]):e._e(),-1!==s.id.search("edit")?a("v-icon",{staticClass:"d-block text-center",attrs:{size:"16"}},[e._v(" fas fa-edit ")]):e._e(),-1!==s.id.search("share")?a("v-icon",{staticClass:"d-block text-center",attrs:{size:"16"}},[e._v(" fas fa-share-alt ")]):e._e()]}}]),model:{value:e.permissions,callback:function(t){e.permissions=t},expression:"permissions"}}),a("div",[a("v-radio-group",{staticClass:"mt-3",staticStyle:{"margin-top":"0px"},attrs:{row:"",dense:"","hide-details":""},model:{value:e.mode,callback:function(t){e.mode=t},expression:"mode"}},[a("v-radio",{attrs:{label:e.$t("dialogs.accounts.multipeShare.addPermissions"),value:1}}),a("v-radio",{attrs:{label:e.$t("dialogs.accounts.multipeShare.removePermissions"),value:-1}})],1)],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.close}},[e._v(" "+e._s(e.$t("common.close"))+" ")]),a("v-btn",{attrs:{color:"blue darken-1",text:"",loading:e.loading.share,disabled:e.$_.isEmpty(e.permissions)},on:{click:e.savePermissions}},[e._v(" "+e._s(e.$t("common.save"))+" ")])],1)],1)],1)},y=[],R=a("1da1"),$=(a("96cf"),a("159b"),a("99af"),a("d81d"),a("4de4"),{name:"GroupsDialogShare",data:function(){return{permissions:[],mode:1,allItems:[],users:[]}},computed:Object(n["a"])(Object(n["a"])({},Object(r["c"])({profile:"main/profile",groups:"groups/groups",dialogs:"groups/dialogs",loading:"groups/loading"})),{},{items:function(){var e=this,t=[];return this.users.forEach((function(a){if(a.id!==e.profile.id){var s={id:"user-"+a.id,name:null!==a.display_name?a.display_name:a.login};s.children=[{id:"".concat(a.id,"-view"),name:e.$t("dialogs.accounts.share.permissions.view")},{id:"".concat(a.id,"-edit"),name:e.$t("common.edit")},{id:"".concat(a.id,"-share"),name:e.$t("dialogs.accounts.share.permissions.share")}],e.allItems=e.allItems.concat(s.children.map((function(e){return e.id}))),t.push(s)}})),t}}),created:function(){this.loadUsers()},methods:{close:function(){(0===this.permissions.length&&-1!==this.mode||(this.confirmation=confirm(this.$t("common.closeDialogConfirmation")),this.confirmation))&&this.$store.dispatch("groups/closeDialog","share")},loadUsers:function(){var e=this;return Object(R["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.api("/users/all");case 3:a=t.sent,a&&a.data&&a.data.data&&(e.users=a.data.data.filter((function(e){return 1===parseInt(e.status)}))),t.next=11;break;case 7:t.prev=7,t.t0=t["catch"](0),console.error(t.t0),e.$store.dispatch("main/alert",{color:"error",message:e.$t("common.somethingWentWrong")});case 11:case"end":return t.stop()}}),t,null,[[0,7]])})))()},savePermissions:function(){var e=this;return Object(R["a"])(regeneratorRuntime.mark((function t(){var a,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$store.dispatch("groups/setLoading",{param:"share",value:!0});case 2:return t.prev=2,a={ids:e.groups.selected.map((function(e){return e.id})),permissions:e.permissions,mode:e.mode},t.next=6,e.api.post("/fb_rules/update_groups_permissions",a);case 6:if(s=t.sent,!(s&&s.data&&s.data.success)){t.next=12;break}e.$store.dispatch("groups/closeDialog","share"),e.$store.dispatch("main/alert",{color:"success",message:e.$t("common.success")}),t.next=13;break;case 12:throw s;case 13:t.next=19;break;case 15:t.prev=15,t.t0=t["catch"](2),console.error(t.t0),e.$store.dispatch("main/alert",{color:"error",message:e.$t("common.somethingWentWrong")});case 19:e.$store.dispatch("groups/setLoading",{param:"share",value:!1});case 20:case"end":return t.stop()}}),t,null,[[2,15]])})))()},selectAll:function(){this.permissions=[],this.permissions=this.permissions.concat(this.allItems)},unselectAll:function(){this.permissions=[]}}}),w=$,S=a("8336"),k=a("b0af"),C=a("99d9"),D=a("62ad"),T=a("169a"),O=a("132d"),M=a("67b6"),A=a("43a6"),V=a("0fd9"),j=a("2fa4"),P=a("eb2a"),E=Object(p["a"])(w,x,y,!1,null,null,null),G=E.exports;m()(E,{VBtn:S["a"],VCard:k["a"],VCardActions:C["a"],VCardText:C["b"],VCardTitle:C["c"],VCol:D["a"],VDialog:T["a"],VIcon:O["a"],VRadio:M["a"],VRadioGroup:A["a"],VRow:V["a"],VSpacer:j["a"],VTreeview:P["a"]});var I=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-card",[a("v-card-text",{staticStyle:{padding:"0px 8px 0px 8px"}},[a("v-data-table",{attrs:{value:e.groups.selected,headers:e.cols,items:e.groups.filtered,"loading-text":e.$t("common.loading"),"fixed-header":"","items-per-page":50,"footer-props":{"items-per-page-options":[10,30,50,100,-1]},height:e.innerHeight-50-48-36,"show-select":""},on:{input:e.selectItem},scopedSlots:e._u([{key:"item.name",fn:function(e){var t=e.item;return[a("main-table-name",{attrs:{item:t}})]}},{key:"item.rules",fn:function(e){var t=e.item;return[a("main-table-rules",{attrs:{item:t}})]}}])})],1)],1)],1)},W=[],N=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("span",{staticStyle:{cursor:"pointer",color:"#2196F3","text-decoration":"underline"},on:{click:function(t){return e.editGroup(e.item)}}},[e._v(" "+e._s(e.item.name)+" ")])])},B=[],L=(a("b0c0"),{name:"GroupsMainTableName",props:{item:{type:Object,default:function(){return{}}}},methods:{editGroup:function(e){var t=this;return Object(R["a"])(regeneratorRuntime.mark((function a(){var s;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return s={id:e.id,name:e.name,rules:e.rules.map((function(e){return e.id}))},a.next=3,t.$store.dispatch("groups/setRulesGroupDialogMode","edit");case 3:return a.next=5,t.$store.dispatch("groups/setGroup",Object(n["a"])({},s));case 5:t.$store.dispatch("groups/openDialog","rulesGroupDialog");case 6:case"end":return a.stop()}}),a)})))()}}}),F=L,U=Object(p["a"])(F,N,B,!1,null,null,null),H=U.exports,z=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",e._l(e.item.rules,(function(t){return a("v-chip",{key:"item-"+t.id+"-tag-"+t,staticClass:"mr-1",attrs:{color:"grey",outlined:"",small:"",label:""}},[e._v(" "+e._s(t.name)+" ")])})),1)},K=[],Y={name:"GroupsMainTableRules",props:{item:{type:Object,default:function(){return{}}}}},q=Y,Z=a("cc20"),X=Object(p["a"])(q,z,K,!1,null,null,null),J=X.exports;m()(X,{VChip:Z["a"]});var Q={name:"GroupsMainTable",components:{MainTableName:H,MainTableRules:J},data:function(){return{cols:[{text:this.$t("common.name"),value:"name",width:300},{text:this.$t("common.rules"),value:"rules",width:300}]}},computed:Object(n["a"])({},Object(r["c"])({groups:"groups/groups",innerHeight:"main/innerHeight"})),methods:{selectItem:function(e){this.$store.dispatch("groups/setSelected",e)}}},ee=Q,te=a("8fea"),ae=Object(p["a"])(ee,I,W,!1,null,null,null),se=ae.exports;m()(ae,{VCard:k["a"],VCardText:C["b"],VDataTable:te["a"]});var oe=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-dialog",{attrs:{value:e.dialogs.rulesGroupDialog,"max-width":"500px",scrollable:""},on:{"click:outside":e.close,keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"])?null:e.close(t)}}},[a("v-card",[a("v-card-title",[a("span",[e._v(" "+e._s("create"===e.rulesGroupDialogMode?e.$t("autoRules.createRulesGroup"):e.$t("autoRules.ediGroup")+" "+e.groupName)+" ")])]),a("v-card-text",{staticStyle:{"max-height":"700px"}},[a("v-text-field",{staticClass:"pt-2",attrs:{value:e.group.name,error:!e.group.name&&e.showWarnings,label:e.$t("common.name"),outlined:"",dense:"","hide-details":""},on:{input:function(t){return e.changeGroupName(t)}}}),a("v-combobox",{staticClass:"pt-2",attrs:{value:e.localRules,label:e.$t("common.rules"),"item-text":function(e){return e.name},"item-value":function(e){return e.id},items:e.rules,error:!e.group.rules.length>0&&e.showWarnings,multiple:"",chips:"","deletable-chips":"",clearable:"","small-chips":"",outlined:"","hide-details":""},on:{change:function(t){e.group.rules=t.map((function(e){return e.id}))}}})],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{text:"",color:"grey"},on:{click:e.close}},[e._v(" "+e._s(e.$t("common.close"))+" ")]),"create"===e.rulesGroupDialogMode?a("v-btn",{attrs:{color:"blue darken-1",text:"",loading:e.loading.createRulesGroup},on:{click:e.createOrSave}},[e._v(" "+e._s(e.$t("common.create"))+" ")]):e._e(),"edit"===e.rulesGroupDialogMode?a("v-btn",{attrs:{color:"blue darken-1",text:"",loading:e.loading.editRulesGroup},on:{click:e.createOrSave}},[e._v(" "+e._s(e.$t("common.save"))+" ")]):e._e()],1)],1)],1)],1)},ie=[],le=a("5935"),ne={name:"GroupsRulesGroupDialog",data:function(){return{localRules:[],initial:{},groupName:""}},computed:Object(n["a"])(Object(n["a"])({},Object(r["c"])({dialogs:"groups/dialogs",rulesGroupDialogMode:"groups/rulesGroupDialogMode",rules:"groups/rules",showWarnings:"groups/showWarnings",loading:"groups/loading"})),Object(le["b"])("groups",["group"])),created:function(){var e=this;this.localRules=this.rules.filter((function(t){return e.group.rules.indexOf(t.id)>-1})),this.initial=this.$_.cloneDeep(this.group)},destroyed:function(){this.group.name=null,this.group.rules=[],this.group.name&&(this.groupName=this.group.name)},methods:{close:function(){(this.$_.isEqual(this.group,this.initial)||(this.confirmation=confirm(this.$t("common.closeDialogConfirmation")),this.confirmation))&&(this.$store.dispatch("groups/closeDialog","rulesGroupDialog"),this.$store.dispatch("groups/setWarning",!1))},changeGroupName:function(e){this.group.name=""===e?null:e},createOrSave:function(){var e=this;return Object(R["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!(e.group.name&&e.group.rules&&e.group.rules.length>0)){t.next=15;break}if("create"!==e.rulesGroupDialogMode){t.next=8;break}return t.next=4,e.$store.dispatch("groups/createRulesGroup",{rule_ids:e.group.rules,name:e.group.name});case 4:e.$store.dispatch("groups/clearGroup"),e.$store.dispatch("groups/closeDialog","rulesGroupDialog"),t.next=12;break;case 8:return t.next=10,e.$store.dispatch("groups/editRulesGroup",Object(n["a"])({},e.group));case 10:e.$store.dispatch("groups/clearGroup"),e.$store.dispatch("groups/closeDialog","rulesGroupDialog");case 12:return t.abrupt("return",e.$store.dispatch("groups/setWarning",!1));case 15:return t.abrupt("return",e.$store.dispatch("groups/setWarning",!0));case 16:case"end":return t.stop()}}),t)})))()}}},re=ne,ce=a("2b5d"),ue=a("8654"),pe=Object(p["a"])(re,oe,ie,!1,null,null,null),de=pe.exports;m()(pe,{VBtn:S["a"],VCard:k["a"],VCardActions:C["a"],VCardText:C["b"],VCardTitle:C["c"],VCombobox:ce["a"],VDialog:T["a"],VSpacer:j["a"],VTextField:ue["a"]});var me=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-row",{staticClass:"topbar-row"},[a("v-col",{attrs:{cols:"12",sm:"9"}},[a("div",[a("topbar-actions")],1),a("div",{staticClass:"pt-0 pb-2 mr-8",staticStyle:{float:"right",width:"170px","text-align":"center"}},[a("v-btn",{staticClass:"white--text",staticStyle:{"margin-top":"2px"},attrs:{small:"",text:"",color:"primary"},on:{click:e.createRulesGroup}},[a("v-icon",{staticClass:"mr-1",attrs:{size:18}},[e._v(" add ")]),e._v(" "+e._s(e.$t("autoRules.createRulesGroup"))+" ")],1)],1)]),a("v-col",{attrs:{cols:"12",sm:"3"}},[a("v-row",[a("v-col",{staticClass:"pt-0 pb-2",attrs:{cols:"12"}},[a("v-text-field",{attrs:{dense:"",clearable:"",solo:"",label:e.$t("filters.searchByName"),"single-line":"","prepend-inner-icon":"fas fa-search","hide-details":"",value:e.filters.search},on:{input:e.search}})],1)],1)],1)],1)},_e=[],ve=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"pt-0 pb-2",staticStyle:{float:"left"}},[a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var s=t.on;return[a("v-btn",e._g({staticStyle:{"min-width":"0",width:"30px","margin-top":"1px"},attrs:{small:"",disabled:0===e.groups.selected.length,color:"primary",text:""},on:{click:e.multipleDuplicate}},s),[a("v-icon",{attrs:{size:12}},[e._v(" fas fa-copy ")])],1)]}}])},[a("span",[e._v(e._s(e.$t("common.duplicate")))])])],1),a("div",{staticClass:"pt-0 pb-2",staticStyle:{float:"left"}},[a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var s=t.on;return[a("v-btn",e._g({staticStyle:{"min-width":"0",width:"30px","margin-top":"1px"},attrs:{small:"",disabled:0===e.groups.selected.length,color:"primary",text:"",loading:e.loading.deleteGroup},on:{click:e.deleteGroup}},s),[a("v-icon",{attrs:{size:12}},[e._v(" fas fa-trash ")])],1)]}}])},[a("span",[e._v(e._s(e.$t("common.delete")))])])],1),a("div",{staticClass:"pt-0 pb-2",staticStyle:{float:"left"}},[a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var s=t.on;return[a("v-btn",e._g({staticStyle:{"min-width":"0",width:"30px","margin-top":"1px"},attrs:{small:"",disabled:0===e.groups.selected.length,color:"primary",text:"",loading:e.loading.shareGroup},on:{click:e.shareGroup}},s),[a("v-icon",{attrs:{size:12}},[e._v(" fas fa-share-alt ")])],1)]}}])},[a("span",[e._v(e._s(e.$t("common.share")))])])],1),a("div",{staticClass:"pt-0 pb-2",staticStyle:{float:"left"}},[a("div",{staticClass:"body-2 ml-3",staticStyle:{"padding-bottom":"3px"},style:{color:e.groups.selected.length>0?"":"grey",paddingTop:"5px"}},[e._v(" "+e._s(e.$t("common.selected"))+": "+e._s(e.groups.selected.length)+" ")])])])},fe=[],he=a("b85c"),be={name:"GroupsTopbarActions",computed:Object(n["a"])({},Object(r["c"])({loading:"groups/loading",groups:"groups/groups"})),methods:{deleteGroup:function(){confirm(this.$t("common.confirmPlease"))&&this.$store.dispatch("groups/deleteGroup",{ids:this.groups.selected.map((function(e){return e.id}))})},shareGroup:function(){this.$store.dispatch("groups/openDialog","share")},multipleDuplicate:function(){var e=this;return Object(R["a"])(regeneratorRuntime.mark((function t(){var a,s,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(confirm(e.$t("common.confirmPlease"))){t.next=2;break}return t.abrupt("return");case 2:a=Object(he["a"])(e.groups.selected),t.prev=3,a.s();case 5:if((s=a.n()).done){t.next=11;break}return o=s.value,t.next=9,e.$store.dispatch("groups/multipleDuplicate",o.id);case 9:t.next=5;break;case 11:t.next=16;break;case 13:t.prev=13,t.t0=t["catch"](3),a.e(t.t0);case 16:return t.prev=16,a.f(),t.finish(16);case 19:e.$store.dispatch("groups/loadGroups"),e.$store.dispatch("groups/clearSelected");case 21:case"end":return t.stop()}}),t,null,[[3,13,16,19]])})))()}}},ge=be,xe=a("3a2f"),ye=Object(p["a"])(ge,ve,fe,!1,null,null,null),Re=ye.exports;m()(ye,{VBtn:S["a"],VIcon:O["a"],VTooltip:xe["a"]});var $e={name:"GroupsTopbar",components:{TopbarActions:Re},data:function(){return{searchText:""}},computed:Object(n["a"])({},Object(r["c"])({filters:"groups/filters"})),methods:{search:function(e){var t=this;this.searchText=e;var a={filter:"search",data:e};setTimeout(Object(R["a"])(regeneratorRuntime.mark((function s(){return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:if(e!==t.searchText){s.next=3;break}return s.next=3,t.$store.dispatch("groups/setSpecificFilter",a);case 3:case"end":return s.stop()}}),s)}))),500)},createRulesGroup:function(){var e=this;return Object(R["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$store.dispatch("groups/setRulesGroupDialogMode","create");case 2:e.$store.dispatch("groups/openDialog","rulesGroupDialog");case 3:case"end":return t.stop()}}),t)})))()}}},we=$e,Se=Object(p["a"])(we,me,_e,!1,null,null,null),ke=Se.exports;m()(Se,{VBtn:S["a"],VCol:D["a"],VIcon:O["a"],VRow:V["a"],VTextField:ue["a"]});var Ce={name:"Groups",components:{MainTable:se,Topbar:ke,RulesGroupDialog:de,DialogShare:G},data:function(){return{updateInterval:null}},computed:Object(n["a"])({},Object(r["c"])({dialogs:"groups/dialogs"})),created:function(){var e=this;this.$store.dispatch("groups/loadGroups"),this.$store.dispatch("groups/loadFilters"),this.$store.dispatch("groups/loadRules"),this.updateInterval=setInterval((function(){e.$store.dispatch("groups/loadGroups")}),6e4)},beforeDestroy:function(){clearInterval(this.updateInterval)}},De=Ce,Te=Object(p["a"])(De,b,g,!1,null,null,null),Oe=Te.exports,Me=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("h1",[e._v("roi")])},Ae=[],Ve={},je=Object(p["a"])(Ve,Me,Ae,!1,null,null,null),Pe=je.exports,Ee=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticStyle:{padding:"8px"}},[e.dialogs.mainDialog?a("main-dialog"):e._e(),e.dialogs.share?a("dialog-share"):e._e(),a("topbar"),a("main-table")],1)},Ge=[],Ie=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-dialog",{attrs:{value:e.dialogs.share,"max-width":"500px",scrollable:""},on:{"click:outside":e.close,keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"])?null:e.close(t)}}},[a("v-card",{attrs:{loading:e.loading.share}},[a("v-card-title",{staticClass:"pb-0"},[a("span",{staticClass:"headline"},[e._v(" "+e._s(e.$t("common.share"))+" ")])]),a("v-card-text",{staticStyle:{"max-height":"700px"}},[a("v-row",[a("v-col",{attrs:{cols:12}},[a("div",[a("v-btn",{staticClass:"my-1",staticStyle:{"margin-left":"0px"},attrs:{color:"primary","x-small":"",outlined:""},on:{click:e.selectAll}},[e._v(" "+e._s(e.$t("common.selectAll"))+" ")]),a("v-btn",{staticClass:"my-1 ml-1",staticStyle:{"margin-left":"0px"},attrs:{color:"primary","x-small":"",outlined:""},on:{click:e.unselectAll}},[e._v(" "+e._s(e.$t("common.unselectAll"))+" ")])],1),a("v-treeview",{attrs:{selectable:"",dense:"","open-on-click":"","selected-color":"primary",items:e.items},scopedSlots:e._u([{key:"prepend",fn:function(t){var s=t.item;return[-1!==s.id.search("user")?a("v-icon",{staticClass:"d-block text-center",attrs:{size:"16"}},[e._v(" fas fa-user ")]):e._e(),-1!==s.id.search("view")?a("v-icon",{staticClass:"d-block text-center",attrs:{size:"16"}},[e._v(" fas fa-eye ")]):e._e(),-1!==s.id.search("edit")?a("v-icon",{staticClass:"d-block text-center",attrs:{size:"16"}},[e._v(" fas fa-edit ")]):e._e(),-1!==s.id.search("share")?a("v-icon",{staticClass:"d-block text-center",attrs:{size:"16"}},[e._v(" fas fa-share-alt ")]):e._e()]}}]),model:{value:e.permissions,callback:function(t){e.permissions=t},expression:"permissions"}}),a("div",[a("v-radio-group",{staticClass:"mt-3",staticStyle:{"margin-top":"0px"},attrs:{row:"",dense:"","hide-details":""},model:{value:e.mode,callback:function(t){e.mode=t},expression:"mode"}},[a("v-radio",{attrs:{label:e.$t("dialogs.accounts.multipeShare.addPermissions"),value:1}}),a("v-radio",{attrs:{label:e.$t("dialogs.accounts.multipeShare.removePermissions"),value:-1}})],1)],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.close}},[e._v(" "+e._s(e.$t("common.close"))+" ")]),a("v-btn",{attrs:{color:"blue darken-1",text:"",loading:e.loading.share,disabled:e.$_.isEmpty(e.permissions)},on:{click:e.savePermissions}},[e._v(" "+e._s(e.$t("common.save"))+" ")])],1)],1)],1)},We=[],Ne={name:"RulesDialogShare",data:function(){return{permissions:[],mode:1,allItems:[],users:[]}},computed:Object(n["a"])(Object(n["a"])({},Object(r["c"])({profile:"main/profile",rules:"rules/rules",dialogs:"rules/dialogs",loading:"rules/loading"})),{},{items:function(){var e=this,t=[];return this.users.forEach((function(a){if(a.id!==e.profile.id){var s={id:"user-"+a.id,name:null!==a.display_name?a.display_name:a.login};s.children=[{id:"".concat(a.id,"-view"),name:e.$t("dialogs.accounts.share.permissions.view")},{id:"".concat(a.id,"-edit"),name:e.$t("common.edit")},{id:"".concat(a.id,"-share"),name:e.$t("dialogs.accounts.share.permissions.share")}],e.allItems=e.allItems.concat(s.children.map((function(e){return e.id}))),t.push(s)}})),t}}),created:function(){this.loadUsers()},methods:{close:function(){(0===this.permissions.length&&-1!==this.mode||(this.confirmation=confirm(this.$t("common.closeDialogConfirmation")),this.confirmation))&&this.$store.dispatch("rules/closeDialog","share")},loadUsers:function(){var e=this;return Object(R["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.api("/users/all");case 3:a=t.sent,a&&a.data&&a.data.data&&(e.users=a.data.data.filter((function(e){return 1===parseInt(e.status)}))),t.next=11;break;case 7:t.prev=7,t.t0=t["catch"](0),console.error(t.t0),e.$store.dispatch("main/alert",{color:"error",message:e.$t("common.somethingWentWrong")});case 11:case"end":return t.stop()}}),t,null,[[0,7]])})))()},savePermissions:function(){var e=this;return Object(R["a"])(regeneratorRuntime.mark((function t(){var a,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$store.dispatch("rules/setLoading",{param:"share",value:!0});case 2:return t.prev=2,a={ids:e.rules.selected.map((function(e){return e.id})),permissions:e.permissions,mode:e.mode},t.next=6,e.api.post("/fb_rules/update_permissions",a);case 6:if(s=t.sent,!(s&&s.data&&s.data.success)){t.next=12;break}e.$store.dispatch("rules/closeDialog","share"),e.$store.dispatch("main/alert",{color:"success",message:e.$t("common.success")}),t.next=13;break;case 12:throw s;case 13:t.next=19;break;case 15:t.prev=15,t.t0=t["catch"](2),console.error(t.t0),e.$store.dispatch("main/alert",{color:"error",message:e.$t("common.somethingWentWrong")});case 19:e.$store.dispatch("rules/setLoading",{param:"share",value:!1});case 20:case"end":return t.stop()}}),t,null,[[2,15]])})))()},selectAll:function(){this.permissions=[],this.permissions=this.permissions.concat(this.allItems)},unselectAll:function(){this.permissions=[]}}},Be=Ne,Le=Object(p["a"])(Be,Ie,We,!1,null,null,null),Fe=Le.exports;m()(Le,{VBtn:S["a"],VCard:k["a"],VCardActions:C["a"],VCardText:C["b"],VCardTitle:C["c"],VCol:D["a"],VDialog:T["a"],VIcon:O["a"],VRadio:M["a"],VRadioGroup:A["a"],VRow:V["a"],VSpacer:j["a"],VTreeview:P["a"]});var Ue=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-dialog",{attrs:{value:e.dialogs.mainDialog,persistent:"",fullscreen:"",transition:"dialog-bottom-transition"},on:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"])?null:e.close(t)}}},[a("v-card",[a("v-toolbar",{staticClass:"white--text main-dialog-header",attrs:{color:"primary",flat:""}},[a("v-btn",{attrs:{color:"white",icon:""},on:{click:e.close}},[a("v-icon",[e._v("fas fa-times")])],1),a("v-toolbar-title",[e._v(" "+e._s(e.$t("autoRules.mainDialog."+e.mainDialogMode))+" "),a("span",{directives:[{name:"show",rawName:"v-show",value:"edit"===e.mainDialogMode,expression:"mainDialogMode === 'edit'"}]},[e._v(" "+e._s(" ["+e.rules.forMainDialog.name+"]")+" ")])]),a("v-spacer"),a("v-toolbar-items",[e.$vuetify.breakpoint.sm||e.$vuetify.breakpoint.xs?e._e():a("v-btn",{staticClass:"white--text",attrs:{text:""},on:{click:e.close}},[e._v(" "+e._s(e.$t("common.cancel"))+" ")]),a("v-btn",{staticClass:"white--text",attrs:{text:"",loading:e.loading.createOrSaveRule},on:{click:e.createOrSaveRule}},[e._v(" "+e._s("edit"==e.mainDialogMode?e.$t("common.save"):e.$t("common.create"))+" ")])],1)],1),a("v-row",{staticClass:"autorules-main-dialog"},[a("v-col",{attrs:{cols:"12",md:"6","offset-md":"3",xl:"4","offset-xl":"4"}},[a("v-card",{staticClass:"ma-4 pa-2 px-5 pb-3"},[a("v-card-title",{staticStyle:{padding:"0"}},[e._v(" "+e._s(e.$t("autoRules.fbRules.static.cards.settings"))+" ")]),a("main-dialog-name",{attrs:{"local-rule":e.rules.forMainDialog}}),a("main-dialog-convert-currency",{attrs:{"local-rule":e.rules.forMainDialog}}),a("v-row",[a("main-dialog-rule-type",{attrs:{"local-rule":e.rules.forMainDialog}}),a("main-dialog-frequency",{attrs:{"local-rule":e.rules.forMainDialog}})],1),a("v-row",[a("main-dialog-what-to-work-with",{attrs:{"local-rule":e.rules.forMainDialog}}),a("main-dialog-which-statuses",{attrs:{"local-rule":e.rules.forMainDialog}})],1),a("v-row",[a("main-dialog-what-to-do",{attrs:{"local-rule":e.rules.forMainDialog}}),a("main-dialog-stat-period",{attrs:{"local-rule":e.rules.forMainDialog}})],1)],1),"CHANGE_BUDGET"===e.rules.forMainDialog.execution_type||"CHANGE_CAMPAIGN_BUDGET"===e.rules.forMainDialog.execution_type?a("v-card",{staticClass:"ma-4 pa-2 px-5 pb-3"},[a("v-card-title",{staticStyle:{padding:"0"}},[e._v(" "+e._s(e.$t("autoRules.fbRules.static.cards.budgetChange"))+" ")]),a("main-dialog-budget",{attrs:{"local-rule":e.rules.forMainDialog}})],1):e._e(),"CHANGE_BID"===e.rules.forMainDialog.execution_type?a("v-card",{staticClass:"ma-4 pa-2 px-5 pb-3"},[a("v-card-title",{staticStyle:{padding:"0"}},[e._v(" "+e._s(e.$t("autoRules.fbRules.static.cards.changeBid"))+" ")]),a("main-dialog-bid",{attrs:{"local-rule":e.rules.forMainDialog}})],1):e._e(),"CUSTOM"===e.rules.forMainDialog.schedule_type?a("v-card",{staticClass:"ma-4 pa-2 px-5 pb-3"},[a("v-card-title",{staticStyle:{padding:"0"}},[e._v(" "+e._s(e.$t("autoRules.fbRules.static.cards.customSchedule"))+" ")]),a("main-dialog-custom-schedule",{attrs:{"local-rule":e.rules.forMainDialog}})],1):e._e(),a("v-card",{staticClass:"ma-4 pa-2 px-5 pb-3"},[a("v-card-title",{staticStyle:{padding:"0"}},[e._v(" "+e._s(e.$t("autoRules.fbRules.static.cards.condition"))+" ")]),a("main-dialog-conditions",{attrs:{"local-rule":e.rules.forMainDialog}})],1)],1)],1)],1)],1)},He=[],ze=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-col",{attrs:{cols:"12"}},[a("v-row",[a("v-col",{staticClass:"py-0",staticStyle:{"text-align":"left"},style:e.$vuetify.breakpoint.xs?"padding-left: 0 !important;":"",attrs:{cols:12,sm:3}},[a("v-btn-toggle",{staticClass:"py-2",attrs:{color:"primary",borderless:"",mandatory:""},model:{value:e.localRule.execution.bid_operator,callback:function(t){e.$set(e.localRule.execution,"bid_operator",t)},expression:"localRule.execution.bid_operator"}},[a("v-btn",{staticStyle:{"font-size":"12px",height:"24px"},attrs:{value:"+"}},[a("span",[e._v("+")])]),a("v-btn",{staticStyle:{"font-size":"12px",height:"24px"},attrs:{value:"-"}},[a("span",[e._v("-")])])],1)],1),a("v-col",{staticClass:"py-0 pl-0",attrs:{cols:12,sm:3}},[a("v-text-field",{attrs:{value:Math.abs(e.localRule.execution.bid_percents),maxlength:"4",outlined:"",dense:"","hide-details":"","append-icon":"fas fa-percent",error:!e.localRule.execution.bid_percents&&e.showWarnings},on:{input:function(t){return e.bidPercentsChanged(t)}}})],1),a("v-col",{staticClass:"py-0",style:e.$vuetify.breakpoint.xs?"margin-top: 16px; padding-left: 0 !important;":"",attrs:{cols:12,sm:6}},[a("v-text-field",{directives:[{name:"show",rawName:"v-show",value:"+"===e.localRule.execution.bid_operator,expression:"localRule.execution.bid_operator === '+'"}],attrs:{value:e.localRule.execution.bid_max,label:e.$t("autoRules.fbRules.static.bidMax"),outlined:"",dense:"","hide-details":""},on:{input:function(t){return e.bidMax(t)}}}),a("v-text-field",{directives:[{name:"show",rawName:"v-show",value:"-"===e.localRule.execution.bid_operator,expression:"localRule.execution.bid_operator === '-'"}],attrs:{value:e.localRule.execution.bid_min,label:e.$t("autoRules.fbRules.static.bidMin"),outlined:"",dense:"","hide-details":""},on:{input:function(t){return e.bidMin(t)}}})],1)],1)],1)},Ke=[],Ye=(a("ac1f"),a("5319"),a("498a"),a("d3b7"),a("25f0"),{name:"RulesMainDialogBid",props:{localRule:{type:Object,default:function(){return{}}}},data:function(){return{bidOperator:["+","-"]}},computed:Object(n["a"])(Object(n["a"])({},Object(r["c"])({showWarnings:"rules/showWarnings"})),Object(le["b"])("rules",["rules"])),created:function(){this.localRule.execution.bid_change_amount&&this.$store.dispatch("rules/setForMainDialogExecutionOptions",{option:"bid_percents",value:this.localRule.execution.bid_change_amount})},methods:{bidPercentsChanged:function(e){var t=parseFloat(e);isFinite(t)&&t>1e3?t=1e3:isFinite(t)||(t=null),this.rules.forMainDialog.execution.bid_percents=t},bidMax:function(e){this.localRule.execution.bid_max=e.toString().trim().replace(",",".")},bidMin:function(e){this.localRule.execution.bid_min=e.toString().trim().replace(",",".")}}}),qe=Ye,Ze=a("a609"),Xe=Object(p["a"])(qe,ze,Ke,!1,null,null,null),Je=Xe.exports;m()(Xe,{VBtn:S["a"],VBtnToggle:Ze["a"],VCol:D["a"],VRow:V["a"],VTextField:ue["a"]});var Qe=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-col",{attrs:{cols:"12"}},[a("v-row",[a("v-col",{staticClass:"py-0 mb-2",staticStyle:{"text-align":"left"},style:e.$vuetify.breakpoint.xs?"padding-left: 0 !important;":"",attrs:{cols:12}},[a("v-btn-toggle",{staticClass:"py-2",attrs:{color:"primary",borderless:"",mandatory:""},model:{value:e.localRule.budget_type,callback:function(t){e.$set(e.localRule,"budget_type",t)},expression:"localRule.budget_type"}},[a("v-btn",{staticStyle:{"font-size":"12px",height:"24px"},attrs:{value:"daily"}},[a("span",[e._v(e._s(e.$t("common.budgetDaily")))])]),a("v-btn",{staticStyle:{"font-size":"12px",height:"24px"},attrs:{value:"lifetime"}},[a("span",[e._v(e._s(e.$t("common.budgetLifetime")))])])],1)],1),a("v-col",{staticClass:"py-0",staticStyle:{"text-align":"left"},style:e.$vuetify.breakpoint.xs?"padding-left: 0 !important;":"",attrs:{cols:12,sm:3}},[a("v-btn-toggle",{staticClass:"py-2",attrs:{color:"primary",borderless:"",mandatory:""},model:{value:e.localRule.execution.budget_operator,callback:function(t){e.$set(e.localRule.execution,"budget_operator",t)},expression:"localRule.execution.budget_operator"}},[a("v-btn",{staticStyle:{"font-size":"12px",height:"24px"},attrs:{value:"+"}},[a("span",[e._v("+")])]),a("v-btn",{staticStyle:{"font-size":"12px",height:"24px"},attrs:{value:"-"}},[a("span",[e._v("-")])])],1)],1),a("v-col",{staticClass:"py-0 pl-0",attrs:{cols:12,sm:3}},[a("v-text-field",{attrs:{value:e.localRule.execution.budget_percents,maxlength:"4",outlined:"",dense:"","hide-details":"","append-icon":"fas fa-percent",error:!e.localRule.execution.budget_percents&&e.showWarnings},on:{input:function(t){return e.budgetPercentsChanged(t)}}})],1),a("v-col",{staticClass:"py-0",style:e.$vuetify.breakpoint.xs?"margin-top: 16px; padding-left: 0 !important;":"",attrs:{cols:12,sm:6}},[a("v-text-field",{directives:[{name:"show",rawName:"v-show",value:"+"===e.localRule.execution.budget_operator,expression:"localRule.execution.budget_operator === '+'"}],attrs:{value:e.localRule.execution.budget_max,label:e.$t("autoRules.fbRules.static.budgetMax"),outlined:"",dense:"","hide-details":""},on:{input:function(t){return e.budgetMax(t)}}}),a("v-text-field",{directives:[{name:"show",rawName:"v-show",value:"-"===e.localRule.execution.budget_operator,expression:"localRule.execution.budget_operator === '-'"}],attrs:{value:e.localRule.execution.budget_min,label:e.$t("autoRules.fbRules.static.budgetMin"),outlined:"",dense:"","hide-details":""},on:{input:function(t){return e.budgetMin(t)}}})],1)],1)],1)},et=[],tt={name:"RulesMainDialogBudget",props:{localRule:{type:Object,default:function(){return{}}}},data:function(){return{budgetOperator:["+","-"]}},computed:Object(n["a"])(Object(n["a"])({},Object(r["c"])({showWarnings:"rules/showWarnings"})),Object(le["b"])("rules",["rules"])),created:function(){this.localRule.execution.budget_change_amount&&this.$store.dispatch("rules/setForMainDialogExecutionOptions",{option:"budget_percents",value:this.localRule.execution.budget_change_amount})},methods:{budgetPercentsChanged:function(e){var t=parseFloat(e);isFinite(t)&&t>1e3?t=1e3:isFinite(t)||(t=null),this.rules.forMainDialog.execution.budget_percents=t},budgetMax:function(e){this.localRule.execution.budget_max=e.toString().trim().replace(",",".")},budgetMin:function(e){this.localRule.execution.budget_min=e.toString().trim().replace(",",".")}}},at=tt,st=Object(p["a"])(at,Qe,et,!1,null,null,null),ot=st.exports;m()(st,{VBtn:S["a"],VBtnToggle:Ze["a"],VCol:D["a"],VRow:V["a"],VTextField:ue["a"]});var it=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-col",{staticClass:"px-0",staticStyle:{display:"flex","flex-direction":"column","justify-content":"center","align-items":"center"},attrs:{cols:12}},[e.localRule.conditions?a("div",{staticStyle:{width:"100%"}},e._l(e.localRule.conditions.length,(function(t,s){return a("div",{key:"rules-conditions-"+t,staticClass:"d-flex align-center",style:e.$vuetify.breakpoint.xs?"flex-wrap: wrap; justify-content: space-between !important;":""},[a("v-autocomplete",{staticClass:"my-2",staticStyle:{width:"100%"},attrs:{"item-text":function(t){return t.value.startsWith("title-")||t.value.startsWith("divider-")?null:e.$t("autoRules.fbRules.static.parameter."+t.text)},"item-value":function(e){return e.value},items:e.computedConditionsParameter,outlined:"",dense:"","hide-details":"","menu-props":{auto:!0},error:!e.localRule.conditions[s].parameter&&e.showWarnings},on:{change:e.parameterChanged},scopedSlots:e._u([{key:"selection",fn:function(t){return[e._v(" "+e._s(e.$t("autoRules.fbRules.static.parameter."+t.item.text))+" ")]}},{key:"item",fn:function(t){return[a("v-list-item-content",[t.item.divider?a("v-divider"):a("v-list-item-title",{style:t.item.value.startsWith("title-")?"font-size: 16px;":null},[e._v(" "+e._s(e.$t("autoRules.fbRules.static.parameter."+t.item.text))+" ")])],1)]}}],null,!0),model:{value:e.localRule.conditions[s].parameter,callback:function(t){e.$set(e.localRule.conditions[s],"parameter",t)},expression:"localRule.conditions[conditionIndex].parameter"}}),a("v-select",{staticClass:"mx-4 my-2",staticStyle:{"max-width":"100px"},style:e.$vuetify.breakpoint.xs?"max-width: 40%; margin: 0 12px 0 0 !important;":"",attrs:{"item-text":function(e){return e.text},"item-value":function(e){return e.value},items:e.conditionsOperator,outlined:"",dense:"","hide-details":""},model:{value:e.localRule.conditions[s].operator,callback:function(t){e.$set(e.localRule.conditions[s],"operator",t)},expression:"localRule.conditions[conditionIndex].operator"}}),a("v-text-field",{staticClass:"my-2",style:e.$vuetify.breakpoint.xs?"max-width: 40%; !important;":"",attrs:{value:e.localRule.conditions[s].value,outlined:"",dense:"","hide-details":"",error:!e.localRule.conditions[s].value&&e.showWarnings},on:{input:function(t){return e.valueChanged(t,s)}}}),a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var o=t.on;return[a("v-btn",e._g({staticStyle:{"min-width":"0",width:"30px"},attrs:{small:"",color:"red",text:""},on:{click:function(t){return e.deleteCondition(s)}}},o),[a("v-icon",{attrs:{size:12}},[e._v(" fas fa-trash ")])],1)]}}],null,!0)},[a("span",[e._v(e._s(e.$t("common.delete")))])])],1)})),0):e._e(),a("v-btn",{staticClass:"white--text",staticStyle:{"align-content":"center"},attrs:{small:"",text:"",color:"primary"},on:{click:e.addCondition}},[e._v(" "+e._s(e.$t("autoRules.createCondition"))+" ")]),e.checkConditions?a("v-btn",{staticClass:"white--text",staticStyle:{"align-content":"center"},attrs:{small:"",text:"",color:"primary"},on:{click:e.noConditionsRule}},[e._v(" "+e._s(e.$t("autoRules.noConditionsRule"))+" ")]):e._e()],1)},lt=[],nt=(a("caad"),a("2532"),[{text:"=",value:"EQUAL"},{text:">",value:"GREATER_THAN"},{text:"<",value:"LESS_THAN"}]),rt=[{text:"mostÐ¡ommon"},{text:"spent",value:"spent"},{text:"lifetime_spent",value:"lifetime_spent"},{text:"frequency",value:"frequency"},{text:"results",value:"result"},{text:"cost_per",value:"cost_per"},{text:"mobile_app_install",value:"mobile_app_install"},{text:"cost_per_mobile_app_install",value:"cost_per_mobile_app_install"},{text:"mobile_app_purchase_roas",value:"mobile_app_purchase_roas"},{text:"website_purchase_roas",value:"website_purchase_roas"},{text:"daily_ratio_spent",value:"daily_ratio_spent"},{text:"lifetime_ratio_spent",value:"lifetime_ratio_spent"},{text:"audience_reached_percentage",value:"audience_reached_percentage"},{divider:!0},{text:"settings"},{text:"campaign.name",value:"campaign.name"},{text:"objective",value:"objective"},{text:"buying_type",value:"buying_type"},{text:"spend_cap",value:"spend_cap"},{divider:!0},{text:"time"},{text:"hours_since_creation",value:"hours_since_creation"},{text:"active_time",value:"active_time"},{text:"current_time",value:"current_time"},{text:"created_time",value:"created_time"},{text:"updated_time",value:"updated_time"},{text:"start_time",value:"start_time"},{text:"stop_time",value:"stop_time"},{divider:!0},{text:"websiteConversions"},{text:"offsite_conversion.offsite_conversion",value:"offsite_conversion"},{text:"offsite_conversion.fb_pixel_add_payment_info",value:"offsite_conversion.fb_pixel_add_payment_info"},{text:"offsite_conversion.fb_pixel_add_to_cart",value:"offsite_conversion.fb_pixel_add_to_cart"},{text:"offsite_conversion.fb_pixel_add_to_wishlist",value:"offsite_conversion.fb_pixel_add_to_wishlist"},{text:"offsite_conversion.fb_pixel_complete_registration",value:"offsite_conversion.fb_pixel_complete_registration"},{text:"offsite_conversion.fb_pixel_initiate_checkout",value:"offsite_conversion.fb_pixel_initiate_checkout"},{text:"offsite_conversion.fb_pixel_lead",value:"offsite_conversion.fb_pixel_lead"},{text:"offsite_conversion.fb_pixel_purchase",value:"offsite_conversion.fb_pixel_purchase"},{text:"offsite_conversion.fb_pixel_search",value:"offsite_conversion.fb_pixel_search"},{text:"offsite_conversion.fb_pixel_view_content",value:"offsite_conversion.fb_pixel_view_content"},{text:"offsite_conversion.fb_pixel_other",value:"offsite_conversion.fb_pixel_other"},{divider:!0},{text:"costPerWebsiteConversion"},{text:"cost_per_add_payment_info_fb",value:"cost_per_add_payment_info_fb"},{text:"cost_per_add_to_cart_fb",value:"cost_per_add_to_cart_fb"},{text:"cost_per_add_to_wishlist_fb",value:"cost_per_add_to_wishlist_fb"},{text:"cost_per_complete_registration_fb",value:"cost_per_complete_registration_fb"},{text:"cost_per_initiate_checkout_fb",value:"cost_per_initiate_checkout_fb"},{text:"cost_per_lead_fb",value:"cost_per_lead_fb"},{text:"cost_per_purchase_fb",value:"cost_per_purchase_fb"},{text:"cost_per_search_fb",value:"cost_per_search_fb"},{text:"cost_per_view_content_fb",value:"cost_per_view_content_fb"},{divider:!0},{text:"mobileAppEvents"},{text:"app_custom_event.app_custom_event",value:"app_custom_event"},{text:"app_custom_event.fb_mobile_achievement_unlocked",value:"app_custom_event.fb_mobile_achievement_unlocked"},{text:"app_custom_event.fb_mobile_activate_app",value:"app_custom_event.fb_mobile_activate_app"},{text:"app_custom_event.fb_mobile_add_payment_info",value:"app_custom_event.fb_mobile_add_payment_info"},{text:"app_custom_event.fb_mobile_add_to_cart",value:"app_custom_event.fb_mobile_add_to_cart"},{text:"app_custom_event.fb_mobile_add_to_wishlist",value:"app_custom_event.fb_mobile_add_to_wishlist"},{text:"app_custom_event.fb_mobile_complete_registration",value:"app_custom_event.fb_mobile_complete_registration"},{text:"app_custom_event.fb_mobile_content_view",value:"app_custom_event.fb_mobile_content_view"},{text:"app_custom_event.fb_mobile_initiated_checkout",value:"app_custom_event.fb_mobile_initiated_checkout"},{text:"app_custom_event.fb_mobile_level_achieved",value:"app_custom_event.fb_mobile_level_achieved"},{text:"app_custom_event.fb_mobile_purchase",value:"app_custom_event.fb_mobile_purchase"},{text:"app_custom_event.fb_mobile_rate",value:"app_custom_event.fb_mobile_rate"},{text:"app_custom_event.fb_mobile_search",value:"app_custom_event.fb_mobile_search"},{text:"app_custom_event.fb_mobile_spent_credits",value:"app_custom_event.fb_mobile_spent_credits"},{text:"app_custom_event.fb_mobile_tutorial_completion",value:"app_custom_event.fb_mobile_tutorial_completion"},{text:"app_custom_event.other",value:"app_custom_event.other"},{divider:!0},{text:"costPerMobileAppEvent"},{text:"cost_per_mobile_achievement_unlocked",value:"cost_per_mobile_achievement_unlocked"},{text:"cost_per_mobile_activate_app",value:"cost_per_mobile_activate_app"},{text:"cost_per_mobile_add_payment_info",value:"cost_per_mobile_add_payment_info"},{text:"cost_per_mobile_add_to_cart",value:"cost_per_mobile_add_to_cart"},{text:"cost_per_mobile_add_to_wishlist",value:"cost_per_mobile_add_to_wishlist"},{text:"cost_per_mobile_complete_registration",value:"cost_per_mobile_complete_registration"},{text:"cost_per_mobile_content_view",value:"cost_per_mobile_content_view"},{text:"cost_per_mobile_initiated_checkout",value:"cost_per_mobile_initiated_checkout"},{text:"cost_per_mobile_level_achieved",value:"cost_per_mobile_level_achieved"},{text:"cost_per_mobile_purchase",value:"cost_per_mobile_purchase"},{text:"cost_per_mobile_rate",value:"cost_per_mobile_rate"},{text:"cost_per_mobile_search",value:"cost_per_mobile_search"},{text:"cost_per_mobile_spent_credits",value:"cost_per_mobile_spent_credits"},{text:"cost_per_mobile_tutorial_completion",value:"cost_per_mobile_tutorial_completion"},{divider:!0},{text:"offlineConversions"},{text:"offline_conversion.offline_conversion",value:"offline_conversion"},{text:"offline_conversion.add_payment_info",value:"offline_conversion.add_payment_info"},{text:"offline_conversion.add_to_cart",value:"offline_conversion.add_to_cart"},{text:"offline_conversion.add_to_wishlist",value:"offline_conversion.add_to_wishlist"},{text:"offline_conversion.complete_registration",value:"offline_conversion.complete_registration"},{text:"offline_conversion.initiate_checkout",value:"offline_conversion.initiate_checkout"},{text:"offline_conversion.lead",value:"offline_conversion.lead"},{text:"offline_conversion.other",value:"offline_conversion.other"},{text:"offline_conversion.purchase",value:"offline_conversion.purchase"},{text:"offline_conversion.search",value:"offline_conversion.search"},{text:"offline_conversion.view_content",value:"offline_conversion.view_content"},{divider:!0},{text:"costPerOfflineConversion"},{text:"cost_per_offline_conversion",value:"cost_per_offline_conversion"},{text:"cost_per_offline_add_payment_info",value:"cost_per_offline_add_payment_info"},{text:"cost_per_offline_add_to_cart",value:"cost_per_offline_add_to_cart"},{text:"cost_per_offline_complete_registration",value:"cost_per_offline_complete_registration"},{text:"cost_per_offline_initiate_checkout",value:"cost_per_offline_initiate_checkout"},{text:"cost_per_offline_lead",value:"cost_per_offline_lead"},{text:"cost_per_offline_other",value:"cost_per_offline_other"},{text:"cost_per_offline_purchase",value:"cost_per_offline_purchase"},{text:"cost_per_offline_view_content",value:"cost_per_offline_view_content"},{divider:!0},{text:"otherParameters"},{text:"impressions",value:"impressions"},{text:"reach",value:"reach"},{text:"link_click",value:"link_click"},{text:"lifetime_impressions",value:"lifetime_impressions"},{text:"leadgen",value:"leadgens"},{text:"actions",value:"actions"},{text:"clicks",value:"clicks"},{text:"cpa",value:"cpa"},{text:"cpc",value:"cpc"},{text:"cpp",value:"cpp"},{text:"ctr",value:"ctr"},{text:"result_rate",value:"result_rate"},{text:"cost_per_unique_click",value:"cost_per_unique_click"},{text:"unique_clicks",value:"unique_clicks"},{text:"today_spent",value:"today_spent"},{text:"yesterday_spent",value:"yesterday_spent"},{text:"post_engagement",value:"post_engagement"},{text:"cost_per_post_engagement",value:"cost_per_post_engagement"},{text:"video_view",value:"video_view"},{text:"cost_per_video_view",value:"cost_per_video_view"},{text:"offsite_engagement",value:"offsite_engagement"},{text:"post",value:"post"},{text:"post_comment",value:"post_comment"},{text:"post_like",value:"post_like"},{text:"post_reaction",value:"post_reaction"},{text:"view_content",value:"view_content"},{text:"video_play",value:"video_play"},{text:"vote",value:"vote"},{text:"onsite_conversion.messaging_first_reply",value:"onsite_conversion.messaging_first_reply"},{text:"cost_per_messaging_first_reply",value:"cost_per_messaging_first_reply"},{text:"onsite_conversion.messaging_reply",value:"onsite_conversion.messaging_reply"},{text:"cost_per_messaging_reply",value:"cost_per_messaging_reply"},{text:"adset.estimated_budget_spending_percentage",value:"adset.estimated_budget_spending_percentage"},{text:"cpm",value:"cpm"},{text:"cost_per_link_click",value:"cost_per_link_click"},{text:"link_ctr",value:"link_ctr"},{text:"other",value:"other"},{text:"landing_page_view",value:"landing_page_view"},{text:"like",value:"like"},{text:"fb_mobile_achievement_unlocked",value:"fb_mobile_achievement_unlocked"},{text:"fb_mobile_activate_app",value:"fb_mobile_activate_app"},{text:"fb_mobile_add_payment_info",value:"fb_mobile_add_payment_info"},{text:"fb_mobile_add_to_cart",value:"fb_mobile_add_to_cart"},{text:"fb_mobile_add_to_wishlist",value:"fb_mobile_add_to_wishlist"},{text:"fb_mobile_complete_registration",value:"fb_mobile_complete_registration"},{text:"fb_mobile_content_view",value:"fb_mobile_content_view"},{text:"fb_mobile_initiated_checkout",value:"fb_mobile_initiated_checkout"},{text:"fb_mobile_level_achieved",value:"fb_mobile_level_achieved"},{text:"fb_mobile_purchase",value:"fb_mobile_purchase"},{text:"fb_mobile_rate",value:"fb_mobile_rate"},{text:"fb_mobile_search",value:"fb_mobile_search"},{text:"fb_mobile_spent_credits",value:"fb_mobile_spent_credits"},{text:"fb_mobile_tutorial_completion",value:"fb_mobile_tutorial_completion"},{text:"fb_pixel_add_payment_info",value:"fb_pixel_add_payment_info"},{text:"fb_pixel_add_to_cart",value:"fb_pixel_add_to_cart"},{text:"fb_pixel_add_to_wishlist",value:"fb_pixel_add_to_wishlist"},{text:"fb_pixel_complete_registration",value:"fb_pixel_complete_registration"},{text:"fb_pixel_initiate_checkout",value:"fb_pixel_initiate_checkout"},{text:"fb_pixel_lead",value:"fb_pixel_lead"},{text:"fb_pixel_purchase",value:"fb_pixel_purchase"},{text:"fb_pixel_search",value:"fb_pixel_search"},{text:"fb_pixel_view_content",value:"fb_pixel_view_content"}],ct={name:"RulesMainDialogConditions",props:{localRule:{type:Object,default:function(){return{}}}},data:function(){return{conditionsParameter:rt,conditionsOperator:nt,selectedParameters:[]}},computed:Object(n["a"])(Object(n["a"])({},Object(r["c"])({showWarnings:"rules/showWarnings"})),{},{checkConditions:function(){var e,t=Object(he["a"])(this.localRule.conditions);try{for(t.s();!(e=t.n()).done;){var a=e.value;if(null!==a.value&&""!==a.value)return!1}}catch(s){t.e(s)}finally{t.f()}return!0},computedConditionsParameter:function(){var e=this.localRule.conditions.map((function(e){return e.parameter}));return rt.map((function(t,a){return t.divider?{divider:!0,text:"divider",value:"divider-".concat(a),disabled:!0}:void 0===t.value?{text:t.text,value:"title-".concat(t.text),disabled:!0}:{text:t.text,value:t.value,disabled:e.includes(t.value)}}))}}),methods:{parameterChanged:function(){this.selectedParameters=this.localRule.conditions.map((function(e){return e.parameter}))},addCondition:function(){var e={operator:"EQUAL",value:null};this.localRule.conditions.push(e)},noConditionsRule:function(){if(this.localRule.conditions&&this.localRule.conditions.length>0)this.localRule.conditions[0].operator="LESS_THAN",this.localRule.conditions[0].parameter="spent",this.localRule.conditions[0].value="999999";else{var e={parameter:"spent",operator:"LESS_THAN",value:"999999"};this.localRule.conditions.push(e)}},deleteCondition:function(e){this.localRule.conditions=this.localRule.conditions.filter((function(t,a){return a!==e}))},valueChanged:function(e,t){this.localRule.conditions[t].value=""===e?null:e.toString().trim().replace(",",".")}}},ut=ct,pt=a("c6a6"),dt=a("ce7e"),mt=a("5d23"),_t=a("b974"),vt=Object(p["a"])(ut,it,lt,!1,null,null,null),ft=vt.exports;m()(vt,{VAutocomplete:pt["a"],VBtn:S["a"],VCol:D["a"],VDivider:dt["a"],VIcon:O["a"],VListItemContent:mt["a"],VListItemTitle:mt["c"],VSelect:_t["a"],VTextField:ue["a"],VTooltip:xe["a"]});var ht=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-row",[a("v-col",{attrs:{cols:12,sm:6}},[a("v-switch",{staticClass:"mt-1",attrs:{label:e.$t("autoRules.fbRules.static.convertCurrency"),dense:"","hide-details":""},model:{value:e.localRule.convert_currency,callback:function(t){e.$set(e.localRule,"convert_currency",t)},expression:"localRule.convert_currency"}})],1),a("v-col",{attrs:{cols:12,sm:6}},[a("v-autocomplete",{directives:[{name:"show",rawName:"v-show",value:e.localRule.convert_currency,expression:"localRule.convert_currency"}],attrs:{value:e.localRule.currency?e.localRule.currency:"USD",items:e.currencies,label:e.$t("autoRules.fbRules.static.ruleCurrency"),dense:"","hide-details":"",outlined:""},on:{change:function(t){return e.$store.dispatch("rules/setForMainDialogOptions",{option:"currency",value:t})}}})],1)],1)},bt=[],gt=a("1451"),xt={name:"RulesMainDialogConvertCurrency",props:{localRule:{type:Object,default:function(){return{}}}},data:function(){return{currencies:gt["a"]}},methods:{handleSwitch:function(e){this.$store.dispatch("rules/setForMainDialogOptions",{option:"convert_currency",value:e})}}},yt=xt,Rt=a("b73d"),$t=Object(p["a"])(yt,ht,bt,!1,null,null,null),wt=$t.exports;m()($t,{VAutocomplete:pt["a"],VCol:D["a"],VRow:V["a"],VSwitch:Rt["a"]});var St=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-col",{staticClass:"pa-0",attrs:{cols:"12"}},[a("v-btn-toggle",{staticClass:"py-2",attrs:{color:"primary",borderless:"",multiple:""},model:{value:e.localRule.custom_rasp.days,callback:function(t){e.$set(e.localRule.custom_rasp,"days",t)},expression:"localRule.custom_rasp.days"}},[a("v-btn",{staticStyle:{"font-size":"12px",height:"24px"},attrs:{value:1,color:e.localRule.custom_rasp.days&&0===e.localRule.custom_rasp.days.length&&e.showWarnings?"red":"default"}},[a("span",[e._v(e._s(e.$t("autoRules.fbRules.static.scheduleDays.monday")))])]),a("v-btn",{staticStyle:{"font-size":"12px",height:"24px"},attrs:{value:2,color:e.localRule.custom_rasp.days&&0===e.localRule.custom_rasp.days.length&&e.showWarnings?"red":"default"}},[a("span",[e._v(e._s(e.$t("autoRules.fbRules.static.scheduleDays.tuesday")))])]),a("v-btn",{staticStyle:{"font-size":"12px",height:"24px"},attrs:{value:3,color:e.localRule.custom_rasp.days&&0===e.localRule.custom_rasp.days.length&&e.showWarnings?"red":"default"}},[a("span",[e._v(e._s(e.$t("autoRules.fbRules.static.scheduleDays.wednesday")))])]),a("v-btn",{staticStyle:{"font-size":"12px",height:"24px"},attrs:{value:4,color:e.localRule.custom_rasp.days&&0===e.localRule.custom_rasp.days.length&&e.showWarnings?"red":"default"}},[a("span",[e._v(e._s(e.$t("autoRules.fbRules.static.scheduleDays.thursday")))])]),a("v-btn",{staticStyle:{"font-size":"12px",height:"24px"},attrs:{value:5,color:e.localRule.custom_rasp.days&&0===e.localRule.custom_rasp.days.length&&e.showWarnings?"red":"default"}},[a("span",[e._v(e._s(e.$t("autoRules.fbRules.static.scheduleDays.friday")))])]),a("v-btn",{staticStyle:{"font-size":"12px",height:"24px"},attrs:{value:6,color:e.localRule.custom_rasp.days&&0===e.localRule.custom_rasp.days.length&&e.showWarnings?"red":"default"}},[a("span",[e._v(e._s(e.$t("autoRules.fbRules.static.scheduleDays.saturday")))])]),a("v-btn",{staticStyle:{"font-size":"12px",height:"24px"},attrs:{value:0,color:e.localRule.custom_rasp.days&&0===e.localRule.custom_rasp.days.length&&e.showWarnings?"red":"default"}},[a("span",[e._v(e._s(e.$t("autoRules.fbRules.static.scheduleDays.sunday")))])])],1),a("div",{staticStyle:{cursor:"pointer",color:"#2196F3","text-decoration":"underline"},on:{click:function(t){return e.allDays()}}},[e._v(" "+e._s(e.localRule.custom_rasp.days&&e.localRule.custom_rasp.days.length>0?e.$t("autoRules.fbRules.static.scheduleDays.removeSelection"):e.$t("autoRules.fbRules.static.scheduleDays.selectAll"))+" ")]),a("v-row",[a("v-col",{attrs:{cols:"6",sm:"3"}},[a("v-select",{attrs:{items:e.hours,outlined:"",dense:"","hide-details":""},model:{value:e.localRule.custom_rasp.main_time.hours,callback:function(t){e.$set(e.localRule.custom_rasp.main_time,"hours",t)},expression:"localRule.custom_rasp.main_time.hours"}})],1),a("v-col",{attrs:{cols:"6",sm:"3"}},[a("v-select",{attrs:{items:e.mins,outlined:"",dense:"","hide-details":""},model:{value:e.localRule.custom_rasp.main_time.mins,callback:function(t){e.$set(e.localRule.custom_rasp.main_time,"mins",t)},expression:"localRule.custom_rasp.main_time.mins"}})],1)],1)],1)},kt=[],Ct={name:"RulesMainDialogCustomSchedule",props:{localRule:{type:Object,default:function(){return{}}}},data:function(){return{hours:["00","01","02","03","04","05","06","07","08","09","10","11","12","13","14","15","16","17","18","19","20","21","22","23"],mins:["00","30"]}},computed:Object(n["a"])({},Object(r["c"])({mainDialogMode:"rules/mainDialogMode",showWarnings:"rules/showWarnings"})),created:function(){this.localRule.custom_rasp&&this.localRule.custom_rasp.days[0]?this.localRule.custom_rasp={days:this.localRule.custom_rasp.days.map((function(e){return e.index})),main_time:{mins:0!==this.localRule.custom_rasp.days[0].minute?this.localRule.custom_rasp.days[0].minute%60<10?"0"+(this.localRule.custom_rasp.days[0].minute%60).toString():(this.localRule.custom_rasp.days[0].minute%60).toString():"00",hours:1===Math.floor(this.localRule.custom_rasp.days[0].hour).toString().length?"0"+Math.floor(this.localRule.custom_rasp.days[0].hour):Math.floor(this.localRule.custom_rasp.days[0].hour).toString()}}:this.localRule.custom_rasp={days:[],main_time:{hours:"00",mins:"00"}}},methods:{allDays:function(){this.localRule.custom_rasp.days&&this.localRule.custom_rasp.days.length>0?this.localRule.custom_rasp.days=[]:this.localRule.custom_rasp.days=[1,2,3,4,5,6,0]}}},Dt=Ct,Tt=Object(p["a"])(Dt,St,kt,!1,null,null,null),Ot=Tt.exports;m()(Tt,{VBtn:S["a"],VBtnToggle:Ze["a"],VCol:D["a"],VRow:V["a"],VSelect:_t["a"]});var Mt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-col",{attrs:{cols:12,sm:6}},[a("v-select",{attrs:{label:e.$t("autoRules.fbRules.static.frequency"),"item-text":function(t){return e.$t("autoRules.fbRules.static.frequencyTypes."+t.text)},"item-value":function(e){return e.value},items:e.scheduleType,outlined:"",dense:"","hide-details":""},model:{value:e.localRule.schedule_type,callback:function(t){e.$set(e.localRule,"schedule_type",t)},expression:"localRule.schedule_type"}})],1)},At=[],Vt=[{text:"semi-hourly",value:"SEMI-HOURLY"},{text:"hourly",value:"HOURLY"},{text:"daily",value:"DAILY"},{text:"custom",value:"CUSTOM"}],jt={name:"RulesMainDialogFrequency",props:{localRule:{type:Object,default:function(){return{}}}},data:function(){return{scheduleType:Vt}}},Pt=jt,Et=Object(p["a"])(Pt,Mt,At,!1,null,null,null),Gt=Et.exports;m()(Et,{VCol:D["a"],VSelect:_t["a"]});var It=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-col",{staticClass:"px-0",attrs:{cols:"12"}},[a("v-text-field",{attrs:{label:e.$t("autoRules.fbRules.static.nameRule"),outlined:"",dense:"","hide-details":"",error:!e.localRule.name&&e.showWarnings},model:{value:e.localRule.name,callback:function(t){e.$set(e.localRule,"name",t)},expression:"localRule.name"}})],1)},Wt=[],Nt={name:"RulesMainDialogName",props:{localRule:{type:Object,default:function(){return{}}}},computed:Object(n["a"])({},Object(r["c"])({showWarnings:"rules/showWarnings"}))},Bt=Nt,Lt=Object(p["a"])(Bt,It,Wt,!1,null,null,null),Ft=Lt.exports;m()(Lt,{VCol:D["a"],VTextField:ue["a"]});var Ut=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-col",{attrs:{cols:12,sm:6}},[a("v-select",{attrs:{label:e.$t("autoRules.fbRules.static.typeRule"),"item-text":function(t){return e.$t("autoRules.fbRules.static."+t.text)},"item-value":function(e){return e.value},items:e.ruleType,outlined:"",dense:"","hide-details":""},model:{value:e.localRule.evaluation_type,callback:function(t){e.$set(e.localRule,"evaluation_type",t)},expression:"localRule.evaluation_type"}})],1)},Ht=[],zt={name:"RulesMainDialogRuleType",props:{localRule:{type:Object,default:function(){return{}}}},data:function(){return{ruleType:[{text:"schedule",value:"SCHEDULE"}]}}},Kt=zt,Yt=Object(p["a"])(Kt,Ut,Ht,!1,null,null,null),qt=Yt.exports;m()(Yt,{VCol:D["a"],VSelect:_t["a"]});var Zt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-col",{attrs:{cols:12,sm:6}},[a("v-select",{attrs:{label:e.$t("autoRules.fbRules.static.statPeriod"),"item-text":function(t){return e.$t("autoRules.fbRules.static.statPeriods."+t.text)},"item-value":function(e){return e.value},items:e.timePreset,outlined:"",dense:"","hide-details":""},model:{value:e.localRule.time_preset,callback:function(t){e.$set(e.localRule,"time_preset",t)},expression:"localRule.time_preset"}})],1)},Xt=[],Jt=[{text:"lifetime",value:"LIFETIME"},{text:"today",value:"TODAY"},{text:"yesterday",value:"YESTERDAY"},{text:"last_2_days",value:"LAST_2_DAYS"},{text:"last_3_days",value:"LAST_3_DAYS"},{text:"last_7_days",value:"LAST_7_DAYS"},{text:"last_14_days",value:"LAST_14_DAYS"},{text:"last_28_days",value:"LAST_28_DAYS"},{text:"last_30_days",value:"LAST_30_DAYS"},{text:"this_month",value:"THIS_MONTH"}],Qt={name:"RulesMainDialogStatPeriod",props:{localRule:{type:Object,default:function(){return{}}}},data:function(){return{timePreset:Jt}}},ea=Qt,ta=Object(p["a"])(ea,Zt,Xt,!1,null,null,null),aa=ta.exports;m()(ta,{VCol:D["a"],VSelect:_t["a"]});var sa=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-col",{attrs:{cols:12,sm:6}},[a("v-select",{attrs:{label:e.$t("autoRules.fbRules.static.whatToDo"),"item-text":function(t){return e.$t("autoRules.fbRules.static.whatToDoType."+t.text)},"item-value":function(e){return e.value},items:e.executionType,outlined:"",dense:"","hide-details":""},model:{value:e.localRule.execution_type,callback:function(t){e.$set(e.localRule,"execution_type",t)},expression:"localRule.execution_type"}})],1)},oa=[],ia=[{text:"unpause",value:"UNPAUSE"},{text:"pause",value:"PAUSE"},{text:"changeBudget",value:"CHANGE_BUDGET"},{text:"changeCampaignBudget",value:"CHANGE_CAMPAIGN_BUDGET"},{text:"changeBid",value:"CHANGE_BID"}],la={name:"RulesMainDialogWhatToDo",props:{localRule:{type:Object,default:function(){return{}}}},data:function(){return{executionType:ia}},watch:{"localRule.execution_type":{handler:function(){"CHANGE_BUDGET"===this.localRule.execution_type&&this.$store.dispatch("rules/setForMainDialogOptions",{option:"entity_type",value:"ADSET"}),"CHANGE_CAMPAIGN_BUDGET"===this.localRule.execution_type&&this.$store.dispatch("rules/setForMainDialogOptions",{option:"entity_type",value:"CAMPAIGN"})}}}},na=la,ra=Object(p["a"])(na,sa,oa,!1,null,null,null),ca=ra.exports;m()(ra,{VCol:D["a"],VSelect:_t["a"]});var ua=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-col",{attrs:{cols:12,sm:6}},[a("v-select",{attrs:{label:e.$t("autoRules.fbRules.static.whatToWorkWith"),"item-text":function(t){return e.$t("autoRules.fbRules.static.whatToWorkWithType."+t.text)},"item-value":function(e){return e.value},items:e.entityType,outlined:"",dense:"","hide-details":""},model:{value:e.localRule.entity_type,callback:function(t){e.$set(e.localRule,"entity_type",t)},expression:"localRule.entity_type"}})],1)},pa=[],da=[{text:"ad",value:"AD"},{text:"adset",value:"ADSET"},{text:"campaign",value:"CAMPAIGN"}],ma={name:"RulesMainDialogWhatToWorkWith",props:{localRule:{type:Object,default:function(){return{}}}},data:function(){return{entityType:da}}},_a=ma,va=Object(p["a"])(_a,ua,pa,!1,null,null,null),fa=va.exports;m()(va,{VCol:D["a"],VSelect:_t["a"]});var ha=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-col",{attrs:{cols:12,sm:6}},[a("v-select",{attrs:{label:e.$t("autoRules.fbRules.static.whichStatuses"),"item-text":function(t){return e.$t("autoRules.fbRules.static.whichStatusesType."+t.text)},"item-value":function(e){return e.value},items:e.effectiveStatus,outlined:"",dense:"","hide-details":""},model:{value:e.localRule.effective_status,callback:function(t){e.$set(e.localRule,"effective_status",t)},expression:"localRule.effective_status"}})],1)},ba=[],ga=[{text:"active",value:"ACTIVE"},{text:"paused",value:"PAUSED"}],xa={name:"RulesMainDialogWhichStatuses",props:{localRule:{type:Object,default:function(){return{}}}},data:function(){return{effectiveStatus:ga}}},ya=xa,Ra=Object(p["a"])(ya,ha,ba,!1,null,null,null),$a=Ra.exports;m()(Ra,{VCol:D["a"],VSelect:_t["a"]});var wa={name:"RulesMainDialog",components:{MainDialogBudget:ot,MainDialogBid:Je,MainDialogConditions:ft,MainDialogConvertCurrency:wt,MainDialogCustomSchedule:Ot,MainDialogName:Ft,MainDialogRuleType:qt,MainDialogFrequency:Gt,MainDialogStatPeriod:aa,MainDialogWhatToDo:ca,MainDialogWhatToWorkWith:fa,MainDialogWhichStatuses:$a},data:function(){return{initial:{}}},computed:Object(n["a"])({},Object(r["c"])({rules:"rules/rules",dialogs:"rules/dialogs",mainDialogMode:"rules/mainDialogMode",loading:"rules/loading"})),watch:{"rules.forMainDialog":{deep:!0,handler:function(){this.$store.dispatch("rules/setWarning",!1)}}},created:function(){this.initial=this.$_.cloneDeep(this.rules.forMainDialog)},methods:{createRule:function(){var e=this;return Object(R["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$store.dispatch("rules/createRule");case 2:e.$store.dispatch("rules/closeDialog","mainDialog");case 3:case"end":return t.stop()}}),t)})))()},close:function(){(this.$_.isEqual(this.rules.forMainDialog,this.initial)||(this.confirmation=confirm(this.$t("common.closeDialogConfirmation")),this.confirmation))&&(this.$store.dispatch("rules/closeDialog","mainDialog"),this.$store.dispatch("rules/setWarning",!1),this.$store.dispatch("rules/clearRule"))},createOrSaveRule:function(){var e=!0;this.rules.forMainDialog.conditions.forEach((function(t){t.value||(e=!1),t.parameter||(e=!1)}));var t=!0;"CUSTOM"!==this.rules.forMainDialog.schedule_type||this.rules.forMainDialog.custom_rasp.days&&0!==this.rules.forMainDialog.custom_rasp.days.length||(t=!1);var a=!0;return"CHANGE_BUDGET"!==this.rules.forMainDialog.execution_type&&"CHANGE_CAMPAIGN_BUDGET"!==this.rules.forMainDialog.execution_type||this.rules.forMainDialog.execution.budget_percents||(a=!1),this.rules.forMainDialog.name&&e&&t&&a?("edit"===this.mainDialogMode?this.$store.dispatch("rules/editRule"):this.$store.dispatch("rules/createRule"),this.$store.dispatch("rules/setWarning",!1)):this.$store.dispatch("rules/setWarning",!0)}}},Sa=wa,ka=(a("e799"),a("71d9")),Ca=a("2a7f"),Da=Object(p["a"])(Sa,Ue,He,!1,null,null,null),Ta=Da.exports;m()(Da,{VBtn:S["a"],VCard:k["a"],VCardTitle:C["c"],VCol:D["a"],VDialog:T["a"],VIcon:O["a"],VRow:V["a"],VSpacer:j["a"],VToolbar:ka["a"],VToolbarItems:Ca["a"],VToolbarTitle:Ca["b"]});var Oa=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-card",[a("v-card-text",{staticStyle:{padding:"0px 8px 0px 8px"}},[a("v-data-table",{attrs:{value:e.rules.selected,headers:e.cols,items:e.rules.filtered,loading:e.loading.mainTable,"loading-text":e.$t("common.loading"),"fixed-header":"",height:e.innerHeight-50-48-36,page:e.page,"items-per-page":e.itemsPerPage,"custom-sort":e.customSortsRules,"hide-default-footer":"","mobile-breakpoint":0,"header-props":{"sort-icon":"arrow_downward"},"show-select":""},on:{"update:page":[function(t){e.page=t},e.updatePage],"page-count":function(t){e.pageCount=t},input:e.selectItem,"update:items-per-page":function(t){return e.setItemsPerPage(t)}},scopedSlots:e._u([{key:"item.name",fn:function(e){var t=e.item;return[a("main-table-name",{attrs:{item:t}})]}},{key:"item.data",fn:function(e){var t=e.item;return[a("main-table-data",{attrs:{item:t}})]}},{key:"item.conditions",fn:function(e){var t=e.item;return[a("main-table-conditions",{attrs:{item:t}})]}}])}),a("div",{staticClass:"d-flex justify-end align-center dolphin-main-table-footer",class:{"justify-center":e.$vuetify.breakpoint.xs||e.$vuetify.breakpoint.sm,"justify-space-between":!e.$vuetify.breakpoint.xs&&!e.$vuetify.breakpoint.sm}},[e.$vuetify.breakpoint.xs||e.$vuetify.breakpoint.sm?e._e():a("div",{staticClass:"dolphin-main-table-footer-tags",staticStyle:{overflow:"hidden","white-space":"nowrap","overflow-x":"auto","scroll-direction":"horizontal",width:"auto","margin-right":"auto"}}),a("div",{staticClass:"mx-2",staticStyle:{"white-space":"nowrap"}},[e._v(" "+e._s(e.currentTableItems+" "+e.$t("common.of").toLowerCase()+" "+e.itemsCount)+" ")]),a("div",{staticStyle:{"white-space":"nowrap"}},[a("v-btn",{attrs:{icon:"","x-small":"",disabled:1===e.page},on:{click:function(t){return e.changePage(!1)}}},[a("v-icon",{attrs:{size:12}},[e._v(" fas fa-chevron-left ")])],1),a("v-chip",{staticClass:"mx-2",attrs:{label:"",color:"primary",small:""}},[e._v(" "+e._s(e.page)+" ")]),a("v-btn",{attrs:{icon:"","x-small":"",disabled:e.page===e.pageCount},on:{click:function(t){return e.changePage(!0)}}},[a("v-icon",{attrs:{size:12}},[e._v(" fas fa-chevron-right ")])],1)],1),a("v-select",{staticClass:"dolphin-main-table-footer-items-per-page",class:{"dolphin-main-table-footer-items-per-page-mobile":e.$vuetify.breakpoint.sm||e.$vuetify.breakpoint.xs},staticStyle:{"max-width":"60px"},attrs:{value:e.itemsPerPage,items:[10,30,50,100,-1],"hide-details":"",dense:"",solo:""},on:{change:function(t){return e.setItemsPerPage(t)}},scopedSlots:e._u([{key:"item",fn:function(t){var a=t.item;return[e._v(" "+e._s(-1===a?e.$t("common.all"):a)+" ")]}},{key:"selection",fn:function(t){var a=t.item;return[e._v(" "+e._s(-1===a?e.$t("common.all"):a)+" ")]}}])})],1)],1)],1)],1)},Ma=[],Aa=a("4367"),Va=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"py-2"},e._l(e.item.conditions,(function(t,s){return a("v-chip",{key:"condition-"+s+"-"+t.parameter+"-"+t.value,staticClass:"mr-1",attrs:{color:"primary",outlined:"",small:"",label:""}},[e._v(" "+e._s(e.$t("autoRules.fbRules.static.parameter."+t.parameter)+" "+e.$t("autoRules.fbRules.static.operator."+t.operator.toLowerCase())+" "+t.value)+" ")])})),1)},ja=[],Pa={name:"RulesMainTableConditions",props:{item:{type:Object,default:function(){return{}}}}},Ea=Pa,Ga=Object(p["a"])(Ea,Va,ja,!1,null,null,null),Ia=Ga.exports;m()(Ga,{VChip:Z["a"]});var Wa=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"py-2"},["PAUSE"===e.item.execution_type?a("div",[a("v-chip",{staticClass:"mr-1",attrs:{color:"red",outlined:"",small:"",label:""}},[e._v(" "+e._s(e.$t("autoRules.fbRules.static.whatToDoType."+e.item.execution_type.toLowerCase())+" "+e.$t("autoRules.fbRules.static.whatToWorkWithType."+e.item.entity_type.toLowerCase()).toLowerCase())+" ")])],1):e._e(),"UNPAUSE"===e.item.execution_type?a("div",[a("v-chip",{staticClass:"mr-1",attrs:{color:"green",outlined:"",small:"",label:""}},[e._v(" "+e._s(e.$t("autoRules.fbRules.static.whatToDoType."+e.item.execution_type.toLowerCase())+" "+e.$t("autoRules.fbRules.static.whatToWorkWithType."+e.item.entity_type.toLowerCase()).toLowerCase())+" ")])],1):e._e(),"CHANGE_BUDGET"===e.item.execution_type||"CHANGE_CAMPAIGN_BUDGET"===e.item.execution_type?a("div",[a("v-chip",{staticClass:"mr-1",attrs:{color:e.item.execution.budget_change_amount>0?"green":"red",outlined:"",small:"",label:""}},[e._v(" "+e._s(("en"===e.profile.language?(e.item.execution.budget_change_amount>0?e.$t("common.increase"):e.$t("common.decrease"))+" "+("daily"===e.item.budget_type?e.$t("common.daily").toLowerCase()+" ":e.$t("common.lifetime").toLowerCase()+" ")+e.$t("common.budget").toLowerCase()+" ":(e.item.execution.budget_change_amount>0?e.$t("autoRules.fbRules.static.budgetIncrease"):e.$t("autoRules.fbRules.static.budgetDecrease"))+" ("+("daily"===e.item.budget_type?e.$t("common.daily").toLowerCase():e.$t("common.lifetime").toLowerCase())+") ")+e.$t("autoRules.fbRules.static.whatToWorkWithType."+("AD"===e.item.entity_type?"ofAd":"ADSET"===e.item.entity_type?"ofAdset":"ofCampaign")).toLowerCase()+" "+e.$t("autoRules.fbRules.static.by").toLowerCase()+" "+(e.item.execution.budget_change_amount||0)+"%")+" ")])],1):e._e(),a("div",[e._v(" "+e._s(e.$t("autoRules.fbRules.static.statPeriod")+": "+e.$t("autoRules.fbRules.static.statPeriods."+e.item.time_preset.toLowerCase()))+" ")]),a("div",[e._v(" "+e._s(e.$t("autoRules.fbRules.static.frequency")+": "+e.$t("autoRules.fbRules.static.frequencyTypes."+e.item.schedule_type.toLowerCase()))+" ")])])},Na=[],Ba={name:"RulesMainTableData",props:{item:{type:Object,default:function(){return{}}}},computed:Object(n["a"])({},Object(r["c"])({profile:"main/profile"}))},La=Ba,Fa=Object(p["a"])(La,Wa,Na,!1,null,null,null),Ua=Fa.exports;m()(Fa,{VChip:Z["a"]});var Ha=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("span",{staticStyle:{cursor:"pointer",color:"#2196F3","text-decoration":"underline"},on:{click:function(t){return e.editRule(e.item)}}},[e._v(" "+e._s(e.item.name)+" ")])])},za=[],Ka={name:"RulesMainTableName",props:{item:{type:Object,default:function(){return{}}}},methods:{editRule:function(e){var t=this;return Object(R["a"])(regeneratorRuntime.mark((function a(){var s;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,t.$store.dispatch("rules/setMainDialogMode","edit");case 2:return s=t.$_.cloneDeep(e),s.convert_currency=1===s.convert_currency,s.conditions.forEach((function(e){""===e.value&&(e.value=null)})),a.next=7,t.$store.dispatch("rules/setForMainDialog",s);case 7:t.$store.dispatch("rules/openDialog","mainDialog");case 8:case"end":return a.stop()}}),a)})))()}}},Ya=Ka,qa=Object(p["a"])(Ya,Ha,za,!1,null,null,null),Za=qa.exports,Xa={name:"RulesMainTable",components:{MainTableConditions:Ia,MainTableData:Ua,MainTableName:Za},mixins:[Aa["a"]],data:function(){return{cols:[{text:this.$t("common.name"),value:"name",width:300},{text:this.$t("common.data"),value:"data",width:300},{text:this.$t("autoRules.fbRules.static.conditions"),value:"conditions",width:200}],itemsPerPage:50}},computed:Object(n["a"])(Object(n["a"])({},Object(r["c"])({rules:"rules/rules",selected:"rules/selected",innerHeight:"main/innerHeight",loading:"rules/loading",filters:"rules/filters",pageCount:"rules/count",itemsCount:"rules/itemsCount",page:"rules/page",profile:"main/profile"})),{},{currentTableItems:function(){return-1===this.itemsPerPage||this.itemsPerPage>this.rules.filtered.length?this.rules.filtered.length:1===this.page?"1 - ".concat(this.itemsPerPage):this.page===this.pageCount?"".concat(this.page*this.itemsPerPage-(this.itemsPerPage-1)," - ").concat(this.rules.filtered.length):"".concat(this.page*this.itemsPerPage-(this.itemsPerPage-1)," - ").concat(this.page*this.itemsPerPage)}}),created:function(){this.$store.dispatch("rules/loadRules")},methods:{selectItem:function(e){this.$store.dispatch("rules/setSelected",e)},setItemsPerPage:function(e){var t=this;setTimeout((function(){t.setWidths("Rules")}),100),localStorage.setItem("autorules-per-page-count",e),localStorage.setItem("autorules-page","1"),this.$store.dispatch("rules/loadRules"),this.itemsPerPage=e,this.page=1},updatePage:function(){var e=this;setTimeout((function(){e.setWidths("Rules")}),100)},changePage:function(e){var t=1;t=this.page=e?this.page+1:this.page-1,this.$store.dispatch("rules/setPage",t),this.$store.dispatch("rules/loadRules")}}},Ja=Xa,Qa=Object(p["a"])(Ja,Oa,Ma,!1,null,null,null),es=Qa.exports;m()(Qa,{VBtn:S["a"],VCard:k["a"],VCardText:C["b"],VChip:Z["a"],VDataTable:te["a"],VIcon:O["a"],VSelect:_t["a"]});var ts=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-row",{staticClass:"topbar-row"},[a("v-col",{attrs:{cols:"12",sm:"9"}},[a("div",[a("topbar-actions")],1),a("div",{staticClass:"pt-0 pb-2 mr-8",staticStyle:{float:"right",width:"134px","text-align":"center"}},[a("v-btn",{staticClass:"white--text",staticStyle:{"margin-top":"2px"},attrs:{small:"",text:"",color:"primary"},on:{click:e.createRule}},[a("v-icon",{staticClass:"mr-1",attrs:{size:18}},[e._v(" add ")]),e._v(" "+e._s(e.$t("autoRules.createRule"))+" ")],1)],1)]),a("v-col",{attrs:{cols:"12",sm:"3"}},[a("v-row",[a("v-col",{staticClass:"pt-0 pb-2",attrs:{cols:"12"}},[a("v-text-field",{attrs:{dense:"",clearable:"",solo:"",label:e.$t("filters.searchByName"),"single-line":"","prepend-inner-icon":"fas fa-search","hide-details":"",value:e.filters.search},on:{input:e.filterSearch}})],1)],1)],1)],1)},as=[],ss=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"pt-0 pb-2",staticStyle:{float:"left"}},[a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var s=t.on;return[a("v-btn",e._g({staticStyle:{"min-width":"0",width:"30px","margin-top":"1px"},attrs:{small:"",disabled:0===e.rules.selected.length,color:"primary",text:""},on:{click:e.multipleDuplicate}},s),[a("v-icon",{attrs:{size:12}},[e._v(" fas fa-copy ")])],1)]}}])},[a("span",[e._v(e._s(e.$t("common.duplicate")))])])],1),a("div",{staticClass:"pt-0 pb-2",staticStyle:{float:"left"}},[a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var s=t.on;return[a("v-btn",e._g({staticStyle:{"min-width":"0",width:"30px","margin-top":"1px"},attrs:{small:"",disabled:0===e.rules.selected.length,color:"primary",text:"",loading:e.loading.deleteRule},on:{click:e.deleteRule}},s),[a("v-icon",{attrs:{size:12}},[e._v(" fas fa-trash ")])],1)]}}])},[a("span",[e._v(e._s(e.$t("common.delete")))])])],1),a("div",{staticClass:"pt-0 pb-2",staticStyle:{float:"left"}},[a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var s=t.on;return[a("v-btn",e._g({staticStyle:{"min-width":"0",width:"30px","margin-top":"1px"},attrs:{small:"",disabled:0===e.rules.selected.length,color:"primary",text:"",loading:e.loading.shareRule},on:{click:e.shareRule}},s),[a("v-icon",{attrs:{size:12}},[e._v(" fas fa-share-alt ")])],1)]}}])},[a("span",[e._v(e._s(e.$t("common.share")))])])],1),a("div",{staticClass:"pt-0 pb-2",staticStyle:{float:"left"}},[a("div",{staticClass:"body-2 ml-3",staticStyle:{"padding-bottom":"3px"},style:{color:e.rules.selected.length>0?"":"gray",paddingTop:"5px"}},[e._v(" "+e._s(e.$t("common.selected"))+": "+e._s(e.rules.selected.length)+" ")])])])},os=[],is={name:"RulesTopbarActions",computed:Object(n["a"])({},Object(r["c"])({loading:"rules/loading",rules:"rules/rules"})),methods:{deleteRule:function(){if(confirm(this.$t("common.confirmPlease"))){var e=this.rules.selected.map((function(e){return e.id}));this.$store.dispatch("rules/deleteRule",e)}},shareRule:function(){this.$store.dispatch("rules/openDialog","share")},multipleDuplicate:function(){var e=this;return Object(R["a"])(regeneratorRuntime.mark((function t(){var a,s,o,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(confirm(e.$t("common.confirmPlease"))){t.next=2;break}return t.abrupt("return");case 2:return a={param:"mainTable",value:!0},t.next=5,e.$store.dispatch("rules/setLoading",a);case 5:s=Object(he["a"])(e.rules.selected),t.prev=6,s.s();case 8:if((o=s.n()).done){t.next=14;break}return i=o.value,t.next=12,e.$store.dispatch("rules/multipleDuplicate",i.id);case 12:t.next=8;break;case 14:t.next=19;break;case 16:t.prev=16,t.t0=t["catch"](6),s.e(t.t0);case 19:return t.prev=19,s.f(),t.finish(19);case 22:return a={param:"mainTable",value:!1},t.next=25,e.$store.dispatch("rules/setLoading",a);case 25:e.$store.dispatch("rules/loadRules"),e.$store.dispatch("rules/clearSelected");case 27:case"end":return t.stop()}}),t,null,[[6,16,19,22]])})))()}}},ls=is,ns=Object(p["a"])(ls,ss,os,!1,null,null,null),rs=ns.exports;m()(ns,{VBtn:S["a"],VIcon:O["a"],VTooltip:xe["a"]});var cs={name:"RulesTopbar",components:{TopbarActions:rs},data:function(){return{searchText:""}},computed:Object(n["a"])({},Object(r["c"])({filters:"rules/filters"})),methods:{filterSearch:function(e){var t=this;e&&e.length>0&&this.$store.dispatch("rules/clearSelected"),this.searchText=e;var a={filter:"search",data:e};setTimeout(Object(R["a"])(regeneratorRuntime.mark((function s(){return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:if(e!==t.searchText){s.next=3;break}return s.next=3,t.$store.dispatch("rules/setSpecificFilter",a);case 3:case"end":return s.stop()}}),s)}))),500)},createRule:function(){var e=this;return Object(R["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$store.dispatch("rules/setMainDialogMode","create");case 2:e.$store.dispatch("rules/openDialog","mainDialog");case 3:case"end":return t.stop()}}),t)})))()}}},us=cs,ps=Object(p["a"])(us,ts,as,!1,null,null,null),ds=ps.exports;m()(ps,{VBtn:S["a"],VCol:D["a"],VIcon:O["a"],VRow:V["a"],VTextField:ue["a"]});var ms={name:"Rules",components:{MainDialog:Ta,MainTable:es,DialogShare:Fe,Topbar:ds},data:function(){return{updateInterval:null}},computed:Object(n["a"])({},Object(r["c"])({dialogs:"rules/dialogs"})),created:function(){var e=this;this.$store.dispatch("rules/loadFilters"),this.$store.dispatch("rules/loadRules"),this.updateInterval=setInterval((function(){e.$store.dispatch("rules/loadRules")}),6e4)},beforeDestroy:function(){clearInterval(this.updateInterval)}},_s=ms,vs=Object(p["a"])(_s,Ee,Ge,!1,null,null,null),fs=vs.exports,hs={name:"AutoRules",components:{Tabs:h,Rules:fs,Groups:Oe,Roi:Pe},computed:{componentName:function(){return"undefined"!==typeof this.$route.params.tab?this.$route.params.tab:"rules"}}},bs=hs,gs=Object(p["a"])(bs,s,o,!1,null,null,null);t["default"]=gs.exports},e799:function(e,t,a){"use strict";a("1abd")}}]);
//# sourceMappingURL=autorules-legacy.db3d8b28.js.map