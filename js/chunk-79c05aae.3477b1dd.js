(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-79c05aae"],{"00d8":function(t,e){(function(){var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a={rotl:function(t,e){return t<<e|t>>>32-e},rotr:function(t,e){return t<<32-e|t>>>e},endian:function(t){if(t.constructor==Number)return 16711935&a.rotl(t,8)|4278255360&a.rotl(t,24);for(var e=0;e<t.length;e++)t[e]=a.endian(t[e]);return t},randomBytes:function(t){for(var e=[];t>0;t--)e.push(Math.floor(256*Math.random()));return e},bytesToWords:function(t){for(var e=[],a=0,s=0;a<t.length;a++,s+=8)e[s>>>5]|=t[a]<<24-s%32;return e},wordsToBytes:function(t){for(var e=[],a=0;a<32*t.length;a+=8)e.push(t[a>>>5]>>>24-a%32&255);return e},bytesToHex:function(t){for(var e=[],a=0;a<t.length;a++)e.push((t[a]>>>4).toString(16)),e.push((15&t[a]).toString(16));return e.join("")},hexToBytes:function(t){for(var e=[],a=0;a<t.length;a+=2)e.push(parseInt(t.substr(a,2),16));return e},bytesToBase64:function(t){for(var a=[],s=0;s<t.length;s+=3)for(var o=t[s]<<16|t[s+1]<<8|t[s+2],i=0;i<4;i++)8*s+6*i<=8*t.length?a.push(e.charAt(o>>>6*(3-i)&63)):a.push("=");return a.join("")},base64ToBytes:function(t){t=t.replace(/[^A-Z0-9+\/]/gi,"");for(var a=[],s=0,o=0;s<t.length;o=++s%4)0!=o&&a.push((e.indexOf(t.charAt(s-1))&Math.pow(2,-2*o+8)-1)<<2*o|e.indexOf(t.charAt(s))>>>6-2*o);return a}};t.exports=a})()},"044b":function(t,e){function a(t){return!!t.constructor&&"function"===typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)}function s(t){return"function"===typeof t.readFloatLE&&"function"===typeof t.slice&&a(t.slice(0,0))}
/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */
t.exports=function(t){return null!=t&&(a(t)||s(t)||!!t._isBuffer)}},"118d":function(t,e,a){"use strict";a("38864")},1331:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var s=a("78ef"),o=(0,s.regex)("integer",/(^[0-9]*$)|(^-[0-9]+$)/);e.default=o},"27e0":function(t,e,a){"use strict";a("aebf")},"2a12":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var s=a("78ef"),o=function(t){return(0,s.withParams)({type:"maxLength",max:t},(function(e){return!(0,s.req)(e)||(0,s.len)(e)<=t}))};e.default=o},"2bfd":function(t,e,a){},"2cb4":function(t,e,a){},"2f88":function(t,e,a){},3360:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var s=a("78ef"),o=function(){for(var t=arguments.length,e=new Array(t),a=0;a<t;a++)e[a]=arguments[a];return(0,s.withParams)({type:"and"},(function(){for(var t=this,a=arguments.length,s=new Array(a),o=0;o<a;o++)s[o]=arguments[o];return e.length>0&&e.reduce((function(e,a){return e&&a.apply(t,s)}),!0)}))};e.default=o},3659:function(t,e,a){"use strict";e["a"]={computed:{footerOptions(){const t={page:1,itemsPerPage:1};if(this.mainTablePagination){const{current_page:e,per_page:a}=this.mainTablePagination;t.page=this.notEmpty(e)?parseInt(e,10):1,t.itemsPerPage=this.notEmpty(a)?parseInt(a,10):10}return t},footerPagination(){let t={};if(this.mainTablePagination){const{current_page:e,per_page:a,from:s,to:o,last_page:i,total:n}=this.mainTablePagination;t={page:this.notEmpty(e)?parseInt(e,10):1,itemsPerPage:this.notEmpty(a)?parseInt(a,10):10,pageStart:this.notEmpty(s)?parseInt(s,10)-1:0,pageStop:this.notEmpty(o)?parseInt(o,10):1,pageCount:this.notEmpty(i)?parseInt(i,10):1,itemsLength:this.notEmpty(n)?parseInt(n,10):0}}return t}},methods:{notEmpty(t){return void 0!==t&&null!==t}}}},38864:function(t,e,a){},"3a54":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var s=a("78ef"),o=(0,s.regex)("alphaNum",/^[a-zA-Z0-9]*$/);e.default=o},"3d4b":function(t,e,a){"use strict";a("463d")},4367:function(t,e,a){"use strict";e["a"]={methods:{customSorts(t,e,a,s,o,i){let n=e[0];"undefined"===typeof n?n="none":"ad"===n&&(n="name");const r=a[0]?"asc":"desc";return localStorage.getItem(s)===n&&localStorage.getItem(o)===r||(localStorage.setItem(s,n),localStorage.setItem(o,r),this.$store.dispatch(i,{key:n,value:r})),t},customSortsAds(t,e,a){return this.customSorts(t,e,a,"sort-ads-key","sort-ads-value","ads/sortAds")},customSortsAdsets(t,e,a){return this.customSorts(t,e,a,"sort-adsets-key","sort-adsets-value","adsets/sortAdsets")},customSortsCampaigns(t,e,a){return this.customSorts(t,e,a,"sort-campaigns-key","sort-campaigns-value","campaigns/sortCampaigns")},customSortsAccounts(t,e,a){return this.customSorts(t,e,a,"sort-accounts-key","sort-accounts-value","accounts/sortAccounts")},customSortsBms(t,e,a){return this.customSorts(t,e,a,"sort-bms-key","sort-bms-value","bms/sortBms")},customSortsAdAccounts(t,e,a){return this.customSorts(t,e,a,"sort-cabs-key","sort-cabs-value","cabs/sortCabs")},customSortsTiktokAccounts(t,e,a){return this.customSorts(t,e,a,"sort-accounts-key","sort-accounts-value","tiktokAdsmanagerAccounts/sortAccounts")},customSortsTiktokAdAccounts(t,e,a){return this.customSorts(t,e,a,"sort-ad_accounts-key","sort-ad_accounts-value","tiktokAdsmanagerAdAccounts/sortAdAccounts")},customSortsTiktokCampaigns(t,e,a){return this.customSorts(t,e,a,"sort-campaigns-key","sort-campaigns-value","tiktokAdsmanagerCampaigns/sortCampaigns")},customSortsTiktokAdsets(t,e,a){return this.customSorts(t,e,a,"sort-adsets-key","sort-adsets-value","tiktokAdsmanagerAdsets/sortAdsets")},customSortsTiktokAds(t,e,a){return this.customSorts(t,e,a,"sort-ad-key","sort-ad-value","tiktokAdsmanagerAds/sortAds")},customSortsUsers(t,e,a){return this.customSorts(t,e,a,"sort-users-key","sort-users-value","users/sortUsers")},customSortsRules(t,e,a){return this.customSorts(t,e,a,"sort-rules-key","sort-rules-value","rules/sortRules")},customSortsProxies(t,e,a){return this.customSorts(t,e,a,"sort-proxies-key","sort-proxies-value","proxy/sortProxies")}}}},"45b8":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var s=a("78ef"),o=(0,s.regex)("numeric",/^[0-9]*$/);e.default=o},"463d":function(t,e,a){},"46bc":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var s=a("78ef"),o=function(t){return(0,s.withParams)({type:"maxValue",max:t},(function(e){return!(0,s.req)(e)||(!/\s/.test(e)||e instanceof Date)&&+e<=+t}))};e.default=o},"48ee":function(t,e,a){},"4c55":function(t,e,a){"use strict";a("2f88")},"4ca6":function(t,e,a){"use strict";a("ff44");var s=a("132d"),o=a("a9ad"),i=a("7560"),n=a("f2e7"),r=a("f40d"),l=a("fe6c"),c=a("58df"),d=a("80d2");e["a"]=Object(c["a"])(o["a"],Object(l["b"])(["left","bottom"]),i["a"],n["a"],r["a"]).extend({name:"v-badge",props:{avatar:Boolean,bordered:Boolean,color:{type:String,default:"primary"},content:{required:!1},dot:Boolean,label:{type:String,default:"$vuetify.badge"},icon:String,inline:Boolean,offsetX:[Number,String],offsetY:[Number,String],overlap:Boolean,tile:Boolean,transition:{type:String,default:"scale-rotate-transition"},value:{default:!0}},computed:{classes(){return{"v-badge--avatar":this.avatar,"v-badge--bordered":this.bordered,"v-badge--bottom":this.bottom,"v-badge--dot":this.dot,"v-badge--icon":null!=this.icon,"v-badge--inline":this.inline,"v-badge--left":this.left,"v-badge--overlap":this.overlap,"v-badge--tile":this.tile,...this.themeClasses}},computedBottom(){return this.bottom?"auto":this.computedYOffset},computedLeft(){return this.isRtl?this.left?this.computedXOffset:"auto":this.left?"auto":this.computedXOffset},computedRight(){return this.isRtl?this.left?"auto":this.computedXOffset:this.left?this.computedXOffset:"auto"},computedTop(){return this.bottom?this.computedYOffset:"auto"},computedXOffset(){return this.calcPosition(this.offsetX)},computedYOffset(){return this.calcPosition(this.offsetY)},isRtl(){return this.$vuetify.rtl},offset(){return this.overlap?this.dot?8:12:this.dot?2:4},styles(){return this.inline?{}:{bottom:this.computedBottom,left:this.computedLeft,right:this.computedRight,top:this.computedTop}}},methods:{calcPosition(t){return`calc(100% - ${Object(d["h"])(t||this.offset)})`},genBadge(){const t=this.$vuetify.lang,e=this.$attrs["aria-label"]||t.t(this.label),a=this.setBackgroundColor(this.color,{staticClass:"v-badge__badge",style:this.styles,attrs:{"aria-atomic":this.$attrs["aria-atomic"]||"true","aria-label":e,"aria-live":this.$attrs["aria-live"]||"polite",title:this.$attrs.title,role:this.$attrs.role||"status"},directives:[{name:"show",value:this.isActive}]}),s=this.$createElement("span",a,[this.genBadgeContent()]);return this.transition?this.$createElement("transition",{props:{name:this.transition,origin:this.origin,mode:this.mode}},[s]):s},genBadgeContent(){if(this.dot)return;const t=Object(d["r"])(this,"badge");return t||(this.content?String(this.content):this.icon?this.$createElement(s["a"],this.icon):void 0)},genBadgeWrapper(){return this.$createElement("span",{staticClass:"v-badge__wrapper"},[this.genBadge()])}},render(t){const e=[this.genBadgeWrapper()],a=[Object(d["r"])(this)],{"aria-atomic":s,"aria-label":o,"aria-live":i,role:n,title:r,...l}=this.$attrs;return this.inline&&this.left?a.unshift(e):a.push(e),t("span",{staticClass:"v-badge",attrs:l,class:this.classes},a)}})},"4fd4":function(t,e,a){},"5d60":function(t,e,a){"use strict";a("48ee")},"5d75":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var s=a("78ef"),o=/^(?:[A-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[A-z0-9!#$%&'*+/=?^_`{|}~-]+)*|"(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21\x23-\x5b\x5d-\x7f]|[\x01-\x09\x0b\x0c\x0e-\x7f])*")@(?:(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9]{2,}(?:[a-z0-9-]*[a-z0-9])?|\[(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?|[a-z0-9-]*[a-z0-9]:(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21-\x5a\x53-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])+)\])$/i,i=(0,s.regex)("email",o);e.default=i},"5db3":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var s=a("78ef"),o=function(t){return(0,s.withParams)({type:"minLength",min:t},(function(e){return!(0,s.req)(e)||(0,s.len)(e)>=t}))};e.default=o},"5f89":function(t,e,a){"use strict";e["a"]={methods:{hasValidationInvalid(t,e){if(this.$validation){const{[t]:a}=this.$validation;if(a&&a[e])return a[e].$invalid}return!1},hasSpecificInvalid(t,e,a){if(this.$validation){const{[t]:s}=this.$validation;if(s&&s[e]&&s[e][a])return s[e][a].$invalid}return!1},hasSpecificError(t,e,a){if(this.$validation){const{[t]:s}=this.$validation;if(s&&s[e]&&"undefined"!==typeof s[e][a])return s[e][a]}return!0},hasSingleValidationInvalid(t){if(this.$validation){const{[t]:e}=this.$validation;if(e)return e.$invalid}return!1}}}},6231:function(t,e,a){t.exports=a.p+"img/TikTokExtension.96b918f3.png"},6235:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var s=a("78ef"),o=(0,s.regex)("alpha",/^[a-zA-Z]*$/);e.default=o},"63bf":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("tabs"),a(t.componentName,{tag:"component"})],1)},o=[],i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-tabs",{attrs:{centered:"",grow:"",value:t.tabNumber,height:32}},[a("v-tab",{key:"tab-accounts",attrs:{value:0},on:{click:function(e){return t.selectTab("accounts")}}},[a("tabs-badge",{attrs:{"tab-name":"accounts","current-tab-number":t.tabNumber,selected:t.selectedAccounts}})],1),a("v-tab",{key:"tab-ad-accounts",attrs:{value:1},on:{click:function(e){return t.selectTab("ad-accounts")}}},[a("tabs-badge",{attrs:{"tab-name":"ad-accounts","current-tab-number":t.tabNumber,selected:t.selectedAdAccounts}})],1),a("v-tab",{key:"tab-campaigns",attrs:{value:2},on:{click:function(e){return t.selectTab("campaigns")}}},[a("tabs-badge",{attrs:{"tab-name":"campaigns","current-tab-number":t.tabNumber,selected:t.selectedCampaigns}})],1),a("v-tab",{key:"tab-adsets",attrs:{value:3},on:{click:function(e){return t.selectTab("adsets")}}},[a("tabs-badge",{attrs:{"tab-name":"adsets","current-tab-number":t.tabNumber,selected:t.selectedAdsets}})],1),a("v-tab",{key:"tab-ads",attrs:{value:4},on:{click:function(e){return t.selectTab("ads")}}},[a("tabs-badge",{attrs:{"tab-name":"ads","current-tab-number":t.tabNumber,selected:t.selectedAds}})],1)],1)},n=[],r=a("2f62"),l=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"d-flex justify-center align-center",staticStyle:{width:"200px"}},[a("v-badge",{attrs:{color:"red",inline:"",tile:"",content:t.selected.length,value:t.selected.length},scopedSlots:t._u([{key:"badge",fn:function(){return[t._v(" "+t._s(t.selected.length)+" ")]},proxy:!0}])},[t._v(" "+t._s(t.title)+" ")]),t.selected.length?a("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on;return[a("v-btn",t._g({attrs:{"x-small":"",icon:"",color:"grey"},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.clearItems(e)}}},s),[a("v-icon",{attrs:{size:12}},[t._v(" fas fa-times ")])],1)]}}],null,!1,3012143721)},[a("span",[t._v(t._s(t.$t("common.clearSelected")))])]):t._e()],1)},c=[],d={name:"TiktokAdsmanagerTabsBadge",props:{tabName:{type:String,required:!0},currentTabNumber:{type:Number,required:!0},selected:{type:Array,required:!0}},computed:{title(){switch(this.tabName){case"ad-accounts":return this.$t("adsmanager.adAccounts.adAccounts");case"campaigns":return this.$t("adsmanager.tabs.campaigns");case"adsets":return this.$t("common.adsets");case"ads":return this.$t("adsmanager.tabs.ads")}return this.$t("common.accounts")}},methods:{async refreshCurrentList(){switch(this.currentTabNumber){case 1:await this.$store.dispatch("tiktokAdsmanagerAdAccounts/loadMainTableData",{endpoint:"tiktok/adaccounts"});break;case 2:await this.$store.dispatch("tiktokAdsmanagerCampaigns/loadMainTableData",{endpoint:"tiktok/campaigns"});break;case 3:await this.$store.dispatch("tiktokAdsmanagerAdsets/loadMainTableData",{endpoint:"tiktok/adsets"});break;case 4:await this.$store.dispatch("tiktokAdsmanagerAds/loadMainTableData",{endpoint:"tiktok/creatives"});break}},clearItems(){switch(this.tabName){case"ad-accounts":return this.clearAdAccounts();case"campaigns":return this.clearCampaigns();case"adsets":return this.clearAdsets();case"ads":return this.clearAds()}return this.clearAccounts()},async clearAccounts(){await this.$store.dispatch("tiktokAdsmanagerAccounts/clearSelected"),this.refreshCurrentList()},async clearAdAccounts(){await this.$store.dispatch("tiktokAdsmanagerAdAccounts/clearSelected"),this.currentTabNumber>1&&this.refreshCurrentList()},async clearCampaigns(){await this.$store.dispatch("tiktokAdsmanagerCampaigns/clearSelected"),this.currentTabNumber>2&&this.refreshCurrentList()},async clearAdsets(){await this.$store.dispatch("tiktokAdsmanagerAdsets/clearSelected"),this.currentTabNumber>3&&this.refreshCurrentList()},async clearAds(){await this.$store.dispatch("tiktokAdsmanagerAds/clearSelected")}}},u=d,m=a("2877"),h=a("6544"),p=a.n(h),g=a("4ca6"),k=a("8336"),f=a("132d"),b=a("3a2f"),v=Object(m["a"])(u,l,c,!1,null,null,null),A=v.exports;p()(v,{VBadge:g["a"],VBtn:k["a"],VIcon:f["a"],VTooltip:b["a"]});var y={name:"TiktokAdsmanagerTabs",components:{TabsBadge:A},computed:{...Object(r["c"])({selectedAccounts:"tiktokAdsmanagerAccounts/selected",selectedAdAccounts:"tiktokAdsmanagerAdAccounts/selected",selectedCampaigns:"tiktokAdsmanagerCampaigns/selected",selectedAdsets:"tiktokAdsmanagerAdsets/selected",selectedAds:"tiktokAdsmanagerAds/selected"}),tabNumber(){switch(this.$route.params.tab){case"accounts":return 0;case"ad-accounts":return 1;case"campaigns":return 2;case"adsets":return 3;case"ads":return 4;default:return 0}}},watch:{selectedAccounts(t){Array.isArray(t)&&t.length&&(this.selectedAdAccounts.length&&this.$store.dispatch("tiktokAdsmanagerAdAccounts/clearSelected"),this.selectedCampaigns.length&&this.$store.dispatch("tiktokAdsmanagerCampaigns/clearSelected"),this.selectedAdsets.length&&this.$store.dispatch("tiktokAdsmanagerAdsets/clearSelected"),this.selectedAds.length&&this.$store.dispatch("tiktokAdsmanagerAds/clearSelected"))},selectedAdAccounts(t){Array.isArray(t)&&t.length&&(this.selectedCampaigns.length&&this.$store.dispatch("tiktokAdsmanagerCampaigns/clearSelected"),this.selectedAdsets.length&&this.$store.dispatch("tiktokAdsmanagerAdsets/clearSelected"),this.selectedAds.length&&this.$store.dispatch("tiktokAdsmanagerAds/clearSelected"))},selectedCampaigns(t){Array.isArray(t)&&t.length&&(this.selectedAdsets.length&&this.$store.dispatch("tiktokAdsmanagerAdsets/clearSelected"),this.selectedAds.length&&this.$store.dispatch("tiktokAdsmanagerAds/clearSelected"))},selectedAdsets(t){Array.isArray(t)&&t.length&&this.selectedAds.length&&this.$store.dispatch("tiktokAdsmanagerAds/clearSelected")}},methods:{selectTab(t){this.$route.params.tab!==t&&this.$router.push({path:"/tiktok/adsmanager/"+t,params:{tab:t}})}}},_=y,x=a("71a3"),T=a("fe57"),$=Object(m["a"])(_,i,n,!1,null,null,null),D=$.exports;p()($,{VTab:x["a"],VTabs:T["a"]});var C=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticStyle:{padding:"8px"}},[t.dialogs.create?a("create-dialog"):t._e(),t.dialogs.edit?a("edit-dialog"):t._e(),t.dialogs.bulkDeleteConfirm?a("dialogs-bulk-delete-confirm"):t._e(),a("topbar"),a("main-table")],1)},w=[],S=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"d-flex align-center justify-space-between mb-2"},[a("div",[a("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on;return[a("v-btn",t._g({attrs:{small:"",disabled:0===t.selected.length,color:"primary",icon:"",value:t.selected,loading:t.loading},on:{click:t.bulkDelete}},s),[a("v-icon",{attrs:{size:12}},[t._v(" fas fa-trash-alt ")])],1)]}}])},[a("span",[t._v(t._s(t.$t("common.delete")))])]),a("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on;return[a("v-btn",t._g({attrs:{small:"",disabled:0===t.selected.length,color:"primary",icon:"",loading:t.loading},on:{click:t.sync}},s),[a("v-icon",{attrs:{size:16}},[t._v(" sync ")])],1)]}}])},[a("span",[t._v(t._s(t.$t("common.refresh")))])]),t.$vuetify.breakpoint.xs||t.$vuetify.breakpoint.sm?t._e():a("div",{staticStyle:{float:"left"}},[a("tik-tok-accounts-multiple-tokens-check")],1)],1),a("div",{staticClass:"d-flex align-center"},[a("common-stat-date"),a("v-btn",{staticClass:"mr-2",staticStyle:{"min-width":"0"},attrs:{small:"",color:"primary",text:""},on:{click:t.addAccount}},[a("v-icon",{attrs:{size:18}},[t._v(" add ")]),t._v(" "+t._s(t.$t("common.add"))+" "+t._s(t.$t("common.account"))+" ")],1),a("v-text-field",{attrs:{dense:"",clearable:"",outlined:"",label:t.$t("filters.searchByName"),"single-line":"","prepend-inner-icon":"fas fa-search","hide-details":"",value:t.nameSearchText},on:{input:t.filterName}})],1)])},V=[],O=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("date-range-picker",{attrs:{"date-range":t.statDates,ranges:t.ranges,"locale-data":t.localeData,"auto-apply":"","control-container-class":"form-control"},on:{select:t.changeDates},scopedSlots:t._u([{key:"input",fn:function(e){return[a("v-text-field",{staticClass:"centralize-prepend-inner-icon mr-2",staticStyle:{cursor:"pointer"},attrs:{value:t.pickerValue(e),"prepend-inner-icon":"fas fa-calendar",dense:"","hide-details":"","single-line":""}})]}}])})},P=[],j=a("c1df"),I=a.n(j),E=a("bbf5"),M=a.n(E),B={name:"TiktokAdsmanagerCommonStatDate",components:{DateRangePicker:M.a},computed:{...Object(r["c"])({statDates:"tiktokAdsmanager/statDates"}),ranges(){const t=new Date;t.setHours(0,0,0,0);const e=new Date;e.setDate(t.getDate()-1),e.setHours(0,0,0,0);const a=new Date;a.setDate(t.getDate()-7),a.setHours(0,0,0,0);const s=new Date;s.setDate(t.getDate()-14),s.setHours(0,0,0,0);const o=new Date;return o.setDate(t.getDate()-30),o.setHours(0,0,0,0),{[this.$t("common.datePicker.ranges.today")]:[t,t],[this.$t("common.datePicker.ranges.yesterday")]:[e,e],[this.$t("common.datePicker.ranges.last7Days")]:[a,t],[this.$t("common.datePicker.ranges.last14Days")]:[s,t],[this.$t("common.datePicker.ranges.last30Days")]:[o,t],[this.$t("common.datePicker.ranges.thisWeek")]:[I()().startOf("week").toDate(),t],[this.$t("common.datePicker.ranges.lastWeek")]:[I()().subtract(1,"weeks").startOf("week").toDate(),I()().subtract(1,"weeks").endOf("week").toDate()],[this.$t("common.datePicker.ranges.thisMonth")]:[new Date(t.getFullYear(),t.getMonth(),1),t],[this.$t("common.datePicker.ranges.lastMonth")]:[new Date(t.getFullYear(),t.getMonth()-1,1),new Date(t.getFullYear(),t.getMonth(),0)],[this.$t("common.datePicker.ranges.thisYear")]:[new Date(t.getFullYear(),0,1),new Date(t.getFullYear(),11,31)]}},localeData(){return{firstDay:"ru"===localStorage.getItem("language")?1:0,direction:"ltr",format:"yyyy-mm-dd",separator:" - ",applyLabel:"Apply",cancelLabel:"Cancel",weekLabel:"W",customRangeLabel:"Custom Range",daysOfWeek:[this.$t("common.datePicker.daysOfWeek.sun"),this.$t("common.datePicker.daysOfWeek.mon"),this.$t("common.datePicker.daysOfWeek.tue"),this.$t("common.datePicker.daysOfWeek.wed"),this.$t("common.datePicker.daysOfWeek.thu"),this.$t("common.datePicker.daysOfWeek.fri"),this.$t("common.datePicker.daysOfWeek.sat")],monthNames:[this.$t("common.datePicker.monthNames.jan"),this.$t("common.datePicker.monthNames.feb"),this.$t("common.datePicker.monthNames.mar"),this.$t("common.datePicker.monthNames.apr"),this.$t("common.datePicker.monthNames.may"),this.$t("common.datePicker.monthNames.jun"),this.$t("common.datePicker.monthNames.jul"),this.$t("common.datePicker.monthNames.aug"),this.$t("common.datePicker.monthNames.sep"),this.$t("common.datePicker.monthNames.oct"),this.$t("common.datePicker.monthNames.nov"),this.$t("common.datePicker.monthNames.dec")]}},componentData(){if("undefined"!==typeof this.$route.params.tab)switch(this.$route.params.tab){case"accounts":return{module:"tiktokAdsmanagerAccounts",endpoint:"tiktok/accounts"};case"ad-ccounts":return{module:"tiktokAdsmanagerAdAccounts",endpoint:"tiktok/adaccounts"};case"campaigns":return{module:"tiktokAdsmanagerCampaigns",endpoint:"tiktok/campaigns"};case"adsets":return{module:"tiktokAdsmanagerAdsets",endpoint:"tiktok/adsets"};case"ads":return{module:"tiktokAdsmanagerAds",endpoint:"tiktok/creatives"}}return null}},methods:{pickerValue(t){return I()(t.startDate).format("YYYY-MM-DD")+" - "+I()(t.endDate).format("YYYY-MM-DD")},changeDates(t){const e={startDate:I()(t.startDate).format("YYYY-MM-DD"),endDate:I()(t.endDate).format("YYYY-MM-DD")};if(this.$store.dispatch("tiktokAdsmanager/setStatDates",e),this.componentData){const{module:t,endpoint:a}=this.componentData;this.$store.dispatch(t+"/loadMainTableData",{endpoint:a,...e})}}}},N=B,L=a("8654"),q=Object(m["a"])(N,O,P,!1,null,null,null),R=q.exports;p()(q,{VTextField:L["a"]});var F=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-dialog",{attrs:{"hide-overlay":"",persistent:"",width:"300"},model:{value:t.checkTokenLoading.loading,callback:function(e){t.$set(t.checkTokenLoading,"loading",e)},expression:"checkTokenLoading.loading"}},[a("v-card",{staticClass:"pr-4",attrs:{color:"primary"}},[a("v-card-text",[a("div",{staticStyle:{display:"flex","justify-content":"space-between","align-items":"center","min-height":"40px",color:"white"}},[a("div",[t._v(" "+t._s(t.$t("dialogs.accounts.multipleTokensCheck.title"))+" ")]),a("div",[t._v(" "+t._s(t.checkTokenLoading.done)+" / "+t._s(t.checkTokenLoading.accounts.length)+" ")])]),a("v-progress-linear",{staticClass:"mb-0",attrs:{indeterminate:"",color:"white"}}),a("v-btn",{staticStyle:{position:"absolute",right:"2px",top:"2px"},attrs:{icon:"",small:""},on:{click:function(e){return t.$store.dispatch("tiktokAdsmanagerAccounts/setLoadingOptions",{dialog:"checkTokenLoading",option:"stopRequest",value:!0})}}},[a("v-icon",{attrs:{size:14,color:"white"}},[t._v(" fas fa-times-circle ")])],1)],1)],1)],1),a("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on;return[a("v-btn",t._g({staticStyle:{"min-width":"0",width:"30px","margin-top":"1px"},attrs:{small:"",disabled:0===t.selected.length,color:"primary",text:""},on:{click:t.multipleCheckTokens}},s),[a("v-icon",{attrs:{size:12}},[t._v(" fas fa-code ")])],1)]}}])},[a("span",[t._v(t._s(t.$t("common.checkTokens")))])]),t.$vuetify.breakpoint.xs||t.$vuetify.breakpoint.sm?a("v-btn",{attrs:{color:"primary",text:"",block:"",small:""},on:{click:t.multipleCheckTokens}},[t._v(" "+t._s(t.$t("dialogs.accounts.multipleTokensCheck.title"))+" ")]):t._e()],1)},z=[],W=a("bc3a"),H=a.n(W),Y={name:"TikTokAccountsMultipleTokensCheck",data(){return{}},computed:{...Object(r["c"])({selected:"tiktokAdsmanagerAccounts/selected",checkTokenLoading:"tiktokAdsmanagerAccounts/checkTokenLoading"})},watch:{"checkTokenLoading.stopRequest":{handler(){if(this.checkTokenLoading.stopRequest){for(let t of this.checkTokenLoading.source)t.cancel();this.$store.dispatch("tiktokAdsmanagerAccounts/setLoadingOptions",{dialog:"checkTokenLoading",option:"showLoading",value:!1})}}}},methods:{multipleCheckTokens(){this.checkTokenLoading.requestStatus||confirm(this.$t("common.confirmPlease"))&&(this.$store.dispatch("tiktokAdsmanagerAccounts/setLoadingOptions",{dialog:"checkTokenLoading",option:"requestStatus",value:!0}),this.$store.dispatch("tiktokAdsmanagerAccounts/setLoadingOptions",{dialog:"checkTokenLoading",option:"stopRequest",value:!1}),this.$store.dispatch("tiktokAdsmanagerAccounts/setLoadingOptions",{dialog:"checkTokenLoading",option:"loading",value:!0}),this.$store.dispatch("tiktokAdsmanagerAccounts/setLoadingAccounts"),this.selected&&this.selected.length>0&&(this.$store.dispatch("tiktokAdsmanagerAccounts/setLoadingOptions",{dialog:"checkTokenLoading",option:"accounts",value:this.selected}),this.checkTokenLoading.accounts.forEach((t,e)=>{const a=H.a.CancelToken;let s={dialog:"checkTokenLoading",index:e,source:a.source()};this.$store.dispatch("tiktokAdsmanagerAccounts/setLoadingSource",s),this.api.get(`/tiktok/accounts/${t.id}/check-token/`,{cancelToken:this.checkTokenLoading.source[e].token}).catch(()=>!0).then(t=>{this.$store.dispatch("tiktokAdsmanagerAccounts/setLoadingOptions",{dialog:"checkTokenLoading",option:"done",value:this.checkTokenLoading.done+1}),this.checkTokenLoading.done===this.checkTokenLoading.accounts.length&&(this.$store.dispatch("tiktokAdsmanagerAccounts/setLoadingOptions",{dialog:"checkTokenLoading",option:"done",value:0}),this.$store.dispatch("tiktokAdsmanagerAccounts/setLoadingOptions",{dialog:"checkTokenLoading",option:"requestStatus",value:!1}),this.$store.dispatch("tiktokAdsmanagerAccounts/setLoadingOptions",{dialog:"checkTokenLoading",option:"loading",value:!1}),this.$store.dispatch("tiktokAdsmanagerAccounts/loadMainTableData",{endpoint:"tiktok/accounts"}))})}),this.$store.dispatch("tiktokAdsmanagerAccounts/clearSelected")))}}},U=Y,G=(a("3d4b"),a("b0af")),J=a("99d9"),X=a("169a"),K=a("8e36"),Q=Object(m["a"])(U,F,z,!1,null,"7ef3575d",null),Z=Q.exports;p()(Q,{VBtn:k["a"],VCard:G["a"],VCardText:J["b"],VDialog:X["a"],VIcon:f["a"],VProgressLinear:K["a"],VTooltip:b["a"]});var tt={name:"TiktokAdsmanagerAccountsTopbar",components:{TikTokAccountsMultipleTokensCheck:Z,CommonStatDate:R},data(){return{nameSearchText:"",loading:!1}},computed:{...Object(r["c"])({selected:"tiktokAdsmanagerAccounts/selected"})},methods:{async addAccount(){await this.$store.dispatch("tiktokAdsmanagerAccounts/setSingleAccountData"),this.$store.dispatch("tiktokAdsmanagerAccounts/openDialog","create")},filterName(t){this.nameSearchText=t,setTimeout(async()=>{null===t||0===t.length?await this.$store.dispatch("tiktokAdsmanagerAccounts/loadMainTableData",{endpoint:"tiktok/accounts"}):t===this.nameSearchText&&await this.$store.dispatch("tiktokAdsmanagerAccounts/loadMainTableData",{endpoint:"tiktok/accounts",query:t})},500)},async sync(){try{let t=10,e=I()().utc().subtract(t,"minutes").format("yyyy-MM-DD HH:mm:ss");this.selected.map(a=>{if(a.last_sync>e)throw new Error(this.$t("common.syncAfterFewMinutes",{name:a.name,requiredTime:t}))}),this.loading=!0;const a=this.selected.map(t=>t.id),s=await this.api.post("/tiktok/accounts/sync",{ids:a});if(200!==s.status)throw new Error(this.$t("common.somethingWentWrong"));this.$store.dispatch("main/alert",{color:"success",message:this.$t("adsmanager.accounts.accountsHaveBeenPlacedInSynchronizationQueue")}),this.selected.map(t=>t.last_sync=I()().utc().format("yyyy-MM-DD HH:mm:ss")),this.loading=!1}catch(t){this.loading=!1,this.$store.dispatch("main/alert",{color:"error",message:t.message})}},async bulkDelete(){this.$store.dispatch("tiktokAdsmanagerAccounts/openDialog","bulkDeleteConfirm")}}},et=tt,at=Object(m["a"])(et,S,V,!1,null,null,null),st=at.exports;p()(at,{VBtn:k["a"],VIcon:f["a"],VTextField:L["a"],VTooltip:b["a"]});var ot=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-dialog",{attrs:{value:t.dialogs.create,persistent:"",width:"500",transition:!1},on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"esc",27,e.key,["Esc","Escape"])?null:t.$store.dispatch("tiktokAdsmanagerAccounts/closeDialog","create")}}},[a("v-card",[t.dialogs.howToGetToken?a("dialogs-how-to-get-token"):t._e(),a("dialog-header"),a("v-card-text",[a("v-row",[a("v-col",t._b({},"v-col",t.colsProps,!1),[a("v-text-field",{attrs:{value:t.singleAccountData.name,label:t.$t("adsmanager.accounts.accountName"),outlined:"",dense:"","error-messages":t.hasValidationInvalid("singleAccountData","name")?t.$t("common.required"):null,"hide-details":"auto",spellcheck:!1},on:{input:function(e){return t.setValue("name",e)}}})],1),a("v-col",t._b({},"v-col",t.colsProps,!1),[a("div",{staticClass:"cursor-pointer",on:{click:function(e){return t.$store.dispatch("tiktokAdsmanagerAccounts/openDialog","howToGetToken")}}},[a("v-icon",{staticClass:"mr-1",attrs:{size:"16",color:"primary"}},[t._v(" far fa-question-circle ")]),a("span",{staticClass:"span-link"},[t._v(t._s(t.$t("adsmanager.accounts.howToGetToken")))])],1),a("v-textarea",{attrs:{value:t.singleAccountData.accessToken,label:t.$t("common.access_token"),outlined:"",dense:"",error:t.accessTokenError,"error-messages":t.accessTokenErrorMessage,"hide-details":"auto",spellcheck:!1},on:{input:function(e){return t.setValue("accessToken",e)}}}),t.showAccessTokenAlert?a("v-alert",{staticClass:"mb-0 mt-2",attrs:{text:"",color:"red",dense:""}},[t._v(" "+t._s(t.$t("validation.invalidTiktokAccessToken1"))+" "),a("a",{staticClass:"span-link",attrs:{href:"https://chrome.google.com/webstore/detail/dolphin-tt/ipjboigiejagkjgffdhcmdpkldmjfghe",target:"_blank"}},[t._v(" "+t._s(t.$t("validation.invalidTiktokAccessToken2"))+" ")])]):t._e()],1),a("v-col",t._b({},"v-col",t.colsProps,!1),[a("v-autocomplete",{attrs:{value:t.singleAccountData.proxyId,label:t.$t("common.proxy"),outlined:"",dense:"","hide-details":"","item-text":t.proxyName,"item-value":function(t){return t.id},items:t.proxyItems},on:{input:t.setProxy}})],1)],1)],1),a("v-divider"),a("dialog-actions")],1)],1)},it=[],nt=a("5f89"),rt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-dialog",{attrs:{value:t.dialogs.howToGetToken,width:"500",transition:!1,scrollable:""},on:{"click:outside":t.closeDialog,keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"esc",27,e.key,["Esc","Escape"])?null:t.closeDialog(e)}}},[a("v-card",[a("v-toolbar",{staticClass:"mb-5",attrs:{height:48,dark:"",color:"primary",flat:""}},[a("v-toolbar-title",[t._v(" "+t._s(t.$t("adsmanager.accounts.howToGetToken"))+" ")]),a("v-spacer"),a("v-toolbar-items",[a("v-btn",{attrs:{icon:""},on:{click:t.closeDialog}},[a("v-icon",[t._v(" fas fa-times ")])],1)],1)],1),a("v-card-text",[a("v-dialog",{attrs:{transition:!1,scrollable:""},model:{value:t.imageDialog,callback:function(e){t.imageDialog=e},expression:"imageDialog"}},[a("v-card",[a("v-toolbar",{staticClass:"mb-5",attrs:{height:48,dark:"",color:"primary",flat:""}},[a("v-spacer"),a("v-toolbar-items",[a("v-btn",{attrs:{icon:""},on:{click:function(e){t.imageDialog=!1}}},[a("v-icon",[t._v(" fas fa-times ")])],1)],1)],1),a("v-card-text",[a("v-img",{staticClass:"opened-image",attrs:{src:t.tikTokExtension}})],1)],1)],1),a("v-alert",[a("p",[t._v(t._s(t.$t("adsmanager.accounts.toGetATikTokToken.title")))]),a("ul",[a("li",[t._v(" "+t._s(t.$t("adsmanager.accounts.toGetATikTokToken.1"))+" "),a("a",{attrs:{href:"https://chrome.google.com/webstore/detail/dolphin-tt/ipjboigiejagkjgffdhcmdpkldmjfghe",target:"_blank"}},[t._v("("+t._s(t.$t("adsmanager.accounts.toGetATikTokToken.link"))+")")])]),a("li",[t._v(t._s(t.$t("adsmanager.accounts.toGetATikTokToken.2")))]),a("li",[t._v(t._s(t.$t("adsmanager.accounts.toGetATikTokToken.3")))])])]),a("v-img",{staticClass:"cursor-pointer",attrs:{src:t.tikTokExtensionSmall},on:{click:function(e){t.imageDialog=!0}}})],1),a("v-divider"),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{text:"",color:"primary"},on:{click:t.closeDialog}},[t._v(" "+t._s(t.$t("common.close"))+" ")])],1)],1)],1)},lt=[],ct={name:"TiktokAdsmanagerAccountsDialogsHowToGetToken",data(){return{imageDialog:!1,tikTokExtension:a("6231"),tikTokExtensionSmall:a("a4b8")}},computed:{...Object(r["c"])({dialogs:"tiktokAdsmanagerAccounts/dialogs"})},methods:{closeDialog(){this.$store.dispatch("tiktokAdsmanagerAccounts/closeDialog","howToGetToken")}}},dt=ct,ut=(a("4c55"),a("0798")),mt=a("ce7e"),ht=a("adda"),pt=a("2fa4"),gt=a("71d9"),kt=a("2a7f"),ft=Object(m["a"])(dt,rt,lt,!1,null,null,null),bt=ft.exports;p()(ft,{VAlert:ut["a"],VBtn:k["a"],VCard:G["a"],VCardActions:J["a"],VCardText:J["b"],VDialog:X["a"],VDivider:mt["a"],VIcon:f["a"],VImg:ht["a"],VSpacer:pt["a"],VToolbar:gt["a"],VToolbarItems:kt["a"],VToolbarTitle:kt["b"]});var vt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{text:"",color:"grey"},on:{click:t.closeDialog}},[t._v(" "+t._s(t.$t("common.close"))+" ")]),a("v-btn",{attrs:{text:"",color:"primary",loading:t.loading},on:{click:t.touch}},[t._v(" "+t._s(t.$t("common.add"))+" ")])],1)},At=[];const yt=t=>{try{const e=window.atob(t),a=JSON.parse(e),{cookies:s,useragent:o,timezone:i,browser_name:n,browser_version:r,browser_platform:l,browser_language:c,screen_width:d,screen_height:u}=a;return!!s&&!!o&&!!i&&!!n&&!!r&&!!l&&!!c&&!!d&&!!u}catch(e){return!1}};var _t=a("b5ae"),xt={name:"TiktokAdsmanagerCreateDialogActions",data(){return{loading:!1}},validations(){const t={name:{required:_t["required"]},accessToken:{required:_t["required"],tiktokAccessTokenValidation:yt}};return{singleAccountData:t}},computed:{...Object(r["c"])({singleAccountData:"tiktokAdsmanagerAccounts/singleAccountData",$validation:"tiktokAdsmanagerAccounts/$validation"})},watch:{singleAccountData:{deep:!0,handler(){this.$validation&&this.$store.dispatch("tiktokAdsmanagerAccounts/setValidation",null)}}},methods:{closeDialog(){this.$store.dispatch("tiktokAdsmanagerAccounts/closeDialog","create")},touch(){this.$v.$touch(),this.$v.$invalid?this.$store.dispatch("tiktokAdsmanagerAccounts/setValidation",this.$v):this.add()},async add(){try{this.loading=!0;const t={name:this.singleAccountData.name,access_token:this.singleAccountData.accessToken,proxy_id:this.singleAccountData.proxyId},e=await this.api.post("/tiktok/accounts",t);if(201!==e.status)throw new Error("status not 201");this.$store.dispatch("main/alert",{color:"success",message:this.$t("common.success")}),this.$store.dispatch("tiktokAdsmanagerAccounts/loadMainTableData",{endpoint:"tiktok/accounts"}),this.closeDialog()}catch(t){this.loading=!1,this.$store.dispatch("main/apiError",JSON.stringify(t.response.data.errors))}}}},Tt=xt,$t=Object(m["a"])(Tt,vt,At,!1,null,null,null),Dt=$t.exports;p()($t,{VBtn:k["a"],VCardActions:J["a"],VSpacer:pt["a"]});var Ct=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-toolbar",{staticClass:"dialog-header-toolbar",attrs:{color:"primary",flat:"",dark:"",dense:""}},[a("v-toolbar-title",[t._v(t._s(t.$t("dialogs.accounts.singleAdd.title")))]),a("v-spacer"),a("v-toolbar-items",[a("v-btn",{attrs:{icon:""},on:{click:t.closeDialog}},[a("v-icon",[t._v(" fas fa-times ")])],1)],1)],1)},wt=[],St={name:"TiktokAdsmanagerCreateDialogHeader",methods:{closeDialog(){this.$store.dispatch("tiktokAdsmanagerAccounts/closeDialog","create")}}},Vt=St,Ot=Object(m["a"])(Vt,Ct,wt,!1,null,null,null),Pt=Ot.exports;p()(Ot,{VBtn:k["a"],VIcon:f["a"],VSpacer:pt["a"],VToolbar:gt["a"],VToolbarItems:kt["a"],VToolbarTitle:kt["b"]});var jt={name:"TiktokAdsmanagerCreateDialog",components:{DialogHeader:Pt,DialogActions:Dt,DialogsHowToGetToken:bt},mixins:[nt["a"]],data(){return{colsProps:{cols:"12"}}},computed:{...Object(r["c"])({dialogs:"tiktokAdsmanagerAccounts/dialogs",singleAccountData:"tiktokAdsmanagerAccounts/singleAccountData",$validation:"tiktokAdsmanagerAccounts/$validation",proxy:"proxy/proxy"}),accessTokenErrorMessage(){return this.hasSpecificError("singleAccountData","accessToken","required")?null:this.$t("common.required")},accessTokenError(){return!this.hasSpecificError("singleAccountData","accessToken","required")||!this.hasSpecificError("singleAccountData","accessToken","tiktokAccessTokenValidation")},showAccessTokenAlert(){return!(!this.hasSpecificError("singleAccountData","accessToken","required")||this.hasSpecificError("singleAccountData","accessToken","tiktokAccessTokenValidation"))},proxyItems(){const t=[{name:this.$t("common.proxyNo"),id:null}];return t.concat(this.proxy.all)}},created(){this.getProxies()},destroyed(){this.$store.dispatch("tiktokAdsmanagerAccounts/clearSingleAccountData"),this.$store.dispatch("tiktokAdsmanagerAccounts/setValidation",null)},methods:{async getProxies(){0===this.proxy.all.length&&await this.$store.dispatch("proxy/loadProxy");const t=localStorage.getItem("dolphinTiktokAdsmanagerAccountsCreateProxyId");t&&"null"!==t&&this.proxy.all.findIndex(e=>e.id===t)>-1&&this.setValue("proxyId",t)},setValue(t,e){this.$store.dispatch("tiktokAdsmanagerAccounts/setSingleAccountDataProperty",{key:t,value:e})},setProxy(t){this.setValue("proxyId",t),localStorage.setItem("dolphinTiktokAdsmanagerAccountsCreateProxyId",t)},proxyName(t){const{name:e,host:a,port:s,type:o,login:i,password:n}=t;if(e)return e;{let t=`${o}://${a}:${s}`;return i&&n&&(t+=`@${i}:${n}`),t}}}},It=jt,Et=a("c6a6"),Mt=a("62ad"),Bt=a("0fd9"),Nt=a("a844"),Lt=Object(m["a"])(It,ot,it,!1,null,null,null),qt=Lt.exports;p()(Lt,{VAlert:ut["a"],VAutocomplete:Et["a"],VCard:G["a"],VCardText:J["b"],VCol:Mt["a"],VDialog:X["a"],VDivider:mt["a"],VIcon:f["a"],VRow:Bt["a"],VTextField:L["a"],VTextarea:Nt["a"]});var Rt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-dialog",{attrs:{value:t.dialogs.bulkDeleteConfirm,width:"500",transition:!1,scrollable:""},on:{"click:outside":t.closeDialog,keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"esc",27,e.key,["Esc","Escape"])?null:t.closeDialog(e)}}},[a("v-card",[a("v-toolbar",{staticClass:"mb-5",attrs:{height:48,dark:"",color:"primary",flat:""}},[a("v-toolbar-title",[t._v(" "+t._s(t.$tc("adsmanager.accounts.deleteNAccounts",t.selected.length,{length:t.selected.length}))+" ")]),a("v-spacer"),a("v-toolbar-items",[a("v-btn",{attrs:{icon:""},on:{click:t.closeDialog}},[a("v-icon",[t._v(" fas fa-times ")])],1)],1)],1),a("v-card-text",[a("v-data-table",{attrs:{headers:t.headers,"hide-default-header":"","hide-default-footer":"",items:t.selected,"items-per-page":-1},scopedSlots:t._u([{key:"item.name",fn:function(e){var s=e.item;return[a("span",{staticClass:"px-2"},[t._v(" "+t._s(s.name)+" ")])]}}],null,!0)})],1),a("v-divider"),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{text:"",color:"grey"},on:{click:t.closeDialog}},[t._v(" "+t._s(t.$t("common.close"))+" ")]),a("v-btn",{attrs:{text:"",color:"red",loading:t.loading},on:{click:t.bulkDelete}},[t._v(" "+t._s(t.$t("common.delete"))+" ")])],1)],1)],1)},Ft=[],zt={name:"TiktokAdsmanagerAccountsDialogsBulkDeleteConfirm",data(){return{loading:!1}},computed:{...Object(r["c"])({dialogs:"tiktokAdsmanagerAccounts/dialogs",selected:"tiktokAdsmanagerAccounts/selected"}),headers(){return[{text:this.$t("common.name"),value:"name",sortable:!1}]}},methods:{closeDialog(){this.$store.dispatch("tiktokAdsmanagerAccounts/closeDialog","bulkDeleteConfirm")},async bulkDelete(){try{this.loading=!0;const t=this.selected.map(t=>t.id),e=await this.api.delete("/tiktok/accounts",{params:{ids:t}});if(200!==e.status)throw new Error("status not 200");await this.$store.dispatch("tiktokAdsmanagerAccounts/loadMainTableData",{endpoint:"tiktok/accounts"}),await this.$store.dispatch("main/alert",{color:"success",message:this.$t("dialogs.accounts.delete.success")}),this.loading=!1,await this.$store.dispatch("tiktokAdsmanagerAccounts/clearSelected"),this.closeDialog()}catch(t){this.loading=!1,this.$store.dispatch("main/alert",{color:"error",message:this.$t("common.somethingWentWrong")})}}}},Wt=zt,Ht=a("8fea"),Yt=Object(m["a"])(Wt,Rt,Ft,!1,null,null,null),Ut=Yt.exports;p()(Yt,{VBtn:k["a"],VCard:G["a"],VCardActions:J["a"],VCardText:J["b"],VDataTable:Ht["a"],VDialog:X["a"],VDivider:mt["a"],VIcon:f["a"],VSpacer:pt["a"],VToolbar:gt["a"],VToolbarItems:kt["a"],VToolbarTitle:kt["b"]});var Gt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-dialog",{attrs:{value:t.dialogs.edit,persistent:"",width:"500",transition:!1},on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"esc",27,e.key,["Esc","Escape"])?null:t.$store.dispatch("tiktokAdsmanagerAccounts/closeDialog","edit")}}},[a("v-card",[t.dialogs.howToGetToken?a("dialogs-how-to-get-token"):t._e(),a("dialog-header"),a("v-card-text",[a("v-row",[a("v-col",t._b({},"v-col",t.colsProps,!1),[a("v-text-field",{attrs:{value:t.singleAccountData.name,label:t.$t("adsmanager.accounts.accountName"),outlined:"",dense:"","error-messages":t.hasValidationInvalid("singleAccountData","name")?t.$t("common.required"):null,"hide-details":"auto",spellcheck:!1},on:{input:function(e){return t.setValue("name",e)}}})],1),a("v-col",t._b({},"v-col",t.colsProps,!1),[a("div",{staticClass:"cursor-pointer",on:{click:function(e){return t.$store.dispatch("tiktokAdsmanagerAccounts/openDialog","howToGetToken")}}},[a("v-icon",{staticClass:"mr-1",attrs:{size:"16",color:"primary"}},[t._v(" far fa-question-circle ")]),a("span",{staticClass:"span-link"},[t._v(t._s(t.$t("adsmanager.accounts.howToGetToken")))])],1),a("v-textarea",{attrs:{value:t.singleAccountData.accessToken,label:t.$t("common.access_token"),outlined:"",dense:"",error:t.accessTokenError,"error-messages":t.accessTokenErrorMessage,"hide-details":"auto",spellcheck:!1},on:{input:function(e){return t.setValue("accessToken",e)}}}),t.showAccessTokenAlert?a("v-alert",{staticClass:"mb-0 mt-2",attrs:{text:"",color:"red",dense:""}},[t._v(" "+t._s(t.$t("validation.invalidTiktokAccessToken1"))+" "),a("a",{staticClass:"span-link",attrs:{href:"https://chrome.google.com/webstore/detail/dolphin-tt/ipjboigiejagkjgffdhcmdpkldmjfghe",target:"_blank"}},[t._v(" "+t._s(t.$t("validation.invalidTiktokAccessToken2"))+" ")])]):t._e()],1),a("v-col",t._b({},"v-col",t.colsProps,!1),[a("v-autocomplete",{attrs:{value:t.singleAccountData.proxyId,label:t.$t("common.proxy"),outlined:"",dense:"","hide-details":"","item-text":t.proxyName,"item-value":function(t){return t.id},items:t.proxyItems},on:{input:function(e){return t.setValue("proxyId",e)}}})],1)],1)],1),a("v-divider"),a("dialog-actions")],1)],1)},Jt=[],Xt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{text:"",color:"grey"},on:{click:t.closeDialog}},[t._v(" "+t._s(t.$t("common.close"))+" ")]),a("v-btn",{attrs:{text:"",color:"primary",loading:t.loading},on:{click:t.touch}},[t._v(" "+t._s(t.$t("common.save"))+" ")])],1)},Kt=[],Qt={name:"TiktokAdsmanagerCreateDialogActions",data(){return{loading:!1}},validations(){const t={name:{required:_t["required"]},accessToken:{required:_t["required"],tiktokAccessTokenValidation:yt}};return{singleAccountData:t}},computed:{...Object(r["c"])({singleAccountData:"tiktokAdsmanagerAccounts/singleAccountData",$validation:"tiktokAdsmanagerAccounts/$validation"})},watch:{singleAccountData:{deep:!0,handler(){this.$validation&&this.$store.dispatch("tiktokAdsmanagerAccounts/setValidation",null)}}},methods:{closeDialog(){this.$store.dispatch("tiktokAdsmanagerAccounts/closeDialog","edit")},touch(){this.$v.$touch(),this.$v.$invalid?this.$store.dispatch("tiktokAdsmanagerAccounts/setValidation",this.$v):this.save()},async save(){try{this.loading=!0;const t={name:this.singleAccountData.name,access_token:this.singleAccountData.accessToken,proxy_id:this.singleAccountData.proxyId},e=await this.api.patch("/tiktok/accounts/"+this.singleAccountData.id,t);if(200!==e.status)throw new Error("status not 200");this.$store.dispatch("main/alert",{color:"success",message:this.$t("common.success")}),this.$store.dispatch("tiktokAdsmanagerAccounts/loadMainTableData",{endpoint:"tiktok/accounts"}),this.closeDialog()}catch(t){this.loading=!1,this.$store.dispatch("main/alert",{color:"error",message:this.$t("common.somethingWentWrong")})}}}},Zt=Qt,te=Object(m["a"])(Zt,Xt,Kt,!1,null,null,null),ee=te.exports;p()(te,{VBtn:k["a"],VCardActions:J["a"],VSpacer:pt["a"]});var ae=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-toolbar",{staticClass:"dialog-header-toolbar",attrs:{color:"primary",flat:"",dark:"",dense:""}},[a("v-toolbar-title",[t._v(t._s(t.$t("common.edit")))]),a("v-spacer"),a("v-toolbar-items",[a("v-btn",{attrs:{icon:""},on:{click:t.closeDialog}},[a("v-icon",[t._v(" fas fa-times ")])],1)],1)],1)},se=[],oe={name:"TiktokAdsmanagerEditDialogHeader",methods:{closeDialog(){this.$store.dispatch("tiktokAdsmanagerAccounts/closeDialog","edit")}}},ie=oe,ne=Object(m["a"])(ie,ae,se,!1,null,null,null),re=ne.exports;p()(ne,{VBtn:k["a"],VIcon:f["a"],VSpacer:pt["a"],VToolbar:gt["a"],VToolbarItems:kt["a"],VToolbarTitle:kt["b"]});var le={name:"TiktokAdsmanagerEditDialog",components:{DialogHeader:re,DialogActions:ee,DialogsHowToGetToken:bt},mixins:[nt["a"]],data(){return{colsProps:{cols:"12"}}},computed:{...Object(r["c"])({dialogs:"tiktokAdsmanagerAccounts/dialogs",singleAccountData:"tiktokAdsmanagerAccounts/singleAccountData",$validation:"tiktokAdsmanagerAccounts/$validation",proxy:"proxy/proxy"}),accessTokenErrorMessage(){return this.hasSpecificError("singleAccountData","accessToken","required")?null:this.$t("common.required")},accessTokenError(){return!this.hasSpecificError("singleAccountData","accessToken","required")||!this.hasSpecificError("singleAccountData","accessToken","tiktokAccessTokenValidation")},showAccessTokenAlert(){return!(!this.hasSpecificError("singleAccountData","accessToken","required")||this.hasSpecificError("singleAccountData","accessToken","tiktokAccessTokenValidation"))},proxyItems(){const t=[{name:this.$t("common.proxyNo"),id:null}];return t.concat(this.proxy.all)}},created(){0===this.proxy.all.length&&this.$store.dispatch("proxy/loadProxy")},destroyed(){this.$store.dispatch("tiktokAdsmanagerAccounts/clearSingleAccountData"),this.$store.dispatch("tiktokAdsmanagerAccounts/setValidation",null)},methods:{setValue(t,e){this.$store.dispatch("tiktokAdsmanagerAccounts/setSingleAccountDataProperty",{key:t,value:e})},proxyName(t){const{name:e,host:a,port:s,type:o,login:i,password:n}=t;if(e)return e;{let t=`${o}://${a}:${s}`;return i&&n&&(t+=`@${i}:${n}`),t}}}},ce=le,de=Object(m["a"])(ce,Gt,Jt,!1,null,null,null),ue=de.exports;p()(de,{VAlert:ut["a"],VAutocomplete:Et["a"],VCard:G["a"],VCardText:J["b"],VCol:Mt["a"],VDialog:X["a"],VDivider:mt["a"],VIcon:f["a"],VRow:Bt["a"],VTextField:L["a"],VTextarea:Nt["a"]});var me=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",[a("v-card-text",{staticStyle:{padding:"0px 8px 0px 8px"}},[a("v-data-table",{staticClass:"tiktok-data-table",attrs:{items:t.mainTableData,"items-per-page":t.footerOptions.itemsPerPage,headers:t.cols,"fixed-header":"",height:t.innerHeight-160,"show-select":"",loading:t.mainTableLoading,"hide-default-footer":"","custom-sort":t.customSortsTiktokAccounts},scopedSlots:t._u([{key:"header.data-table-select",fn:function(){return[a("v-simple-checkbox",{staticClass:"px-2",attrs:{ripple:!1,value:!!t.selected.length&&t.mainTableData.length===t.selected.length,indeterminate:!!t.selected.length&&t.mainTableData.length!==t.selected.length},on:{input:t.selectAll}})]},proxy:!0},{key:"body",fn:function(e){var s=e.items;return[a("tbody",t._l(s,(function(e){return a("tr",{key:"TiktokAdsmanagerAccountsMainTableRow-"+e.id},[a("td",[a("v-simple-checkbox",{staticClass:"px-2",attrs:{ripple:!1,value:t.selected.findIndex((function(t){return t.id===e.id}))>-1},on:{input:function(a){return t.selectItem(e,a)}}})],1),a("main-table-name",{attrs:{item:e}}),a("main-table-status",{attrs:{item:e}}),a("main-table-sync",{attrs:{item:e}}),t._l(t.aggregateColumns,(function(s){return a("td",{key:"TiktokAdsmanagerAccountsMainTableDataCell-"+s,staticClass:"text-center"},[t._v(" "+t._s(t.statCellData(e,s))+" ")])}))],2)})),0)]}},{key:"footer",fn:function(){return[a("main-table-footer",{attrs:{"footer-options":t.footerOptions,"footer-pagination":t.footerPagination}})]},proxy:!0}],null,!0),model:{value:t.selected,callback:function(e){t.selected=e},expression:"selected"}})],1)],1)},he=[],pe=a("4367"),ge=a("3659"),ke={methods:{statCellData(t,e){return t.stats[e]?t.stats[e]:0},selectItem(t,e){e?this.selected.push(t):this.selected=this.selected.filter(e=>e.id!==t.id)},selectAll(t){this.selected=t?this.mainTableData:[]}}},fe=a("5935"),be=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-data-footer",{attrs:{"show-first-last-page":"",options:t.footerOptions,pagination:t.footerPagination,"items-per-page-options":[10,30,50,100]},on:{"update:options":t.updateFooterOptions}})},ve=[],Ae={name:"TiktokAdsmanagerAccountsMainTableFooter",props:{footerOptions:{type:Object,required:!0},footerPagination:{type:Object,required:!0}},methods:{updateFooterOptions({page:t,itemsPerPage:e}){this.$store.dispatch("tiktokAdsmanagerAccounts/loadMainTableData",{endpoint:"tiktok/accounts",page:t,itemsPerPage:e})}}},ye=Ae,_e=a("f41f"),xe=Object(m["a"])(ye,be,ve,!1,null,null,null),Te=xe.exports;p()(xe,{VDataFooter:_e["a"]});var $e=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("td",[a("span",{staticClass:"span-link",on:{click:function(e){return t.editAccount(t.item)}}},[t._v(t._s(t.item.name))])])},De=[],Ce={name:"TiktokAdsmanagerAccountsMainTableName",props:{item:{type:Object,required:!0}},methods:{async editAccount(t){await this.$store.dispatch("tiktokAdsmanagerAccounts/setSingleAccountData",t),this.$store.dispatch("tiktokAdsmanagerAccounts/openDialog","edit")}}},we=Ce,Se=Object(m["a"])(we,$e,De,!1,null,null,null),Ve=Se.exports,Oe=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("td",[a("v-chip",{staticClass:"ml-1",attrs:{color:t.getColor,small:"",label:"",outlined:""}},[t._v(" "+t._s(t.status)+" ")])],1)},Pe=[];function je(t){switch(t.toLowerCase()){case"new":return"orange";case"inactive":return"orange";case"active":return"success";case"token_error":return"red"}}var Ie={name:"TiktokAdsmanagerAccountsMainTableStatus",props:{item:{type:Object,required:!0}},data(){return{getStatusChipColor:je}},computed:{status(){return"ACTIVE"===this.item.status&&this.item.api_token||"TOKEN_ERROR"===this.item.status||"NEW"===this.item.status?this.item.status:"NEW"},getColor(){return"TOKEN_ERROR"===this.status?"red":"ACTIVE"===this.status?"green":"orange"}}},Ee=Ie,Me=a("cc20"),Be=Object(m["a"])(Ee,Oe,Pe,!1,null,null,null),Ne=Be.exports;p()(Be,{VChip:Me["a"]});var Le=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("td",[a("span",{staticClass:"ml-1"},[t._v(t._s(t.item.last_sync?t.item.last_sync:t.$t("adsmanager.accounts.inSynchronizationQueue")))])])},qe=[],Re={name:"TiktokAdsmanagerAccountsMainTableSync",props:{item:{type:Object,required:!0}}},Fe=Re,ze=Object(m["a"])(Fe,Le,qe,!1,null,null,null),We=ze.exports,He={name:"TiktokAdsmanagerAccountsMainTable",components:{MainTableName:Ve,MainTableStatus:Ne,MainTableFooter:Te,MainTableSync:We},mixins:[ge["a"],ke,pe["a"]],computed:{...Object(r["c"])({innerHeight:"main/innerHeight",mainTableData:"tiktokAdsmanagerAccounts/mainTableData",mainTableLoading:"tiktokAdsmanagerAccounts/mainTableLoading",mainTablePagination:"tiktokAdsmanagerAccounts/mainTablePagination",aggregateColumns:"tiktokAdsmanager/aggregateColumns"}),...Object(fe["b"])("tiktokAdsmanagerAccounts",["selected"]),cols(){const t=[{text:this.$t("common.name"),value:"name",width:200},{text:this.$t("common.status"),value:"status",width:150},{text:this.$t("adsmanager.accounts.last_sync"),value:"last_sync",sortable:!1}];if(this.aggregateColumns)for(const e of this.aggregateColumns)t.push({text:this.$t("adsmanager.cols.tiktok."+e),value:"stat-"+e,sortable:!1,align:"center",width:150});return t}}},Ye=He,Ue=a("9e88"),Ge=Object(m["a"])(Ye,me,he,!1,null,null,null),Je=Ge.exports;p()(Ge,{VCard:G["a"],VCardText:J["b"],VDataTable:Ht["a"],VSimpleCheckbox:Ue["a"]});var Xe=a("6821"),Ke=a.n(Xe),Qe={name:"TiktokAdsManagerAccounts",components:{MainTable:Je,Topbar:st,CreateDialog:qt,EditDialog:ue,DialogsBulkDeleteConfirm:Ut},data(){return{updateInterval:null}},computed:{...Object(r["c"])({dialogs:"tiktokAdsmanagerAccounts/dialogs"})},created(){this.$store.dispatch("tiktokAdsmanagerAccounts/loadMainTableData",{endpoint:"tiktok/accounts"})},destroyed(){clearInterval(this.updateInterval)},methods:{async readClipboard(){if(document.hasFocus()){for(const t of Object.values(this.dialogs))if(t)return;try{const t=await navigator.clipboard.readText(),e=Ke()(t),a=localStorage.getItem("hashedAccountAccessToken");!yt(t)||null!==a&&a===e||(await this.$store.dispatch("tiktokAdsmanagerAccounts/setSingleAccountData",{access_token:t}),this.$store.dispatch("tiktokAdsmanagerAccounts/openDialog","create"),localStorage.setItem("hashedAccountAccessToken",e))}catch(t){console.log(t)}}}}},Ze=Qe,ta=Object(m["a"])(Ze,C,w,!1,null,null,null),ea=ta.exports,aa=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticStyle:{padding:"8px"}},[t.dialogs.createPixel?a("dialogs-create-pixel"):t._e(),a("topbar"),a("main-table")],1)},sa=[],oa=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"d-flex align-center justify-space-between mb-2"},[a("div",[a("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on;return[a("v-btn",t._g({attrs:{small:"",color:"primary",disabled:0===t.selected.length,text:"",icon:""},on:{click:function(e){return t.$router.push({path:"/tiktok/create-ads/wizard?adAccounts="+t.selectedAdAccountsIds})}}},s),[a("v-icon",{attrs:{size:14}},[t._v(" fas fa-cloud-upload-alt ")])],1)]}}])},[a("span",[t._v(t._s(t.$t("common.createAd")))])]),a("v-menu",{attrs:{"offset-y":"","open-on-hover":"","close-on-content-click":""},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on;return[a("v-btn",t._g({attrs:{disabled:0===t.selected.length,small:"",color:"primary",icon:""}},s),[a("v-icon",{attrs:{size:12}},[t._v(" fas fa-ellipsis-v ")])],1)]}}])},[a("v-list",[a("v-list-item",{attrs:{dense:""},on:{click:t.createPixel}},[a("v-list-item-title",[t._v(t._s(t.$t("adsmanager.cabs.actions.createPixel")))])],1)],1)],1)],1),a("div",{staticClass:"d-flex align-center "},[a("common-stat-date"),a("v-text-field",{attrs:{dense:"",clearable:"",outlined:"",label:t.$t("filters.searchByNameOrID"),"single-line":"","prepend-inner-icon":"fas fa-search","hide-details":"",value:t.searchText},on:{input:t.filterName}})],1)])},ia=[],na={name:"TiktokAdsmanagerAdAccountsTopbar",components:{CommonStatDate:R},data(){return{searchText:"",loading:!1}},computed:{...Object(r["c"])({selected:"tiktokAdsmanagerAdAccounts/selected"}),selectedAdAccountsIds(){return this.selected.map(t=>t.id).join()}},methods:{createPixel(){this.$store.dispatch("tiktokAdsmanagerAdAccounts/openDialog","createPixel")},filterName(t){this.searchText=t,setTimeout(async()=>{t===this.searchText&&await this.$store.dispatch("tiktokAdsmanagerAdAccounts/loadMainTableData",{endpoint:"tiktok/adaccounts",query:t})},500)}}},ra=na,la=a("8860"),ca=a("da13"),da=a("5d23"),ua=a("e449"),ma=Object(m["a"])(ra,oa,ia,!1,null,null,null),ha=ma.exports;p()(ma,{VBtn:k["a"],VIcon:f["a"],VList:la["a"],VListItem:ca["a"],VListItemTitle:da["c"],VMenu:ua["a"],VTextField:L["a"],VTooltip:b["a"]});var pa=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-dialog",{attrs:{value:t.dialogs.createPixel,width:"950",transition:!1,scrollable:""},on:{"click:outside":t.closeDialog,keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"esc",27,e.key,["Esc","Escape"])?null:t.closeDialog(e)}}},[a("v-dialog",{attrs:{width:"700",scrollable:""},model:{value:t.detailsDialog,callback:function(e){t.detailsDialog=e},expression:"detailsDialog"}},[a("v-card",[a("v-card-title",{staticClass:"headline"},[t._v(" "+t._s(t.$t("common.learnMore"))+" ")]),a("v-card-text",{staticStyle:{"margin-top":"40px"}},[a("div",{staticClass:"d-flex justify-end"},[a("div",{staticStyle:{position:"fixed","margin-top":"-40px"}},[a("v-btn",{attrs:{color:"primary",text:""},on:{click:function(e){t.copyToClipboard(JSON.stringify(t.forDetails))}}},[a("v-icon",{staticClass:"mr-2",attrs:{size:14}},[t._v(" fas fa-copy ")]),t._v(" "+t._s(t.$t("common.copy"))+" ")],1)],1)]),a("code",{staticClass:"mt-0"},[t._v(t._s(JSON.stringify(t.forDetails,null,2)))])]),a("v-divider"),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",text:""},on:{click:function(e){t.detailsDialog=!1}}},[t._v(" "+t._s(t.$t("common.close"))+" ")])],1)],1)],1),a("v-card",[a("v-toolbar",{staticClass:"mb-5",attrs:{height:48,dark:"",color:"primary",flat:""}},[a("v-toolbar-title",[t._v(" "+t._s(t.$t("adsmanager.cabs.actions.createPixel"))+" ")]),a("v-spacer"),a("v-toolbar-items",[a("v-btn",{attrs:{icon:""},on:{click:t.closeDialog}},[a("v-icon",[t._v(" fas fa-times ")])],1)],1)],1),a("v-card-text",[a("v-data-table",{attrs:{headers:t.headers,items:t.selected},scopedSlots:t._u([{key:"item.adAccount",fn:function(e){var a=e.item;return[t._v(" "+t._s(a.name)+" ")]}},{key:"item.pixelName",fn:function(e){var s=e.item;return[t.items[s.id]?a("v-text-field",{staticClass:"px-2",class:{"pt-2":t.pixelNameErrorMessage(s.id)},attrs:{label:t.$t("adsmanager.adAccounts.pixelName"),outlined:"",readonly:t.readonly,dense:"","hide-details":"auto","error-messages":t.pixelNameErrorMessage(s.id)},model:{value:t.items[s.id].pixelName,callback:function(e){t.$set(t.items[s.id],"pixelName",e)},expression:"items[item.id].pixelName"}}):t._e()]}},{key:"item.eventType",fn:function(e){var s=e.item;return[t.items[s.id]?a("v-select",{staticClass:"px-2",attrs:{label:t.$t("common.pixelEvent"),items:t.pixelEvents,outlined:"",readonly:t.readonly,dense:"","hide-details":""},model:{value:t.items[s.id].eventType,callback:function(e){t.$set(t.items[s.id],"eventType",e)},expression:"items[item.id].eventType"}}):t._e()]}},{key:"item.urlContains",fn:function(e){var s=e.item;return[t.items[s.id]?a("v-text-field",{staticClass:"px-2",class:{"pt-2":t.emptyUrlContains.includes(s.id)},attrs:{label:"URL contains",outlined:"",readonly:t.readonly,dense:"","hide-details":"auto","error-messages":t.emptyUrlContains.includes(s.id)?t.$t("common.required"):null},model:{value:t.items[s.id].urlContains,callback:function(e){t.$set(t.items[s.id],"urlContains",e)},expression:"items[item.id].urlContains"}}):t._e()]}},{key:"item.status",fn:function(e){var s=e.item;return[a("div",{staticClass:"px-2"},[t.showItemProgress(s.id)?a("v-progress-linear",{attrs:{indeterminate:t.itemProgressLoading(s.id),value:0}}):t.showItemSuccess(s.id)?a("v-icon",{attrs:{color:"green"}},[t._v(" check_box ")]):a("div",{staticClass:"d-flex align-center"},[a("v-icon",{staticClass:"mr-1",attrs:{color:"red"}},[t._v(" cancel ")]),a("span",{staticClass:"span-link",on:{click:function(e){return t.openDetails(s.id)}}},[t._v(t._s(t.$t("common.learnMore")))])],1)],1)]}}],null,!0)})],1),a("v-divider"),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{text:"",color:"grey"},on:{click:t.closeDialog}},[t._v(" "+t._s(t.$t("common.close"))+" ")]),a("v-btn",{attrs:{text:"",color:"primary",loading:t.loading},on:{click:t.createPixel}},[t._v(" "+t._s(t.$t("common.create"))+" ")])],1)],1)],1)},ga=[],ka=a("f168"),fa={name:"TiktokAdsmanagerAdAccountsDialogsCreatePixel",mixins:[ka["a"]],data(){return{readonly:!1,loading:!1,pixelEvents:[{text:"Add Payment Info",value:"add_billing"},{text:"Add to Cart",value:"on_web_cart"},{text:"Add to Wishlist",value:"on_web_add_to_wishlist"},{text:"Click Button",value:"button"},{text:"Complete Payment",value:"shopping"},{text:"Complete Registration",value:"on_web_register"},{text:"Contact",value:"consult"},{text:"Download",value:"download_start"},{text:"Initiate Checkout",value:"initiate_order"},{text:"Search",value:"on_web_search"},{text:"Submit Form",value:"form"},{text:"Subscribe",value:"on_web_subscribe"},{text:"View Content",value:"on_web_detail"},{text:"Place an Order",value:"on_web_order"}],items:{},detailsDialog:!1,forDetails:null,emptyUrlContains:[],nameAlreadyTaken:[],emptyPixelNames:[]}},computed:{...Object(r["c"])({dialogs:"tiktokAdsmanagerAdAccounts/dialogs",selected:"tiktokAdsmanagerAdAccounts/selected"}),headers(){return[{text:this.$t("common.adAccount"),value:"adAccount",sortable:!1},{text:"",value:"pixelName",sortable:!1,width:200},{text:"",value:"eventType",sortable:!1,width:200},{text:"",value:"urlContains",sortable:!1,width:200},{text:this.$t("common.status"),value:"status",sortable:!1,width:200}]}},watch:{items:{deep:!0,handler(){this.emptyUrlContains.length&&(this.emptyUrlContains=[]),this.nameAlreadyTaken.length&&(this.nameAlreadyTaken=[]),this.emptyPixelNames.length&&(this.emptyPixelNames=[])}}},created(){for(const t of this.selected)this.$set(this.items,t.id,{pixelName:"",eventType:"on_web_subscribe",urlContains:"",response:{loading:!1,success:null,errorMessage:null},pixels:t.pixels})},methods:{closeDialog(){this.$store.dispatch("tiktokAdsmanagerAdAccounts/closeDialog","createPixel")},responseExists(t){return this.items[t]&&this.items[t].response},showItemProgress(t){return this.responseExists(t)&&null===this.items[t].response.success},itemProgressLoading(t){return this.responseExists(t)&&this.items[t].response.loading},showItemSuccess(t){return this.responseExists(t)&&this.items[t].response.success},pixelNameErrorMessage(t){return this.emptyPixelNames.includes(t)?this.$t("common.required"):this.nameAlreadyTaken.includes(t)?this.$t("validation.nameHasBeenAlreadyTaken"):null},validate(){this.emptyUrlContains=[],this.nameAlreadyTaken=[],this.emptyPixelNames=[];for(const t in this.items)if(this.items[t].urlContains||this.emptyUrlContains.push(t),this.items[t].pixelName){if(Array.isArray(this.items[t].pixels)&&this.items[t].pixels.length)for(const e of this.items[t].pixels)e.name===this.items[t].pixelName&&this.nameAlreadyTaken.push(t)}else this.emptyPixelNames.push(t);return!this.emptyUrlContains.length&&!this.nameAlreadyTaken.length&&!this.emptyPixelNames.length},async createPixel(){if(this.validate())try{this.loading=!0;const t=[];for(const e in this.items){const{pixelName:a,eventType:s,urlContains:o}=this.items[e];this.setNewRequestParams(this.items[e]),t.push({id:e,name:a,eventType:s,urlContains:o})}await H.a.all(t.map(t=>this.api.post("/tiktok/user-pixels",t).then(()=>{this.readonly=!0,this.items[t.id].response.success=!0}).catch(e=>{this.items[t.id].response.success=!1,this.items[t.id].response.errorMessage=e}).finally(()=>{this.items[t.id].response.loading=!1})))}catch(t){}finally{await this.$store.dispatch("tiktokAdsmanagerAdAccounts/loadMainTableData",{endpoint:"tiktok/adaccounts"}),await this.$store.dispatch("tiktokAdsmanagerAdAccounts/replaceSelected",{data:this.items}),this.loading=!1,this.replacePixels()}},setNewRequestParams(t){t.response={loading:!0,success:null,errorMessage:null}},getData(t,e){return{adAccountId:t,name:e.pixelName,eventType:e.eventType,urlContains:e.urlContains}},openDetails(t){this.forDetails=this.items[t].response.errorMessage,this.detailsDialog=!0},replacePixels(){for(const t of this.selected)this.$set(this.items[t.id],"pixels",t.pixels)}}},ba=fa,va=a("b974"),Aa=Object(m["a"])(ba,pa,ga,!1,null,null,null),ya=Aa.exports;p()(Aa,{VBtn:k["a"],VCard:G["a"],VCardActions:J["a"],VCardText:J["b"],VCardTitle:J["c"],VDataTable:Ht["a"],VDialog:X["a"],VDivider:mt["a"],VIcon:f["a"],VProgressLinear:K["a"],VSelect:va["a"],VSpacer:pt["a"],VTextField:L["a"],VToolbar:gt["a"],VToolbarItems:kt["a"],VToolbarTitle:kt["b"]});var _a=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",[a("v-card-text",{staticStyle:{padding:"0px 8px 0px 8px"}},[a("v-data-table",{staticClass:"tiktok-data-table",attrs:{items:t.mainTableData,"items-per-page":t.footerOptions.itemsPerPage,headers:t.cols,"fixed-header":"",height:t.innerHeight-160,"show-select":"",loading:t.mainTableLoading,"hide-default-footer":"","custom-sort":t.customSortsTiktokAdAccounts},scopedSlots:t._u([{key:"header.data-table-select",fn:function(){return[a("v-simple-checkbox",{staticClass:"px-2",attrs:{ripple:!1,value:!!t.selected.length&&t.mainTableData.length===t.selected.length,indeterminate:!!t.selected.length&&t.mainTableData.length!==t.selected.length},on:{input:t.selectAll}})]},proxy:!0},{key:"body",fn:function(e){var s=e.items;return[a("tbody",t._l(s,(function(e){return a("tr",{key:"TiktokAdsmanagerAccountsMainTableRow-"+e.id},[a("td",[a("v-simple-checkbox",{staticClass:"px-2",attrs:{ripple:!1,value:t.selected.findIndex((function(t){return t.id===e.id}))>-1},on:{input:function(a){return t.selectItem(e,a)}}})],1),a("main-table-name",{attrs:{item:e}}),a("main-table-status",{attrs:{item:e}}),a("main-table-balance",{attrs:{item:e}}),t._l(t.aggregateColumns,(function(s){return a("td",{key:"TiktokAdsmanagerAccountsMainTableDataCell-"+s,staticClass:"text-center"},[t._v(" "+t._s(t.statCellData(e,s))+" ")])}))],2)})),0)]}},{key:"footer",fn:function(){return[a("main-table-footer",{attrs:{"footer-options":t.footerOptions,"footer-pagination":t.footerPagination}})]},proxy:!0}],null,!0),model:{value:t.selected,callback:function(e){t.selected=e},expression:"selected"}})],1)],1)},xa=[],Ta=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("td",[a("span",{staticClass:"span"},[t._v(t._s(t.item.balance))])])},$a=[],Da={name:"TiktokAdsmanagerAdAccountsMainTableBalance",mixins:[ka["a"]],props:{item:{type:Object,required:!0}}},Ca=Da,wa=Object(m["a"])(Ca,Ta,$a,!1,null,null,null),Sa=wa.exports,Va=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-data-footer",{attrs:{"show-first-last-page":"",options:t.footerOptions,pagination:t.footerPagination,"items-per-page-options":[10,30,50,100]},on:{"update:options":t.updateFooterOptions}})},Oa=[],Pa={name:"TiktokAdsmanagerAdAccountsMainTableFooter",props:{footerOptions:{type:Object,required:!0},footerPagination:{type:Object,required:!0}},methods:{updateFooterOptions({page:t,itemsPerPage:e}){this.$store.dispatch("tiktokAdsmanagerAdAccounts/loadMainTableData",{endpoint:"tiktok/adaccounts",page:t,itemsPerPage:e})}}},ja=Pa,Ia=Object(m["a"])(ja,Va,Oa,!1,null,null,null),Ea=Ia.exports;p()(Ia,{VDataFooter:_e["a"]});var Ma=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("td",[a("span",{staticClass:"span-link"},[t._v(t._s(t.item.name)+" ")]),a("div",{staticClass:"d-block ad_account_data"},[a("div",{staticClass:"d-flex"},[t.$vuetify.breakpoint.xs?t._e():a("span",{staticStyle:{"line-height":"14px"},attrs:{title:"Account"}},[t._v(" "+t._s(t.$t("common.account"))+": ")]),t.$vuetify.breakpoint.xs?t._e():a("span",{staticStyle:{"line-height":"14px"},attrs:{title:"Account"}},[t._v(" "+t._s(t.item.account.name)+" ")])]),a("div",{staticClass:"d-flex"},[t.$vuetify.breakpoint.xs?t._e():a("span",{staticStyle:{"line-height":"14px"},attrs:{title:"TikTok ID"}},[t._v(" "+t._s(t.$t("common.id"))+": ")]),t.$vuetify.breakpoint.xs?t._e():a("span",{staticStyle:{"line-height":"14px"},attrs:{title:"TikTok ID"}},[t._v(t._s(t.item.tiktok_id))]),a("v-icon",{staticStyle:{"padding-left":"5px"},attrs:{size:"10"},on:{click:function(e){return t.copyToClipboard(t.item.tiktok_id)}}},[t._v(" far fa-copy ")])],1),t.item.pixels&&t.item.pixels.length?a("div",t._l(t.item.pixels,(function(e){return a("div",{key:"TiktokAdsmanagerAdAccountsMainTablePixels-"+e.pixel_code,staticClass:"d-flex",staticStyle:{"line-height":"14px"}},[a("span",[t._v(" "+t._s(t.$t("common.pixelId")+": "+e.pixel_code)+" ")]),a("v-icon",{staticClass:"ml-1",attrs:{size:"10"},on:{click:function(a){return t.copyToClipboard(e.pixel_code)}}},[t._v(" far fa-copy ")])],1)})),0):t._e()])])},Ba=[],Na={name:"TiktokAdsmanagerAdAccountsMainTableName",mixins:[ka["a"]],props:{item:{type:Object,required:!0}},methods:{async editAccount(t){await this.$store.dispatch("tiktokAdsmanagerAccounts/setSingleAccountData",t),this.$store.dispatch("tiktokAdsmanagerAccounts/openDialog","edit")},copyToClipboard(t){navigator.clipboard.writeText(t).then()}}},La=Na,qa=(a("118d"),Object(m["a"])(La,Ma,Ba,!1,null,null,null)),Ra=qa.exports;p()(qa,{VIcon:f["a"]});var Fa=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("td",[4===t.item.status?a("v-chip",{staticClass:"ml-1",staticStyle:{width:"fit-content"},attrs:{color:t.getStatusChipColor(t.item.status),small:"",label:"",outlined:""}},[t._v(" ACTIVE ")]):8===t.item.status?a("v-chip",{staticClass:"ml-1",staticStyle:{width:"fit-content"},attrs:{color:t.getStatusChipColor(t.item.status),small:"",label:"",outlined:""}},[t._v(" PENALIZED ")]):a("v-chip",{staticClass:"ml-1",attrs:{color:t.getStatusChipColor(t.item.status),small:"",label:"",outlined:""}},[t._v(" "+t._s(t.item.status)+" ")])],1)},za=[],Wa={name:"TiktokAdsmanagerAdAccountsMainTableStatus",props:{item:{type:Object,required:!0}},methods:{getStatusChipColor(t){switch(t){case 4:return"success";case 6:return"orange";case 8:return"red";default:return"orange"}}}},Ha=Wa,Ya=Object(m["a"])(Ha,Fa,za,!1,null,null,null),Ua=Ya.exports;p()(Ya,{VChip:Me["a"]});var Ga={name:"TiktokAdsmanagerAdAccountsMainTable",components:{MainTableName:Ra,MainTableStatus:Ua,MainTableBalance:Sa,MainTableFooter:Ea},mixins:[ge["a"],pe["a"],ke],computed:{...Object(r["c"])({innerHeight:"main/innerHeight",mainTableData:"tiktokAdsmanagerAdAccounts/mainTableData",mainTableLoading:"tiktokAdsmanagerAdAccounts/mainTableLoading",mainTablePagination:"tiktokAdsmanagerAdAccounts/mainTablePagination",aggregateColumns:"tiktokAdsmanager/aggregateColumns"}),...Object(fe["b"])("tiktokAdsmanagerAdAccounts",["selected"]),cols(){const t=[{text:this.$t("common.name"),value:"name",sortable:!0,width:200},{text:this.$t("common.status"),value:"status",sortable:!0,width:150},{text:this.$t("common.balance"),value:"balance",sortable:!0,width:100}];if(this.aggregateColumns)for(const e of this.aggregateColumns)t.push({text:this.$t("adsmanager.cols.tiktok."+e),value:"stat-"+e,sortable:!1,align:"center",width:150});return t}}},Ja=Ga,Xa=(a("27e0"),Object(m["a"])(Ja,_a,xa,!1,null,null,null)),Ka=Xa.exports;p()(Xa,{VCard:G["a"],VCardText:J["b"],VDataTable:Ht["a"],VSimpleCheckbox:Ue["a"]});var Qa={name:"TiktokAdsManagerAdAccounts",components:{MainTable:Ka,Topbar:ha,DialogsCreatePixel:ya},computed:{...Object(r["c"])({dialogs:"tiktokAdsmanagerAdAccounts/dialogs"})},created(){this.$store.dispatch("tiktokAdsmanagerAdAccounts/loadMainTableData",{endpoint:"tiktok/adaccounts"})}},Za=Qa,ts=Object(m["a"])(Za,aa,sa,!1,null,null,null),es=ts.exports,as=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticStyle:{padding:"8px"}},[t.dialogs.bulkDelete?a("dialogs-bulk-delete"):t._e(),t.dialogs.bulkDuplicate?a("dialogs-bulk-duplicate"):t._e(),a("topbar"),a("main-table")],1)},ss=[],os=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"d-flex align-center justify-space-between mb-2"},[a("div",[a("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on;return[a("v-btn",t._g({attrs:{small:"",disabled:0===t.selected.length,color:"primary",icon:"",value:t.selected,loading:t.loading.bulkRun},on:{click:t.bulkRun}},s),[a("v-icon",{attrs:{size:12}},[t._v(" fas fa-play ")])],1)]}}])},[a("span",[t._v(t._s(t.$t("common.run")))])]),a("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on;return[a("v-btn",t._g({attrs:{small:"",disabled:0===t.selected.length,color:"primary",icon:"",value:t.selected,loading:t.loading.bulkPause},on:{click:t.bulkPause}},s),[a("v-icon",{attrs:{size:12}},[t._v(" fas fa-stop ")])],1)]}}])},[a("span",[t._v(t._s(t.$t("common.toPause")))])]),a("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on;return[a("v-btn",t._g({attrs:{small:"",disabled:0===t.selected.length,color:"primary",icon:"",value:t.selected},on:{click:t.bulkDuplicate}},s),[a("v-icon",{attrs:{size:12}},[t._v(" fas fa-clone ")])],1)]}}])},[a("span",[t._v(t._s(t.$t("common.duplicate")))])]),a("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on;return[a("v-btn",t._g({attrs:{small:"",disabled:0===t.selected.length,color:"primary",icon:"",value:t.selected},on:{click:t.bulkDelete}},s),[a("v-icon",{attrs:{size:12}},[t._v(" fas fa-trash-alt ")])],1)]}}])},[a("span",[t._v(t._s(t.$t("common.delete")))])])],1),a("div",{staticClass:"d-flex align-center "},[a("common-stat-date"),a("v-text-field",{attrs:{dense:"",clearable:"",outlined:"",label:t.$t("filters.searchByNameOrID"),"single-line":"","prepend-inner-icon":"fas fa-search","hide-details":"",value:t.searchText},on:{input:t.filterName}})],1)])},is=[],ns={name:"TiktokAdsmanagerAdsTopbar",components:{CommonStatDate:R},data(){return{searchText:"",loading:{bulkRun:!1,bulkPause:!1}}},computed:{...Object(r["c"])({selected:"tiktokAdsmanagerAds/selected"})},methods:{filterName(t){this.searchText=t,setTimeout(async()=>{t===this.searchText&&await this.$store.dispatch("tiktokAdsmanagerAds/loadMainTableData",{endpoint:"tiktok/creatives",query:t})},500)},async bulkDelete(){this.$store.dispatch("tiktokAdsmanagerAds/openDialog","bulkDelete")},async bulkRun(){try{this.loading.bulkRun=!0;const t=this.selected.map(t=>t.id),e=await this.api.patch("/tiktok/creatives/bulk-enable",{ids:t});if(200!==e.status)throw new Error("status not 200");await this.$store.dispatch("main/alert",{color:"success",message:this.$t("common.success")}),await this.$store.dispatch("tiktokAdsmanagerAds/clearSelected")}catch(t){this.$store.dispatch("main/alert",{color:"error",message:this.$t("common.somethingWentWrong")})}finally{this.loading.bulkRun=!1}},async bulkPause(){try{this.loading.bulkPause=!0;const t=this.selected.map(t=>t.id),e=await this.api.patch("/tiktok/creatives/bulk-pause",{ids:t});if(200!==e.status)throw new Error("status not 200");await this.$store.dispatch("main/alert",{color:"success",message:this.$t("common.success")}),await this.$store.dispatch("tiktokAdsmanagerAds/clearSelected")}catch(t){this.$store.dispatch("main/alert",{color:"error",message:this.$t("common.somethingWentWrong")})}finally{this.loading.bulkPause=!1}},async bulkDuplicate(){this.$store.dispatch("tiktokAdsmanagerAds/openDialog","bulkDuplicate")}}},rs=ns,ls=Object(m["a"])(rs,os,is,!1,null,null,null),cs=ls.exports;p()(ls,{VBtn:k["a"],VIcon:f["a"],VTextField:L["a"],VTooltip:b["a"]});var ds=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-dialog",{attrs:{value:t.dialogs.bulkDelete,width:"500",transition:!1,scrollable:""},on:{"click:outside":t.closeDialog,keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"esc",27,e.key,["Esc","Escape"])?null:t.closeDialog(e)}}},[a("v-card",[a("v-toolbar",{staticClass:"mb-5",attrs:{height:48,dark:"",color:"primary",flat:""}},[a("v-toolbar-title",[t._v(" "+t._s(t.$tc("adsmanager.ads.deleteNAds",t.selected.length,{length:t.selected.length}))+" ")]),a("v-spacer"),a("v-toolbar-items",[a("v-btn",{attrs:{icon:""},on:{click:t.closeDialog}},[a("v-icon",[t._v(" fas fa-times ")])],1)],1)],1),a("v-card-text",[a("v-data-table",{attrs:{headers:t.headers,"hide-default-header":"","hide-default-footer":"",items:t.selected,"items-per-page":-1},scopedSlots:t._u([{key:"item.name",fn:function(e){var s=e.item;return[a("span",{staticClass:"px-2"},[t._v(" "+t._s(s.title)+" ")])]}}],null,!0)})],1),a("v-divider"),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{text:"",color:"grey"},on:{click:t.closeDialog}},[t._v(" "+t._s(t.$t("common.close"))+" ")]),a("v-btn",{attrs:{text:"",color:"red",loading:t.loading},on:{click:t.bulkDelete}},[t._v(" "+t._s(t.$t("common.delete"))+" ")])],1)],1)],1)},us=[],ms={name:"TiktokAdsmanagerAdsDialogsBulkDelete",data(){return{loading:!1}},computed:{...Object(r["c"])({dialogs:"tiktokAdsmanagerAds/dialogs",selected:"tiktokAdsmanagerAds/selected"}),headers(){return[{text:this.$t("common.name"),value:"name",sortable:!1}]}},methods:{closeDialog(){this.$store.dispatch("tiktokAdsmanagerAds/closeDialog","bulkDelete")},async bulkDelete(){try{this.loading=!0;const t=this.selected.map(t=>t.id),e=await this.api.delete("/tiktok/creatives/bulk-delete",{params:{ids:t}});if(200!==e.status)throw new Error("status not 200");await this.$store.dispatch("tiktokAdsmanagerAds/loadMainTableData",{endpoint:"tiktok/creatives"}),await this.$store.dispatch("main/alert",{color:"success",message:this.$t("common.deleted")}),this.loading=!1,await this.$store.dispatch("tiktokAdsmanagerAds/clearSelected"),this.closeDialog()}catch(t){this.loading=!1,this.$store.dispatch("main/alert",{color:"error",message:this.$t("common.somethingWentWrong")})}}}},hs=ms,ps=Object(m["a"])(hs,ds,us,!1,null,null,null),gs=ps.exports;p()(ps,{VBtn:k["a"],VCard:G["a"],VCardActions:J["a"],VCardText:J["b"],VDataTable:Ht["a"],VDialog:X["a"],VDivider:mt["a"],VIcon:f["a"],VSpacer:pt["a"],VToolbar:gt["a"],VToolbarItems:kt["a"],VToolbarTitle:kt["b"]});var ks=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-dialog",{attrs:{value:t.dialogs.bulkDuplicate,width:"500",transition:!1,scrollable:""},on:{"click:outside":t.closeDialog,keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"esc",27,e.key,["Esc","Escape"])?null:t.closeDialog(e)}}},[a("v-card",[a("v-toolbar",{staticClass:"mb-5",attrs:{height:48,dark:"",color:"primary",flat:""}},[a("v-toolbar-title",[t._v(" "+t._s(t.$t("common.duplicate"))+" ")]),a("v-spacer"),a("v-toolbar-items",[a("v-btn",{attrs:{icon:""},on:{click:t.closeDialog}},[a("v-icon",[t._v(" fas fa-times ")])],1)],1)],1),a("v-card-text",[a("v-text-field",{attrs:{type:"number",min:"0",outlined:"",dense:"","hide-details":"auto","error-messages":t.countErrors},on:{blur:t.blurCount},model:{value:t.count,callback:function(e){t.count=e},expression:"count"}})],1),a("v-divider"),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{text:"",color:"grey"},on:{click:t.closeDialog}},[t._v(" "+t._s(t.$t("common.close"))+" ")]),a("v-btn",{attrs:{text:"",color:"primary",loading:t.loading},on:{click:t.touch}},[t._v(" "+t._s(t.$t("common.duplicate"))+" ")])],1)],1)],1)},fs=[],bs={name:"TiktokAdsmanagerAdsDialogsBulkDuplicate",data(){return{loading:!1,count:0,touched:!1}},validations:{count:{required:_t["required"],minValue:Object(_t["minValue"])(1),maxValue:Object(_t["maxValue"])(10)}},computed:{...Object(r["c"])({dialogs:"tiktokAdsmanagerAds/dialogs",selected:"tiktokAdsmanagerAds/selected"}),countErrors(){return!this.touched||this.$v.count.minValue&&this.$v.count.required?this.touched&&!this.$v.count.maxValue?this.$t("validation.max",{length:10}):null:this.$t("validation.min",{length:1})}},watch:{count(){this.touched=!1}},methods:{closeDialog(){this.$store.dispatch("tiktokAdsmanagerAds/closeDialog","bulkDuplicate")},touch(){this.$v.$touch(),this.$v.$invalid?this.touched=!0:this.bulkDuplicate()},async bulkDuplicate(){try{this.loading=!0;const t=this.selected.map(t=>t.id),e=this.count,a=await this.api.post("/tiktok/creatives/duplicate",{ids:t,count:e});if(200!==a.status)throw new Error("status not 200");await this.$store.dispatch("tiktokAdsmanagerAds/loadMainTableData",{endpoint:"tiktok/creatives"}),await this.$store.dispatch("main/alert",{color:"success",message:this.$t("common.success")}),this.loading=!1,await this.$store.dispatch("tiktokAdsmanagerAds/clearSelected"),this.closeDialog()}catch(t){this.loading=!1,this.$store.dispatch("main/alert",{color:"error",message:this.$t("common.somethingWentWrong")})}},blurCount(){(!this.count||this.count<0)&&(this.count=0)}}},vs=bs,As=Object(m["a"])(vs,ks,fs,!1,null,null,null),ys=As.exports;p()(As,{VBtn:k["a"],VCard:G["a"],VCardActions:J["a"],VCardText:J["b"],VDialog:X["a"],VDivider:mt["a"],VIcon:f["a"],VSpacer:pt["a"],VTextField:L["a"],VToolbar:gt["a"],VToolbarItems:kt["a"],VToolbarTitle:kt["b"]});var _s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",[a("v-card-text",{staticStyle:{padding:"0px 8px 0px 8px"}},[a("v-data-table",{staticClass:"tiktok-data-table",attrs:{items:t.mainTableData,"items-per-page":t.footerOptions.itemsPerPage,headers:t.headers,"fixed-header":"",height:t.innerHeight-160,"show-select":"",loading:t.mainTableLoading,"hide-default-footer":"","custom-sort":t.customSortsTiktokAds},scopedSlots:t._u([{key:"header.data-table-select",fn:function(){return[a("v-simple-checkbox",{staticClass:"px-2",attrs:{ripple:!1,value:!!t.selected.length&&t.mainTableData.length===t.selected.length,indeterminate:!!t.selected.length&&t.mainTableData.length!==t.selected.length},on:{input:t.selectAll}})]},proxy:!0},{key:"body",fn:function(e){var s=e.items;return[a("tbody",t._l(s,(function(e){return a("tr",{key:"TiktokAdsmanagerAccountsMainTableRow-"+e.id},[a("td",[a("v-simple-checkbox",{staticClass:"px-2",attrs:{ripple:!1,value:t.selected.findIndex((function(t){return t.id===e.id}))>-1},on:{input:function(a){return t.selectItem(e,a)}}})],1),a("main-table-name",{attrs:{item:e}}),a("main-table-status",{attrs:{item:e}}),t._l(t.aggregateColumns,(function(s){return a("td",{key:"TiktokAdsmanagerAccountsMainTableDataCell-"+s,staticClass:"text-center"},[t._v(" "+t._s(t.statCellData(e,s))+" ")])}))],2)})),0)]}},{key:"footer",fn:function(){return[a("main-table-footer",{attrs:{"footer-options":t.footerOptions,"footer-pagination":t.footerPagination}})]},proxy:!0}],null,!0),model:{value:t.selected,callback:function(e){t.selected=e},expression:"selected"}})],1)],1)},xs=[],Ts=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-data-footer",{attrs:{"show-first-last-page":"",options:t.footerOptions,pagination:t.footerPagination,"items-per-page-options":[10,30,50,100]},on:{"update:options":t.updateFooterOptions}})},$s=[],Ds={name:"TiktokAdsmanagerAdsMainTableFooter",props:{footerOptions:{type:Object,required:!0},footerPagination:{type:Object,required:!0}},methods:{updateFooterOptions({page:t,itemsPerPage:e}){this.$store.dispatch("tiktokAdsmanagerAds/loadMainTableData",{endpoint:"tiktok/creatives",page:t,itemsPerPage:e})}}},Cs=Ds,ws=Object(m["a"])(Cs,Ts,$s,!1,null,null,null),Ss=ws.exports;p()(ws,{VDataFooter:_e["a"]});var Vs=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("td",[t._v(" "+t._s(t.item.title)+" ")])},Os=[],Ps={name:"TiktokAdsmanagerAdsMainTableName",props:{item:{type:Object,required:!0}}},js=Ps,Is=Object(m["a"])(js,Vs,Os,!1,null,null,null),Es=Is.exports,Ms=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("td",{staticClass:"tiktok-ads-status"},[a("v-chip",{staticClass:"ml-1",attrs:{color:t.getStatusChipColor(t.item.status),small:"",label:"",outlined:""}},[t._v(" "+t._s(t.item.status.toString().toUpperCase())+" ")]),a("div",[t.hasReason?a("v-tooltip",{attrs:{bottom:"","max-width":"300"},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on;return[a("v-chip",t._g({staticClass:"ml-1 my-2",attrs:{color:"red","x-small":"",label:"",outlined:""}},s),[t._v(" "+t._s(t.hasReason.reason.title)+" ")])]}}],null,!1,113799712)},[a("span",[t._v(t._s(t.hasReason.reason.reasons))])]):t._e()],1),a("div",[t.isModerationRejected?a("v-tooltip",{attrs:{bottom:"","max-width":"300"},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on;return[a("v-chip",t._g({staticClass:"ml-1 my-2 rejected-block",attrs:{color:"red","x-small":"",label:"",outlined:""},on:{click:t.handleRejection}},s),[a("span",[t._v("REJECTED")]),a("v-icon",{staticClass:"question-icon",attrs:{size:14,color:"red"}},[t._v(" far fa-question-circle ")])],1)]}}],null,!1,1643271756)},[a("span",[t._v(t._s(t.$t("adsmanager.adsets.rejectedQuestionMark")))])]):t._e()],1)],1)},Bs=[],Ns={name:"TiktokAdsmanagerAdsMainTableStatus",props:{item:{type:Object,required:!0}},data(){return{getStatusChipColor:je}},computed:{...Object(r["c"])({adsReasons:"tiktokAdsmanagerAds/adsReasons"}),hasReason(){const t=this.adsReasons.filter(t=>t.id===this.item.id);return t.length?t[0]:""},isModerationRejected(){return!this.hasReason&&(2===this.item.ad_audit_result_type||3===this.item.ad_audit_result_type)}},methods:{getReasonChipColor(t){switch(t.toString()){case"3":return"red";case"2":return"orange"}},handleRejection(){this.$store.dispatch("tiktokAdsmanagerAds/handleAdsRejectionReason",this.item.id)}}},Ls=Ns,qs=(a("8eaa"),Object(m["a"])(Ls,Ms,Bs,!1,null,null,null)),Rs=qs.exports;p()(qs,{VChip:Me["a"],VIcon:f["a"],VTooltip:b["a"]});var Fs={name:"TiktokAdsmanagerAdsMainTable",components:{MainTableName:Es,MainTableStatus:Rs,MainTableFooter:Ss},mixins:[ge["a"],ke,pe["a"]],computed:{...Object(r["c"])({innerHeight:"main/innerHeight",mainTableData:"tiktokAdsmanagerAds/mainTableData",mainTableLoading:"tiktokAdsmanagerAds/mainTableLoading",mainTablePagination:"tiktokAdsmanagerAds/mainTablePagination",aggregateColumns:"tiktokAdsmanager/aggregateColumns"}),...Object(fe["b"])("tiktokAdsmanagerAds",["selected"]),headers(){const t=[{text:this.$t("common.name"),value:"name",width:200},{text:this.$t("common.status"),value:"status",width:100}];if(this.aggregateColumns)for(const e of this.aggregateColumns)t.push({text:this.$t("adsmanager.cols.tiktok."+e),value:"stat-"+e,sortable:!1,align:"center",width:150});return t}}},zs=Fs,Ws=(a("5d60"),Object(m["a"])(zs,_s,xs,!1,null,null,null)),Hs=Ws.exports;p()(Ws,{VCard:G["a"],VCardText:J["b"],VDataTable:Ht["a"],VSimpleCheckbox:Ue["a"]});var Ys={name:"TiktokAdsManagerAds",components:{MainTable:Hs,Topbar:cs,DialogsBulkDelete:gs,DialogsBulkDuplicate:ys},computed:{...Object(r["c"])({dialogs:"tiktokAdsmanagerAds/dialogs"})},created(){this.$store.dispatch("tiktokAdsmanagerAds/loadMainTableData",{endpoint:"tiktok/creatives"})}},Us=Ys,Gs=Object(m["a"])(Us,as,ss,!1,null,null,null),Js=Gs.exports,Xs=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticStyle:{padding:"8px"}},[t.dialogs.bulkDelete?a("dialogs-bulk-delete"):t._e(),t.dialogs.bulkDuplicate?a("dialogs-bulk-duplicate"):t._e(),t.dialogs.bulkChangeBudget?a("dialogs-bulk-change-budget"):t._e(),a("topbar"),a("main-table")],1)},Ks=[],Qs=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"d-flex align-center justify-space-between mb-2"},[a("div",[a("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on;return[a("v-btn",t._g({attrs:{small:"",disabled:0===t.selected.length,color:"primary",icon:"",value:t.selected,loading:t.loading.bulkRun},on:{click:t.bulkRun}},s),[a("v-icon",{attrs:{size:12}},[t._v(" fas fa-play ")])],1)]}}])},[a("span",[t._v(t._s(t.$t("common.run")))])]),a("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on;return[a("v-btn",t._g({attrs:{small:"",disabled:0===t.selected.length,color:"primary",icon:"",value:t.selected,loading:t.loading.bulkPause},on:{click:t.bulkPause}},s),[a("v-icon",{attrs:{size:12}},[t._v(" fas fa-stop ")])],1)]}}])},[a("span",[t._v(t._s(t.$t("common.toPause")))])]),a("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on;return[a("v-btn",t._g({attrs:{small:"",disabled:0===t.selected.length,color:"primary",icon:"",value:t.selected},on:{click:t.bulkDuplicate}},s),[a("v-icon",{attrs:{size:12}},[t._v(" fas fa-clone ")])],1)]}}])},[a("span",[t._v(t._s(t.$t("common.duplicate")))])]),a("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on;return[a("v-btn",t._g({attrs:{small:"",disabled:0===t.selected.length,color:"primary",icon:"",value:t.selected},on:{click:t.bulkChangeBudget}},s),[a("v-icon",{attrs:{size:15}},[t._v(" fas fa-dollar-sign ")])],1)]}}])},[a("span",[t._v(t._s(t.$t("common.budgetAndBid")))])]),a("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on;return[a("v-btn",t._g({attrs:{small:"",disabled:0===t.selected.length,color:"primary",icon:"",value:t.selected},on:{click:t.bulkDelete}},s),[a("v-icon",{attrs:{size:12}},[t._v(" fas fa-trash-alt ")])],1)]}}])},[a("span",[t._v(t._s(t.$t("common.delete")))])])],1),a("div",{staticClass:"d-flex align-center "},[a("common-stat-date"),a("v-text-field",{attrs:{dense:"",clearable:"",outlined:"",label:t.$t("filters.searchByNameOrID"),"single-line":"","prepend-inner-icon":"fas fa-search","hide-details":"",value:t.searchText},on:{input:t.filterName}})],1)])},Zs=[],to={name:"TiktokAdsmanagerAdsetsTopbar",components:{CommonStatDate:R},data(){return{searchText:"",loading:{bulkRun:!1,bulkPause:!1}}},computed:{...Object(r["c"])({selected:"tiktokAdsmanagerAdsets/selected"})},methods:{filterName(t){this.searchText=t,setTimeout(async()=>{t===this.searchText&&await this.$store.dispatch("tiktokAdsmanagerAdsets/loadMainTableData",{endpoint:"tiktok/adsets",query:t})},500)},async bulkDelete(){this.$store.dispatch("tiktokAdsmanagerAdsets/openDialog","bulkDelete")},async bulkRun(){try{this.loading.bulkRun=!0;const t=this.selected.map(t=>t.id),e=await this.api.patch("/tiktok/adsets/bulk-enable",{ids:t});if(200!==e.status)throw new Error("status not 200");await this.$store.dispatch("main/alert",{color:"success",message:this.$t("common.success")}),await this.$store.dispatch("tiktokAdsmanagerAdsets/clearSelected")}catch(t){this.$store.dispatch("main/alert",{color:"error",message:this.$t("common.somethingWentWrong")})}finally{this.loading.bulkRun=!1}},async bulkPause(){try{this.loading.bulkPause=!0;const t=this.selected.map(t=>t.id),e=await this.api.patch("/tiktok/adsets/bulk-pause",{ids:t});if(200!==e.status)throw new Error("status not 200");await this.$store.dispatch("main/alert",{color:"success",message:this.$t("common.success")}),await this.$store.dispatch("tiktokAdsmanagerAdsets/clearSelected")}catch(t){this.$store.dispatch("main/alert",{color:"error",message:this.$t("common.somethingWentWrong")})}finally{this.loading.bulkPause=!1}},async bulkDuplicate(){this.$store.dispatch("tiktokAdsmanagerAdsets/openDialog","bulkDuplicate")},async bulkChangeBudget(){this.$store.dispatch("tiktokAdsmanagerAdsets/openDialog","bulkChangeBudget")}}},eo=to,ao=Object(m["a"])(eo,Qs,Zs,!1,null,null,null),so=ao.exports;p()(ao,{VBtn:k["a"],VIcon:f["a"],VTextField:L["a"],VTooltip:b["a"]});var oo=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-dialog",{attrs:{value:t.dialogs.bulkChangeBudget,width:"800",transition:!1,scrollable:""},on:{"click:outside":t.closeDialog,keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"esc",27,e.key,["Esc","Escape"])?null:t.closeDialog(e)}}},[a("v-card",[a("v-toolbar",{staticClass:"mb-5",attrs:{height:48,dark:"",color:"primary",flat:""}},[a("v-toolbar-title",[t._v(" "+t._s(t.$t("common.budgetAndBid"))+" ")]),a("v-spacer"),a("v-toolbar-items",[a("v-btn",{attrs:{icon:""},on:{click:t.closeDialog}},[a("v-icon",[t._v(" fas fa-times ")])],1)],1)],1),a("v-card-text",[a("v-data-table",{attrs:{headers:t.headers,"fixed-header":"","hide-default-footer":"",items:t.items,"items-per-page":-1},scopedSlots:t._u([{key:"item.name",fn:function(e){var s=e.item;return[a("div",{staticClass:"pr-2"},[t._v(" "+t._s(s.name)+" ")])]}},{key:"item.budget",fn:function(e){var s=e.item;return[a("div",{staticClass:"pr-2"},[s.campaignBudget?a("span",[t._v("-")]):a("v-text-field",{attrs:{type:"number",min:"0",outlined:"",dense:"","hide-details":"auto",label:t.$t("common.budgetDaily")},on:{blur:function(e){return t.handleBlur(s,"budget")}},model:{value:s.budget,callback:function(e){t.$set(s,"budget",e)},expression:"item.budget"}})],1)]}},{key:"item.bidSize",fn:function(e){var s=e.item;return[a("div",{staticClass:"pr-2"},[s.campaignBudget?a("span",[t._v("-")]):a("v-text-field",{attrs:{type:"number",min:"0",outlined:"",dense:"","hide-details":"auto",label:t.$t("common.bidSize")},on:{blur:function(e){return t.handleBlur(s,"bid")}},model:{value:s.bid,callback:function(e){t.$set(s,"bid",e)},expression:"item.bid"}})],1)]}}],null,!0)})],1),a("v-divider"),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{text:"",color:"grey"},on:{click:t.closeDialog}},[t._v(" "+t._s(t.$t("common.close"))+" ")]),a("v-btn",{attrs:{text:"",color:"primary",loading:t.loading},on:{click:t.bulkChangeBudget}},[t._v(" "+t._s(t.$t("common.update"))+" ")])],1)],1)],1)},io=[],no={name:"TiktokAdsmanagerAdsetsDialogsBulkChangeBudget",data(){return{loading:!1,items:[]}},computed:{...Object(r["c"])({dialogs:"tiktokAdsmanagerAdsets/dialogs",selected:"tiktokAdsmanagerAdsets/selected",innerHeight:"main/innerHeight"}),headers(){return[{text:this.$t("common.name"),value:"name",sortable:!1},{text:this.$t("common.budget"),value:"budget",sortable:!1,width:200},{text:this.$t("common.bidSize"),value:"bidSize",sortable:!1,width:200}]}},watch:{items:{deep:!0,handler(){console.log("asdads")}}},created(){for(const t of this.selected)this.$set(this.items,this.items.length,{name:t.ad_name,ids:[t.id],bid:parseInt(t.bid,10)?parseInt(t.bid,10):0,budget:parseInt(t.budget,10)?parseInt(t.budget,10):0,campaignBudget:0===t.budget})},methods:{closeDialog(){this.$store.dispatch("tiktokAdsmanagerAdsets/closeDialog","bulkChangeBudget")},async bulkChangeBudget(){try{const t=this.items.filter(t=>!t.campaignBudget);await H.a.all(t.map(({bid:t,budget:e,ids:a})=>this.api.patch("/tiktok/adsets/budget-change",{bid:t,budget:e,ids:a}))),this.$store.dispatch("tiktokAdsmanagerAdsets/loadMainTableData",{endpoint:"tiktok/adsets"}),this.$store.dispatch("main/alert",{color:"success",message:this.$t("common.success")}),this.closeDialog()}catch(t){this.$store.dispatch("main/alert",{color:"error",message:this.$t("common.somethingWentWrong")})}},handleBlur(t,e){"budget"===e&&(!t.budget||t.budget<0)&&(t.budget=0),"bid"===e&&(!t.bid||t.bid<0)&&(t.bid=0)}}},ro=no,lo=Object(m["a"])(ro,oo,io,!1,null,null,null),co=lo.exports;p()(lo,{VBtn:k["a"],VCard:G["a"],VCardActions:J["a"],VCardText:J["b"],VDataTable:Ht["a"],VDialog:X["a"],VDivider:mt["a"],VIcon:f["a"],VSpacer:pt["a"],VTextField:L["a"],VToolbar:gt["a"],VToolbarItems:kt["a"],VToolbarTitle:kt["b"]});var uo=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-dialog",{attrs:{value:t.dialogs.bulkDelete,width:"500",transition:!1,scrollable:""},on:{"click:outside":t.closeDialog,keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"esc",27,e.key,["Esc","Escape"])?null:t.closeDialog(e)}}},[a("v-card",[a("v-toolbar",{staticClass:"mb-5",attrs:{height:48,dark:"",color:"primary",flat:""}},[a("v-toolbar-title",[t._v(" "+t._s(t.$tc("adsmanager.adsets.deleteNAdsets",t.selected.length,{length:t.selected.length}))+" ")]),a("v-spacer"),a("v-toolbar-items",[a("v-btn",{attrs:{icon:""},on:{click:t.closeDialog}},[a("v-icon",[t._v(" fas fa-times ")])],1)],1)],1),a("v-card-text",[a("v-data-table",{attrs:{headers:t.headers,"hide-default-header":"","hide-default-footer":"",items:t.selected,"items-per-page":-1},scopedSlots:t._u([{key:"item.name",fn:function(e){var s=e.item;return[a("span",{staticClass:"px-2"},[t._v(" "+t._s(s.ad_name)+" ")])]}}],null,!0)})],1),a("v-divider"),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{text:"",color:"grey"},on:{click:t.closeDialog}},[t._v(" "+t._s(t.$t("common.close"))+" ")]),a("v-btn",{attrs:{text:"",color:"red",loading:t.loading},on:{click:t.bulkDelete}},[t._v(" "+t._s(t.$t("common.delete"))+" ")])],1)],1)],1)},mo=[],ho={name:"TiktokAdsmanagerAdsetsDialogsBulkDelete",data(){return{loading:!1}},computed:{...Object(r["c"])({dialogs:"tiktokAdsmanagerAdsets/dialogs",selected:"tiktokAdsmanagerAdsets/selected"}),headers(){return[{text:this.$t("common.name"),value:"name",sortable:!1}]}},methods:{closeDialog(){this.$store.dispatch("tiktokAdsmanagerAdsets/closeDialog","bulkDelete")},async bulkDelete(){try{this.loading=!0;const t=this.selected.map(t=>t.id),e=await this.api.delete("/tiktok/adsets/bulk-delete",{params:{ids:t}});if(200!==e.status)throw new Error("status not 200");await this.$store.dispatch("tiktokAdsmanagerAdsets/loadMainTableData",{endpoint:"tiktok/adsets"}),await this.$store.dispatch("main/alert",{color:"success",message:this.$t("common.deleted")}),this.loading=!1,await this.$store.dispatch("tiktokAdsmanagerAdsets/clearSelected"),this.closeDialog()}catch(t){this.loading=!1,this.$store.dispatch("main/alert",{color:"error",message:this.$t("common.somethingWentWrong")})}}}},po=ho,go=Object(m["a"])(po,uo,mo,!1,null,null,null),ko=go.exports;p()(go,{VBtn:k["a"],VCard:G["a"],VCardActions:J["a"],VCardText:J["b"],VDataTable:Ht["a"],VDialog:X["a"],VDivider:mt["a"],VIcon:f["a"],VSpacer:pt["a"],VToolbar:gt["a"],VToolbarItems:kt["a"],VToolbarTitle:kt["b"]});var fo=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-dialog",{attrs:{value:t.dialogs.bulkDuplicate,width:"500",transition:!1,scrollable:""},on:{"click:outside":t.closeDialog,keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"esc",27,e.key,["Esc","Escape"])?null:t.closeDialog(e)}}},[a("v-card",[a("v-toolbar",{staticClass:"mb-5",attrs:{height:48,dark:"",color:"primary",flat:""}},[a("v-toolbar-title",[t._v(" "+t._s(t.$t("common.duplicate"))+" ")]),a("v-spacer"),a("v-toolbar-items",[a("v-btn",{attrs:{icon:""},on:{click:t.closeDialog}},[a("v-icon",[t._v(" fas fa-times ")])],1)],1)],1),a("v-card-text",[a("v-text-field",{attrs:{type:"number",min:"0",outlined:"",dense:"","hide-details":"auto","error-messages":t.countErrors},on:{blur:t.blurCount,focus:t.focusCount},model:{value:t.count,callback:function(e){t.count=e},expression:"count"}})],1),a("v-divider"),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{text:"",color:"grey"},on:{click:t.closeDialog}},[t._v(" "+t._s(t.$t("common.close"))+" ")]),a("v-btn",{attrs:{text:"",color:"primary",loading:t.loading},on:{click:t.touch}},[t._v(" "+t._s(t.$t("common.duplicate"))+" ")])],1)],1)],1)},bo=[],vo={name:"TiktokAdsmanagerAdsetsDialogsBulkDuplicate",data(){return{loading:!1,count:0,touched:!1}},validations:{count:{required:_t["required"],minValue:Object(_t["minValue"])(1),maxValue:Object(_t["maxValue"])(10)}},computed:{...Object(r["c"])({dialogs:"tiktokAdsmanagerAdsets/dialogs",selected:"tiktokAdsmanagerAdsets/selected"}),countErrors(){return!this.touched||this.$v.count.minValue&&this.$v.count.required?this.touched&&!this.$v.count.maxValue?this.$t("validation.max",{length:10}):null:this.$t("validation.min",{length:1})}},watch:{count(){this.touched=!1}},methods:{closeDialog(){this.$store.dispatch("tiktokAdsmanagerAdsets/closeDialog","bulkDuplicate")},touch(){this.$v.$touch(),this.$v.$invalid?this.touched=!0:this.bulkDuplicate()},async bulkDuplicate(){try{this.loading=!0;const t=this.selected.map(t=>t.id),e=this.count,a=await this.api.post("/tiktok/adsets/duplicate",{ids:t,count:e});if(200!==a.status)throw new Error("status not 200");await this.$store.dispatch("tiktokAdsmanagerAdsets/loadMainTableData",{endpoint:"tiktok/adsets"}),await this.$store.dispatch("main/alert",{color:"success",message:this.$t("common.success")}),this.loading=!1,await this.$store.dispatch("tiktokAdsmanagerAdsets/clearSelected"),this.closeDialog()}catch(t){this.loading=!1,this.$store.dispatch("main/alert",{color:"error",message:this.$t("common.somethingWentWrong")})}},blurCount(){(!this.count||this.count<0)&&(this.count=0)},focusCount(){0===parseInt(this.count,10)&&(this.count="")}}},Ao=vo,yo=Object(m["a"])(Ao,fo,bo,!1,null,null,null),_o=yo.exports;p()(yo,{VBtn:k["a"],VCard:G["a"],VCardActions:J["a"],VCardText:J["b"],VDialog:X["a"],VDivider:mt["a"],VIcon:f["a"],VSpacer:pt["a"],VTextField:L["a"],VToolbar:gt["a"],VToolbarItems:kt["a"],VToolbarTitle:kt["b"]});var xo=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",[a("v-card-text",{staticStyle:{padding:"0px 8px 0px 8px"}},[a("v-data-table",{staticClass:"tiktok-data-table",attrs:{items:t.mainTableData,"items-per-page":t.footerOptions.itemsPerPage,headers:t.headers,"fixed-header":"",height:t.innerHeight-160,"show-select":"",loading:t.mainTableLoading,"hide-default-footer":"","custom-sort":t.customSortsTiktokAdsets},scopedSlots:t._u([{key:"header.data-table-select",fn:function(){return[a("v-simple-checkbox",{staticClass:"px-2",attrs:{ripple:!1,value:!!t.selected.length&&t.mainTableData.length===t.selected.length,indeterminate:!!t.selected.length&&t.mainTableData.length!==t.selected.length},on:{input:t.selectAll}})]},proxy:!0},{key:"body",fn:function(e){var s=e.items;return[a("tbody",t._l(s,(function(e){return a("tr",{key:"TiktokAdsmanagerAccountsMainTableRow-"+e.id},[a("td",[a("v-simple-checkbox",{staticClass:"px-2",attrs:{ripple:!1,value:t.selected.findIndex((function(t){return t.id===e.id}))>-1},on:{input:function(a){return t.selectItem(e,a)}}})],1),a("main-table-name",{attrs:{item:e}}),a("main-table-status",{attrs:{item:e}}),t._l(t.aggregateColumns,(function(s){return a("td",{key:"TiktokAdsmanagerAccountsMainTableDataCell-"+s,staticClass:"text-center"},[t._v(" "+t._s(t.statCellData(e,s))+" ")])}))],2)})),0)]}},{key:"footer",fn:function(){return[a("main-table-footer",{attrs:{"footer-options":t.footerOptions,"footer-pagination":t.footerPagination}})]},proxy:!0}],null,!0),model:{value:t.selected,callback:function(e){t.selected=e},expression:"selected"}})],1)],1)},To=[],$o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-data-footer",{attrs:{"show-first-last-page":"",options:t.footerOptions,pagination:t.footerPagination,"items-per-page-options":[10,30,50,100]},on:{"update:options":t.updateFooterOptions}})},Do=[],Co={name:"TiktokAdsmanagerAdsetsMainTableFooter",props:{footerOptions:{type:Object,required:!0},footerPagination:{type:Object,required:!0}},methods:{updateFooterOptions({page:t,itemsPerPage:e}){this.$store.dispatch("tiktokAdsmanagerAdsets/loadMainTableData",{endpoint:"tiktok/adsets",page:t,itemsPerPage:e})}}},wo=Co,So=Object(m["a"])(wo,$o,Do,!1,null,null,null),Vo=So.exports;p()(So,{VDataFooter:_e["a"]});var Oo=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("td",[t._v(" "+t._s(t.item.ad_name)+" ")])},Po=[],jo={name:"TiktokAdsmanagerAdsetsMainTableName",props:{item:{type:Object,required:!0}}},Io=jo,Eo=Object(m["a"])(Io,Oo,Po,!1,null,null,null),Mo=Eo.exports,Bo=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("td",{staticClass:"tiktok-adsets-status"},[a("v-chip",{staticClass:"ml-1",attrs:{color:t.getStatusChipColor(t.item.status),small:"",label:"",outlined:""}},[t._v(" "+t._s(t.item.status.toString().toUpperCase())+" ")]),a("div",[t.hasReason?a("v-tooltip",{attrs:{bottom:"","max-width":"300"},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on;return[a("v-chip",t._g({staticClass:"ml-1 my-2",attrs:{color:"red","x-small":"",label:"",outlined:""}},s),[t._v(" "+t._s(t.hasReason.reason.title)+" ")])]}}],null,!1,113799712)},[a("span",[t._v(t._s(t.hasReason.reason.reasons))])]):t._e()],1),a("div",[t.isModerationRejected?a("v-tooltip",{attrs:{bottom:"","max-width":"300"},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on;return[a("v-chip",t._g({staticClass:"ml-1 my-2 rejected-block",attrs:{color:"red","x-small":"",label:"",outlined:""},on:{click:t.handleRejection}},s),[a("span",[t._v("REJECTED")]),a("v-icon",{staticClass:"question-icon",attrs:{size:14,color:"red"}},[t._v(" far fa-question-circle ")])],1)]}}],null,!1,1643271756)},[a("span",[t._v(t._s(t.$t("adsmanager.adsets.rejectedQuestionMark")))])]):t._e()],1)],1)},No=[],Lo={name:"TiktokAdsmanagerAdsetsMainTableStatus",props:{item:{type:Object,required:!0}},data(){return{getStatusChipColor:je}},computed:{...Object(r["c"])({adsetsReasons:"tiktokAdsmanagerAdsets/adsetsReasons"}),hasReason(){const t=this.adsetsReasons.filter(t=>t.id===this.item.id);return t.length?t[0]:""},isModerationRejected(){return!this.hasReason&&(2===this.item.ad_audit_result_type||3===this.item.ad_audit_result_type)}},methods:{handleRejection(){this.$store.dispatch("tiktokAdsmanagerAdsets/handleAdsetRejectionReason",this.item.id)},getReasonChipColor(t){switch(t.toString()){case"3":return"red";case"2":return"orange"}}}},qo=Lo,Ro=(a("bf57"),Object(m["a"])(qo,Bo,No,!1,null,null,null)),Fo=Ro.exports;p()(Ro,{VChip:Me["a"],VIcon:f["a"],VTooltip:b["a"]});var zo={name:"TiktokAdsmanagerAdsetsMainTable",components:{MainTableName:Mo,MainTableStatus:Fo,MainTableFooter:Vo},mixins:[ge["a"],ke,pe["a"]],computed:{...Object(r["c"])({innerHeight:"main/innerHeight",mainTableData:"tiktokAdsmanagerAdsets/mainTableData",mainTableLoading:"tiktokAdsmanagerAdsets/mainTableLoading",mainTablePagination:"tiktokAdsmanagerAdsets/mainTablePagination",aggregateColumns:"tiktokAdsmanager/aggregateColumns"}),...Object(fe["b"])("tiktokAdsmanagerAdsets",["selected"]),headers(){const t=[{text:this.$t("common.name"),value:"name",width:200},{text:this.$t("common.status"),value:"status",width:150}];if(this.aggregateColumns)for(const e of this.aggregateColumns)t.push({text:this.$t("adsmanager.cols.tiktok."+e),value:"stat-"+e,sortable:!1,align:"center",width:150});return t}}},Wo=zo,Ho=(a("8977"),Object(m["a"])(Wo,xo,To,!1,null,null,null)),Yo=Ho.exports;p()(Ho,{VCard:G["a"],VCardText:J["b"],VDataTable:Ht["a"],VSimpleCheckbox:Ue["a"]});var Uo={name:"TiktokAdsManagerAdsets",components:{MainTable:Yo,Topbar:so,DialogsBulkDelete:ko,DialogsBulkDuplicate:_o,DialogsBulkChangeBudget:co},computed:{...Object(r["c"])({dialogs:"tiktokAdsmanagerAdsets/dialogs"})},created(){this.$store.dispatch("tiktokAdsmanagerAdsets/loadMainTableData",{endpoint:"tiktok/adsets"})}},Go=Uo,Jo=Object(m["a"])(Go,Xs,Ks,!1,null,null,null),Xo=Jo.exports,Ko=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticStyle:{padding:"8px"}},[t.dialogs.bulkDelete?a("dialogs-bulk-delete"):t._e(),t.dialogs.bulkChangeBudget?a("dialogs-bulk-change-budget"):t._e(),a("topbar"),a("main-table")],1)},Qo=[],Zo=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"d-flex align-center justify-space-between mb-2"},[a("div",[a("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on;return[a("v-btn",t._g({attrs:{small:"",disabled:0===t.selected.length,color:"primary",icon:"",value:t.selected,loading:t.loading.bulkRun},on:{click:t.bulkRun}},s),[a("v-icon",{attrs:{size:12}},[t._v(" fas fa-play ")])],1)]}}])},[a("span",[t._v(t._s(t.$t("common.run")))])]),a("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on;return[a("v-btn",t._g({attrs:{small:"",disabled:0===t.selected.length,color:"primary",icon:"",value:t.selected,loading:t.loading.bulkPause},on:{click:t.bulkPause}},s),[a("v-icon",{attrs:{size:12}},[t._v(" fas fa-stop ")])],1)]}}])},[a("span",[t._v(t._s(t.$t("common.toPause")))])]),a("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on;return[a("v-btn",t._g({attrs:{small:"",disabled:0===t.selected.length,color:"primary",icon:"",value:t.selected},on:{click:t.bulkChangeBudget}},s),[a("v-icon",{attrs:{size:15}},[t._v(" fas fa-dollar-sign ")])],1)]}}])},[a("span",[t._v(t._s(t.$t("common.changeBudget")))])]),a("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on;return[a("v-btn",t._g({attrs:{small:"",disabled:0===t.selected.length,color:"primary",icon:"",value:t.selected},on:{click:t.bulkDelete}},s),[a("v-icon",{attrs:{size:12}},[t._v(" fas fa-trash-alt ")])],1)]}}])},[a("span",[t._v(t._s(t.$t("common.delete")))])])],1),a("div",{staticClass:"d-flex align-center "},[a("common-stat-date"),a("v-text-field",{attrs:{dense:"",clearable:"",outlined:"",label:t.$t("filters.searchByNameOrID"),"single-line":"","prepend-inner-icon":"fas fa-search","hide-details":"",value:t.searchText},on:{input:t.filterName}})],1)])},ti=[],ei={name:"TiktokAdsmanagerCampaignsTopbar",components:{CommonStatDate:R},data(){return{searchText:"",loading:{bulkRun:!1,bulkPause:!1}}},computed:{...Object(r["c"])({selected:"tiktokAdsmanagerCampaigns/selected"})},methods:{filterName(t){this.searchText=t,setTimeout(async()=>{t===this.searchText&&await this.$store.dispatch("tiktokAdsmanagerCampaigns/loadMainTableData",{endpoint:"tiktok/campaigns",query:t})},500)},async bulkDelete(){this.$store.dispatch("tiktokAdsmanagerCampaigns/openDialog","bulkDelete")},async bulkChangeBudget(){this.$store.dispatch("tiktokAdsmanagerCampaigns/openDialog","bulkChangeBudget")},async bulkRun(){try{this.loading.bulkRun=!0;const t=this.selected.map(t=>t.id),e=await this.api.patch("/tiktok/campaigns/bulk-enable",{ids:t});if(200!==e.status)throw new Error("status not 200");await this.$store.dispatch("main/alert",{color:"success",message:this.$t("common.success")}),await this.$store.dispatch("tiktokAdsmanagerCampaigns/clearSelected")}catch(t){this.$store.dispatch("main/alert",{color:"error",message:this.$t("common.somethingWentWrong")})}finally{this.loading.bulkRun=!1}},async bulkPause(){try{this.loading.bulkPause=!0;const t=this.selected.map(t=>t.id),e=await this.api.patch("/tiktok/campaigns/bulk-pause",{ids:t});if(200!==e.status)throw new Error("status not 200");await this.$store.dispatch("main/alert",{color:"success",message:this.$t("common.success")}),await this.$store.dispatch("tiktokAdsmanagerCampaigns/clearSelected")}catch(t){this.$store.dispatch("main/alert",{color:"error",message:this.$t("common.somethingWentWrong")})}finally{this.loading.bulkPause=!1}}}},ai=ei,si=Object(m["a"])(ai,Zo,ti,!1,null,null,null),oi=si.exports;p()(si,{VBtn:k["a"],VIcon:f["a"],VTextField:L["a"],VTooltip:b["a"]});var ii=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-dialog",{attrs:{value:t.dialogs.bulkChangeBudget,width:"500",transition:!1,scrollable:""},on:{"click:outside":t.closeDialog,keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"esc",27,e.key,["Esc","Escape"])?null:t.closeDialog(e)}}},[a("v-card",[a("v-toolbar",{staticClass:"mb-5",attrs:{height:48,dark:"",color:"primary",flat:""}},[a("v-toolbar-title",[t._v(" "+t._s(t.$t("common.changeBudget"))+" ")]),a("v-spacer"),a("v-toolbar-items",[a("v-btn",{attrs:{icon:""},on:{click:t.closeDialog}},[a("v-icon",[t._v(" fas fa-times ")])],1)],1)],1),a("v-card-text",[a("v-text-field",{attrs:{suffix:"USD",type:"number",min:"0",outlined:"",dense:"","hide-details":"auto","error-messages":t.budgetErrors},on:{blur:t.blurBudget},model:{value:t.budget,callback:function(e){t.budget=e},expression:"budget"}})],1),a("v-divider"),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{text:"",color:"grey"},on:{click:t.closeDialog}},[t._v(" "+t._s(t.$t("common.close"))+" ")]),a("v-btn",{attrs:{text:"",color:"primary",loading:t.loading},on:{click:t.touch}},[t._v(" "+t._s(t.$t("common.update"))+" ")])],1)],1)],1)},ni=[],ri={name:"TiktokAdsmanagerCampaignsDialogsBulkChangeBudget",data(){return{loading:!1,budget:0,touched:!1}},validations:{budget:{required:_t["required"],minValue:Object(_t["minValue"])(50)}},computed:{...Object(r["c"])({dialogs:"tiktokAdsmanagerCampaigns/dialogs",selected:"tiktokAdsmanagerCampaigns/selected"}),budgetErrors(){return this.touched&&this.$v.budget.$invalid?this.$t("validation.min",{length:50}):null}},watch:{budget(){this.touched=!1}},methods:{closeDialog(){this.$store.dispatch("tiktokAdsmanagerCampaigns/closeDialog","bulkChangeBudget")},touch(){this.$v.$touch(),this.$v.$invalid?this.touched=!0:this.bulkChangeBudget()},async bulkChangeBudget(){try{this.loading=!0;const t=this.selected.map(t=>t.id),e=this.budget,a=await this.api.patch("/tiktok/campaigns/budget-change",{ids:t,budget:e});if(200!==a.status)throw new Error("status not 200");await this.$store.dispatch("tiktokAdsmanagerCampaigns/loadMainTableData",{endpoint:"tiktok/campaigns"}),await this.$store.dispatch("main/alert",{color:"success",message:this.$t("common.success")}),this.loading=!1,await this.$store.dispatch("tiktokAdsmanagerCampaigns/clearSelected"),this.closeDialog()}catch(t){this.loading=!1,this.$store.dispatch("main/alert",{color:"error",message:this.$t("common.somethingWentWrong")})}},blurBudget(){(!this.budget||this.budget<0)&&(this.budget=0)}}},li=ri,ci=Object(m["a"])(li,ii,ni,!1,null,null,null),di=ci.exports;p()(ci,{VBtn:k["a"],VCard:G["a"],VCardActions:J["a"],VCardText:J["b"],VDialog:X["a"],VDivider:mt["a"],VIcon:f["a"],VSpacer:pt["a"],VTextField:L["a"],VToolbar:gt["a"],VToolbarItems:kt["a"],VToolbarTitle:kt["b"]});var ui=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-dialog",{attrs:{value:t.dialogs.bulkDelete,width:"500",transition:!1,scrollable:""},on:{"click:outside":t.closeDialog,keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"esc",27,e.key,["Esc","Escape"])?null:t.closeDialog(e)}}},[a("v-card",[a("v-toolbar",{staticClass:"mb-5",attrs:{height:48,dark:"",color:"primary",flat:""}},[a("v-toolbar-title",[t._v(" "+t._s(t.$tc("adsmanager.campaigns.deleteNCampaigns",t.selected.length,{length:t.selected.length}))+" ")]),a("v-spacer"),a("v-toolbar-items",[a("v-btn",{attrs:{icon:""},on:{click:t.closeDialog}},[a("v-icon",[t._v(" fas fa-times ")])],1)],1)],1),a("v-card-text",[a("v-data-table",{attrs:{headers:t.headers,"hide-default-header":"","hide-default-footer":"",items:t.selected,"items-per-page":-1},scopedSlots:t._u([{key:"item.name",fn:function(e){var s=e.item;return[a("span",{staticClass:"px-2"},[t._v(" "+t._s(s.campaign_name)+" ")])]}}],null,!0)})],1),a("v-divider"),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{text:"",color:"grey"},on:{click:t.closeDialog}},[t._v(" "+t._s(t.$t("common.close"))+" ")]),a("v-btn",{attrs:{text:"",color:"red",loading:t.loading},on:{click:t.bulkDelete}},[t._v(" "+t._s(t.$t("common.delete"))+" ")])],1)],1)],1)},mi=[],hi={name:"TiktokAdsmanagerCampaignsDialogsBulkDelete",data(){return{loading:!1}},computed:{...Object(r["c"])({dialogs:"tiktokAdsmanagerCampaigns/dialogs",selected:"tiktokAdsmanagerCampaigns/selected"}),headers(){return[{text:this.$t("common.name"),value:"name",sortable:!1}]}},methods:{closeDialog(){this.$store.dispatch("tiktokAdsmanagerCampaigns/closeDialog","bulkDelete")},async bulkDelete(){try{this.loading=!0;const t=this.selected.map(t=>t.id);console.log(t);const e=await this.api.delete("/tiktok/campaigns/bulk-delete",{params:{ids:t}});if(200!==e.status)throw new Error("status not 200");await this.$store.dispatch("tiktokAdsmanagerCampaigns/loadMainTableData",{endpoint:"tiktok/campaigns"}),await this.$store.dispatch("main/alert",{color:"success",message:this.$t("common.deleted")}),this.loading=!1,await this.$store.dispatch("tiktokAdsmanagerCampaigns/clearSelected"),this.closeDialog()}catch(t){this.loading=!1,this.$store.dispatch("main/alert",{color:"error",message:this.$t("common.somethingWentWrong")})}}}},pi=hi,gi=Object(m["a"])(pi,ui,mi,!1,null,null,null),ki=gi.exports;p()(gi,{VBtn:k["a"],VCard:G["a"],VCardActions:J["a"],VCardText:J["b"],VDataTable:Ht["a"],VDialog:X["a"],VDivider:mt["a"],VIcon:f["a"],VSpacer:pt["a"],VToolbar:gt["a"],VToolbarItems:kt["a"],VToolbarTitle:kt["b"]});var fi=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",[a("v-card-text",{staticStyle:{padding:"0 8px 0 8px"}},[a("v-data-table",{staticClass:"tiktok-data-table",attrs:{items:t.mainTableData,"items-per-page":t.footerOptions.itemsPerPage,headers:t.cols,"fixed-header":"",height:t.innerHeight-160,"show-select":"",loading:t.mainTableLoading,"hide-default-footer":"","custom-sort":t.customSortsTiktokCampaigns},scopedSlots:t._u([{key:"header.data-table-select",fn:function(){return[a("v-simple-checkbox",{staticClass:"px-2",attrs:{ripple:!1,value:!!t.selected.length&&t.mainTableData.length===t.selected.length,indeterminate:!!t.selected.length&&t.mainTableData.length!==t.selected.length},on:{input:t.selectAll}})]},proxy:!0},{key:"body",fn:function(e){var s=e.items;return[a("tbody",t._l(s,(function(e){return a("tr",{key:"TiktokAdsmanagerAccountsMainTableRow-"+e.id},[a("td",[a("v-simple-checkbox",{staticClass:"px-2",attrs:{ripple:!1,value:t.selected.findIndex((function(t){return t.id===e.id}))>-1},on:{input:function(a){return t.selectItem(e,a)}}})],1),a("main-table-name",{attrs:{item:e}}),a("main-table-status",{attrs:{item:e}}),t._l(t.aggregateColumns,(function(s){return a("td",{key:"TiktokAdsmanagerAccountsMainTableDataCell-"+s,staticClass:"text-center"},[t._v(" "+t._s(t.statCellData(e,s))+" ")])}))],2)})),0)]}},{key:"footer",fn:function(){return[a("main-table-footer",{attrs:{"footer-options":t.footerOptions,"footer-pagination":t.footerPagination}})]},proxy:!0}],null,!0),model:{value:t.selected,callback:function(e){t.selected=e},expression:"selected"}})],1)],1)},bi=[],vi=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-data-footer",{attrs:{"show-first-last-page":"",options:t.footerOptions,pagination:t.footerPagination,"items-per-page-options":[10,30,50,100]},on:{"update:options":t.updateFooterOptions}})},Ai=[],yi={name:"TiktokAdsmanagerCampaignsMainTableFooter",props:{footerOptions:{type:Object,required:!0},footerPagination:{type:Object,required:!0}},methods:{updateFooterOptions({page:t,itemsPerPage:e}){this.$store.dispatch("tiktokAdsmanagerCampaigns/loadMainTableData",{endpoint:"tiktok/campaigns",page:t,itemsPerPage:e})}}},_i=yi,xi=Object(m["a"])(_i,vi,Ai,!1,null,null,null),Ti=xi.exports;p()(xi,{VDataFooter:_e["a"]});var $i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("td",[t._v(" "+t._s(t.item.campaign_name)+" ")])},Di=[],Ci={name:"TiktokAdsmanagerCampaignsMainTableName",props:{item:{type:Object,required:!0}}},wi=Ci,Si=Object(m["a"])(wi,$i,Di,!1,null,null,null),Vi=Si.exports,Oi=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("td",[a("v-chip",{staticClass:"ml-1",attrs:{color:t.getStatusChipColor(t.item.status),small:"",label:"",outlined:""}},[t._v(" "+t._s(t.item.status.toString().toUpperCase())+" ")])],1)},Pi=[],ji={name:"TiktokAdsmanagerCampaignsMainTableStatus",props:{item:{type:Object,required:!0}},data(){return{getStatusChipColor:je}}},Ii=ji,Ei=Object(m["a"])(Ii,Oi,Pi,!1,null,null,null),Mi=Ei.exports;p()(Ei,{VChip:Me["a"]});var Bi={name:"TiktokAdsmanagerCampaignsMainTable",components:{MainTableName:Vi,MainTableStatus:Mi,MainTableFooter:Ti},mixins:[ge["a"],ke,pe["a"]],computed:{...Object(r["c"])({innerHeight:"main/innerHeight",mainTableData:"tiktokAdsmanagerCampaigns/mainTableData",mainTableLoading:"tiktokAdsmanagerCampaigns/mainTableLoading",mainTablePagination:"tiktokAdsmanagerCampaigns/mainTablePagination",aggregateColumns:"tiktokAdsmanager/aggregateColumns"}),...Object(fe["b"])("tiktokAdsmanagerCampaigns",["selected"]),cols(){const t=[{text:this.$t("common.name"),value:"name",width:200},{text:this.$t("common.status"),value:"status",width:150}];if(this.aggregateColumns)for(const e of this.aggregateColumns)t.push({text:this.$t("adsmanager.cols.tiktok."+e),value:"stat-"+e,sortable:!1,align:"center",width:150});return t}}},Ni=Bi,Li=(a("b1aa"),Object(m["a"])(Ni,fi,bi,!1,null,null,null)),qi=Li.exports;p()(Li,{VCard:G["a"],VCardText:J["b"],VDataTable:Ht["a"],VSimpleCheckbox:Ue["a"]});var Ri={name:"TiktokAdsManagerCampaigns",components:{MainTable:qi,Topbar:oi,DialogsBulkDelete:ki,DialogsBulkChangeBudget:di},computed:{...Object(r["c"])({dialogs:"tiktokAdsmanagerCampaigns/dialogs"})},created(){this.$store.dispatch("tiktokAdsmanagerCampaigns/loadMainTableData",{endpoint:"tiktok/campaigns"})}},Fi=Ri,zi=Object(m["a"])(Fi,Ko,Qo,!1,null,null,null),Wi=zi.exports,Hi={name:"TiktokAdsManager",components:{Tabs:D,Accounts:ea,AdAccounts:es,Adsets:Xo,Ads:Js,Campaigns:Wi},computed:{componentName(){return"undefined"!==typeof this.$route.params.tab?this.$route.params.tab:"accounts"}}},Yi=Hi,Ui=Object(m["a"])(Yi,s,o,!1,null,null,null);e["default"]=Ui.exports},6417:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var s=a("78ef"),o=function(t){return(0,s.withParams)({type:"not"},(function(e,a){return!(0,s.req)(e)||!t.call(this,e,a)}))};e.default=o},6821:function(t,e,a){(function(){var e=a("00d8"),s=a("9a63").utf8,o=a("044b"),i=a("9a63").bin,n=function(t,a){t.constructor==String?t=a&&"binary"===a.encoding?i.stringToBytes(t):s.stringToBytes(t):o(t)?t=Array.prototype.slice.call(t,0):Array.isArray(t)||t.constructor===Uint8Array||(t=t.toString());for(var r=e.bytesToWords(t),l=8*t.length,c=1732584193,d=-271733879,u=-1732584194,m=271733878,h=0;h<r.length;h++)r[h]=16711935&(r[h]<<8|r[h]>>>24)|4278255360&(r[h]<<24|r[h]>>>8);r[l>>>5]|=128<<l%32,r[14+(l+64>>>9<<4)]=l;var p=n._ff,g=n._gg,k=n._hh,f=n._ii;for(h=0;h<r.length;h+=16){var b=c,v=d,A=u,y=m;c=p(c,d,u,m,r[h+0],7,-680876936),m=p(m,c,d,u,r[h+1],12,-389564586),u=p(u,m,c,d,r[h+2],17,606105819),d=p(d,u,m,c,r[h+3],22,-1044525330),c=p(c,d,u,m,r[h+4],7,-176418897),m=p(m,c,d,u,r[h+5],12,1200080426),u=p(u,m,c,d,r[h+6],17,-1473231341),d=p(d,u,m,c,r[h+7],22,-45705983),c=p(c,d,u,m,r[h+8],7,1770035416),m=p(m,c,d,u,r[h+9],12,-1958414417),u=p(u,m,c,d,r[h+10],17,-42063),d=p(d,u,m,c,r[h+11],22,-1990404162),c=p(c,d,u,m,r[h+12],7,1804603682),m=p(m,c,d,u,r[h+13],12,-40341101),u=p(u,m,c,d,r[h+14],17,-1502002290),d=p(d,u,m,c,r[h+15],22,1236535329),c=g(c,d,u,m,r[h+1],5,-165796510),m=g(m,c,d,u,r[h+6],9,-1069501632),u=g(u,m,c,d,r[h+11],14,643717713),d=g(d,u,m,c,r[h+0],20,-373897302),c=g(c,d,u,m,r[h+5],5,-701558691),m=g(m,c,d,u,r[h+10],9,38016083),u=g(u,m,c,d,r[h+15],14,-660478335),d=g(d,u,m,c,r[h+4],20,-405537848),c=g(c,d,u,m,r[h+9],5,568446438),m=g(m,c,d,u,r[h+14],9,-1019803690),u=g(u,m,c,d,r[h+3],14,-187363961),d=g(d,u,m,c,r[h+8],20,1163531501),c=g(c,d,u,m,r[h+13],5,-1444681467),m=g(m,c,d,u,r[h+2],9,-51403784),u=g(u,m,c,d,r[h+7],14,1735328473),d=g(d,u,m,c,r[h+12],20,-1926607734),c=k(c,d,u,m,r[h+5],4,-378558),m=k(m,c,d,u,r[h+8],11,-2022574463),u=k(u,m,c,d,r[h+11],16,1839030562),d=k(d,u,m,c,r[h+14],23,-35309556),c=k(c,d,u,m,r[h+1],4,-1530992060),m=k(m,c,d,u,r[h+4],11,1272893353),u=k(u,m,c,d,r[h+7],16,-155497632),d=k(d,u,m,c,r[h+10],23,-1094730640),c=k(c,d,u,m,r[h+13],4,681279174),m=k(m,c,d,u,r[h+0],11,-358537222),u=k(u,m,c,d,r[h+3],16,-722521979),d=k(d,u,m,c,r[h+6],23,76029189),c=k(c,d,u,m,r[h+9],4,-640364487),m=k(m,c,d,u,r[h+12],11,-421815835),u=k(u,m,c,d,r[h+15],16,530742520),d=k(d,u,m,c,r[h+2],23,-995338651),c=f(c,d,u,m,r[h+0],6,-198630844),m=f(m,c,d,u,r[h+7],10,1126891415),u=f(u,m,c,d,r[h+14],15,-1416354905),d=f(d,u,m,c,r[h+5],21,-57434055),c=f(c,d,u,m,r[h+12],6,1700485571),m=f(m,c,d,u,r[h+3],10,-1894986606),u=f(u,m,c,d,r[h+10],15,-1051523),d=f(d,u,m,c,r[h+1],21,-2054922799),c=f(c,d,u,m,r[h+8],6,1873313359),m=f(m,c,d,u,r[h+15],10,-30611744),u=f(u,m,c,d,r[h+6],15,-1560198380),d=f(d,u,m,c,r[h+13],21,1309151649),c=f(c,d,u,m,r[h+4],6,-145523070),m=f(m,c,d,u,r[h+11],10,-1120210379),u=f(u,m,c,d,r[h+2],15,718787259),d=f(d,u,m,c,r[h+9],21,-343485551),c=c+b>>>0,d=d+v>>>0,u=u+A>>>0,m=m+y>>>0}return e.endian([c,d,u,m])};n._ff=function(t,e,a,s,o,i,n){var r=t+(e&a|~e&s)+(o>>>0)+n;return(r<<i|r>>>32-i)+e},n._gg=function(t,e,a,s,o,i,n){var r=t+(e&s|a&~s)+(o>>>0)+n;return(r<<i|r>>>32-i)+e},n._hh=function(t,e,a,s,o,i,n){var r=t+(e^a^s)+(o>>>0)+n;return(r<<i|r>>>32-i)+e},n._ii=function(t,e,a,s,o,i,n){var r=t+(a^(e|~s))+(o>>>0)+n;return(r<<i|r>>>32-i)+e},n._blocksize=16,n._digestsize=16,t.exports=function(t,a){if(void 0===t||null===t)throw new Error("Illegal argument "+t);var s=e.wordsToBytes(n(t,a));return a&&a.asBytes?s:a&&a.asString?i.bytesToString(s):e.bytesToHex(s)}})()},"772d":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var s=a("78ef"),o=/^(?:(?:(?:https?|ftp):)?\/\/)(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z0-9\u00a1-\uffff][a-z0-9\u00a1-\uffff_-]{0,62})?[a-z0-9\u00a1-\uffff]\.)+(?:[a-z\u00a1-\uffff]{2,}\.?))(?::\d{2,5})?(?:[/?#]\S*)?$/i,i=(0,s.regex)("url",o);e.default=i},"78ef":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.req=e.regex=e.ref=e.len=void 0,Object.defineProperty(e,"withParams",{enumerable:!0,get:function(){return s.default}});var s=o(a("8750"));function o(t){return t&&t.__esModule?t:{default:t}}function i(t){return i="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i(t)}var n=function(t){if(Array.isArray(t))return!!t.length;if(void 0===t||null===t)return!1;if(!1===t)return!0;if(t instanceof Date)return!isNaN(t.getTime());if("object"===i(t)){for(var e in t)return!0;return!1}return!!String(t).length};e.req=n;var r=function(t){return Array.isArray(t)?t.length:"object"===i(t)?Object.keys(t).length:String(t).length};e.len=r;var l=function(t,e,a){return"function"===typeof t?t.call(e,a):a[t]};e.ref=l;var c=function(t,e){return(0,s.default)({type:t},(function(t){return!n(t)||e.test(t)}))};e.regex=c},"7ab4":function(t,e,a){},8750:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var s="web"===Object({NODE_ENV:"production",VUE_APP_I18N_LOCALE:"en",VUE_APP_I18N_FALLBACK_LOCALE:"en",BASE_URL:""}).BUILD?a("cb69").withParams:a("0234").withParams,o=s;e.default=o},8977:function(t,e,a){"use strict";a("2cb4")},"8eaa":function(t,e,a){"use strict";a("7ab4")},"91d3":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var s=a("78ef"),o=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:":";return(0,s.withParams)({type:"macAddress"},(function(e){if(!(0,s.req)(e))return!0;if("string"!==typeof e)return!1;var a="string"===typeof t&&""!==t?e.split(t):12===e.length||16===e.length?e.match(/.{2}/g):null;return null!==a&&(6===a.length||8===a.length)&&a.every(i)}))};e.default=o;var i=function(t){return t.toLowerCase().match(/^[0-9a-f]{2}$/)}},9751:function(t,e,a){},"9a63":function(t,e){var a={utf8:{stringToBytes:function(t){return a.bin.stringToBytes(unescape(encodeURIComponent(t)))},bytesToString:function(t){return decodeURIComponent(escape(a.bin.bytesToString(t)))}},bin:{stringToBytes:function(t){for(var e=[],a=0;a<t.length;a++)e.push(255&t.charCodeAt(a));return e},bytesToString:function(t){for(var e=[],a=0;a<t.length;a++)e.push(String.fromCharCode(t[a]));return e.join("")}}};t.exports=a},a4b8:function(t,e,a){t.exports=a.p+"img/TikTokExtensionSmall.9311b258.png"},aa82:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var s=a("78ef"),o=function(t){return(0,s.withParams)({type:"requiredIf",prop:t},(function(e,a){return!(0,s.ref)(t,this,a)||(0,s.req)(e)}))};e.default=o},aebf:function(t,e,a){},b1aa:function(t,e,a){"use strict";a("4fd4")},b5ae:function(t,e,a){"use strict";function s(t){return s="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s(t)}Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"alpha",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(e,"alphaNum",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(e,"and",{enumerable:!0,get:function(){return v.default}}),Object.defineProperty(e,"between",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(e,"decimal",{enumerable:!0,get:function(){return T.default}}),Object.defineProperty(e,"email",{enumerable:!0,get:function(){return l.default}}),e.helpers=void 0,Object.defineProperty(e,"integer",{enumerable:!0,get:function(){return x.default}}),Object.defineProperty(e,"ipAddress",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(e,"macAddress",{enumerable:!0,get:function(){return d.default}}),Object.defineProperty(e,"maxLength",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(e,"maxValue",{enumerable:!0,get:function(){return _.default}}),Object.defineProperty(e,"minLength",{enumerable:!0,get:function(){return m.default}}),Object.defineProperty(e,"minValue",{enumerable:!0,get:function(){return y.default}}),Object.defineProperty(e,"not",{enumerable:!0,get:function(){return A.default}}),Object.defineProperty(e,"numeric",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(e,"or",{enumerable:!0,get:function(){return b.default}}),Object.defineProperty(e,"required",{enumerable:!0,get:function(){return h.default}}),Object.defineProperty(e,"requiredIf",{enumerable:!0,get:function(){return p.default}}),Object.defineProperty(e,"requiredUnless",{enumerable:!0,get:function(){return g.default}}),Object.defineProperty(e,"sameAs",{enumerable:!0,get:function(){return k.default}}),Object.defineProperty(e,"url",{enumerable:!0,get:function(){return f.default}});var o=w(a("6235")),i=w(a("3a54")),n=w(a("45b8")),r=w(a("ec11")),l=w(a("5d75")),c=w(a("c99d")),d=w(a("91d3")),u=w(a("2a12")),m=w(a("5db3")),h=w(a("d4f4")),p=w(a("aa82")),g=w(a("e652")),k=w(a("b6cb")),f=w(a("772d")),b=w(a("d294")),v=w(a("3360")),A=w(a("6417")),y=w(a("eb66")),_=w(a("46bc")),x=w(a("1331")),T=w(a("c301")),$=C(a("78ef"));function D(t){if("function"!==typeof WeakMap)return null;var e=new WeakMap,a=new WeakMap;return(D=function(t){return t?a:e})(t)}function C(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||"object"!==s(t)&&"function"!==typeof t)return{default:t};var a=D(e);if(a&&a.has(t))return a.get(t);var o={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var n in t)if("default"!==n&&Object.prototype.hasOwnProperty.call(t,n)){var r=i?Object.getOwnPropertyDescriptor(t,n):null;r&&(r.get||r.set)?Object.defineProperty(o,n,r):o[n]=t[n]}return o.default=t,a&&a.set(t,o),o}function w(t){return t&&t.__esModule?t:{default:t}}e.helpers=$},b6cb:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var s=a("78ef"),o=function(t){return(0,s.withParams)({type:"sameAs",eq:t},(function(e,a){return e===(0,s.ref)(t,this,a)}))};e.default=o},bf57:function(t,e,a){"use strict";a("9751")},c301:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var s=a("78ef"),o=(0,s.regex)("decimal",/^[-]?\d*(\.\d+)?$/);e.default=o},c6a6:function(t,e,a){"use strict";a("2bfd");var s=a("b974"),o=a("8654"),i=a("d9f7"),n=a("80d2");const r={...s["b"],offsetY:!0,offsetOverflow:!0,transition:!1};e["a"]=s["a"].extend({name:"v-autocomplete",props:{allowOverflow:{type:Boolean,default:!0},autoSelectFirst:{type:Boolean,default:!1},filter:{type:Function,default:(t,e,a)=>a.toLocaleLowerCase().indexOf(e.toLocaleLowerCase())>-1},hideNoData:Boolean,menuProps:{type:s["a"].options.props.menuProps.type,default:()=>r},noFilter:Boolean,searchInput:{type:String,default:void 0}},data(){return{lazySearch:this.searchInput}},computed:{classes(){return{...s["a"].options.computed.classes.call(this),"v-autocomplete":!0,"v-autocomplete--is-selecting-index":this.selectedIndex>-1}},computedItems(){return this.filteredItems},selectedValues(){return this.selectedItems.map(t=>this.getValue(t))},hasDisplayedItems(){return this.hideSelected?this.filteredItems.some(t=>!this.hasItem(t)):this.filteredItems.length>0},currentRange(){return null==this.selectedItem?0:String(this.getText(this.selectedItem)).length},filteredItems(){return!this.isSearching||this.noFilter||null==this.internalSearch?this.allItems:this.allItems.filter(t=>this.filter(t,String(this.internalSearch),String(this.getText(t))))},internalSearch:{get(){return this.lazySearch},set(t){this.lazySearch=t,this.$emit("update:search-input",t)}},isAnyValueAllowed(){return!1},isDirty(){return this.searchIsDirty||this.selectedItems.length>0},isSearching(){return this.multiple&&this.searchIsDirty||this.searchIsDirty&&this.internalSearch!==this.getText(this.selectedItem)},menuCanShow(){return!!this.isFocused&&(this.hasDisplayedItems||!this.hideNoData)},$_menuProps(){const t=s["a"].options.computed.$_menuProps.call(this);return t.contentClass=("v-autocomplete__content "+(t.contentClass||"")).trim(),{...r,...t}},searchIsDirty(){return null!=this.internalSearch&&""!==this.internalSearch},selectedItem(){return this.multiple?null:this.selectedItems.find(t=>this.valueComparator(this.getValue(t),this.getValue(this.internalValue)))},listData(){const t=s["a"].options.computed.listData.call(this);return t.props={...t.props,items:this.virtualizedItems,noFilter:this.noFilter||!this.isSearching||!this.filteredItems.length,searchInput:this.internalSearch},t}},watch:{filteredItems:"onFilteredItemsChanged",internalValue:"setSearch",isFocused(t){t?(document.addEventListener("copy",this.onCopy),this.$refs.input&&this.$refs.input.select()):(document.removeEventListener("copy",this.onCopy),this.updateSelf())},isMenuActive(t){!t&&this.hasSlot&&(this.lazySearch=void 0)},items(t,e){e&&e.length||!this.hideNoData||!this.isFocused||this.isMenuActive||!t.length||this.activateMenu()},searchInput(t){this.lazySearch=t},internalSearch:"onInternalSearchChanged",itemText:"updateSelf"},created(){this.setSearch()},methods:{onFilteredItemsChanged(t,e){t!==e&&(this.setMenuIndex(-1),this.$nextTick(()=>{this.internalSearch&&(1===t.length||this.autoSelectFirst)&&(this.$refs.menu.getTiles(),this.setMenuIndex(0))}))},onInternalSearchChanged(){this.updateMenuDimensions()},updateMenuDimensions(){this.isMenuActive&&this.$refs.menu&&this.$refs.menu.updateDimensions()},changeSelectedIndex(t){this.searchIsDirty||(this.multiple&&t===n["w"].left?-1===this.selectedIndex?this.selectedIndex=this.selectedItems.length-1:this.selectedIndex--:this.multiple&&t===n["w"].right?this.selectedIndex>=this.selectedItems.length-1?this.selectedIndex=-1:this.selectedIndex++:t!==n["w"].backspace&&t!==n["w"].delete||this.deleteCurrentItem())},deleteCurrentItem(){if(this.readonly)return;const t=this.selectedItems.length-1;if(-1===this.selectedIndex&&0!==t)return void(this.selectedIndex=t);const e=this.selectedItems[this.selectedIndex];if(this.getDisabled(e))return;const a=this.selectedIndex===t?this.selectedIndex-1:this.selectedItems[this.selectedIndex+1]?this.selectedIndex:-1;-1===a?this.setValue(this.multiple?[]:void 0):this.selectItem(e),this.selectedIndex=a},clearableCallback(){this.internalSearch=void 0,s["a"].options.methods.clearableCallback.call(this)},genInput(){const t=o["a"].options.methods.genInput.call(this);return t.data=Object(i["a"])(t.data,{attrs:{"aria-activedescendant":Object(n["o"])(this.$refs.menu,"activeTile.id"),autocomplete:Object(n["o"])(t.data,"attrs.autocomplete","off")},domProps:{value:this.internalSearch}}),t},genInputSlot(){const t=s["a"].options.methods.genInputSlot.call(this);return t.data.attrs.role="combobox",t},genSelections(){return this.hasSlot||this.multiple?s["a"].options.methods.genSelections.call(this):[]},onClick(t){this.isDisabled||(this.selectedIndex>-1?this.selectedIndex=-1:this.onFocus(),this.isAppendInner(t.target)||this.activateMenu())},onInput(t){if(this.selectedIndex>-1||!t.target)return;const e=t.target,a=e.value;e.value&&this.activateMenu(),this.internalSearch=a,this.badInput=e.validity&&e.validity.badInput},onKeyDown(t){const e=t.keyCode;s["a"].options.methods.onKeyDown.call(this,t),this.changeSelectedIndex(e)},onSpaceDown(t){},onTabDown(t){s["a"].options.methods.onTabDown.call(this,t),this.updateSelf()},onUpDown(t){t.preventDefault(),this.activateMenu()},selectItem(t){s["a"].options.methods.selectItem.call(this,t),this.setSearch()},setSelectedItems(){s["a"].options.methods.setSelectedItems.call(this),this.isFocused||this.setSearch()},setSearch(){this.$nextTick(()=>{this.multiple&&this.internalSearch&&this.isMenuActive||(this.internalSearch=!this.selectedItems.length||this.multiple||this.hasSlot?null:this.getText(this.selectedItem))})},updateSelf(){(this.searchIsDirty||this.internalValue)&&(this.valueComparator(this.internalSearch,this.getValue(this.internalValue))||this.setSearch())},hasItem(t){return this.selectedValues.indexOf(this.getValue(t))>-1},onCopy(t){if(-1===this.selectedIndex)return;const e=this.selectedItems[this.selectedIndex],a=this.getText(e);t.clipboardData.setData("text/plain",a),t.clipboardData.setData("text/vnd.vuetify.autocomplete.item+plain",a),t.preventDefault()}}})},c99d:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var s=a("78ef"),o=(0,s.withParams)({type:"ipAddress"},(function(t){if(!(0,s.req)(t))return!0;if("string"!==typeof t)return!1;var e=t.split(".");return 4===e.length&&e.every(i)}));e.default=o;var i=function(t){if(t.length>3||0===t.length)return!1;if("0"===t[0]&&"0"!==t)return!1;if(!t.match(/^\d+$/))return!1;var e=0|+t;return e>=0&&e<=255}},cb69:function(t,e,a){"use strict";(function(t){function a(t){return a="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.withParams=void 0;var s="undefined"!==typeof window?window:"undefined"!==typeof t?t:{},o=function(t,e){return"object"===a(t)&&void 0!==e?e:t((function(){}))},i=s.vuelidate?s.vuelidate.withParams:o;e.withParams=i}).call(this,a("c8ba"))},d294:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var s=a("78ef"),o=function(){for(var t=arguments.length,e=new Array(t),a=0;a<t;a++)e[a]=arguments[a];return(0,s.withParams)({type:"or"},(function(){for(var t=this,a=arguments.length,s=new Array(a),o=0;o<a;o++)s[o]=arguments[o];return e.length>0&&e.reduce((function(e,a){return e||a.apply(t,s)}),!1)}))};e.default=o},d4f4:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var s=a("78ef"),o=(0,s.withParams)({type:"required"},(function(t){return"string"===typeof t?(0,s.req)(t.trim()):(0,s.req)(t)}));e.default=o},e652:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var s=a("78ef"),o=function(t){return(0,s.withParams)({type:"requiredUnless",prop:t},(function(e,a){return!!(0,s.ref)(t,this,a)||(0,s.req)(e)}))};e.default=o},eb66:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var s=a("78ef"),o=function(t){return(0,s.withParams)({type:"minValue",min:t},(function(e){return!(0,s.req)(e)||(!/\s/.test(e)||e instanceof Date)&&+e>=+t}))};e.default=o},ec11:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var s=a("78ef"),o=function(t,e){return(0,s.withParams)({type:"between",min:t,max:e},(function(a){return!(0,s.req)(a)||(!/\s/.test(a)||a instanceof Date)&&+t<=+a&&+e>=+a}))};e.default=o},f168:function(t,e,a){"use strict";e["a"]={methods:{clipboard(t){this.$clipboard(t),this.$message.success("Скопировано",1)},copyToClipboard(t){const e=document.createElement("textarea");e.addEventListener("focusin",t=>t.stopPropagation()),e.value=t,document.body.appendChild(e),e.select(),document.execCommand("copy"),document.body.removeChild(e),this.$store.dispatch("main/alert",{color:"success",message:this.$t("common.copied")})}}}},ff44:function(t,e,a){}}]);
//# sourceMappingURL=chunk-79c05aae.3477b1dd.js.map